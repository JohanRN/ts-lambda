"use strict";var hU=Object.create;var dp=Object.defineProperty;var yU=Object.getOwnPropertyDescriptor;var gU=Object.getOwnPropertyNames;var _U=Object.getPrototypeOf,bU=Object.prototype.hasOwnProperty;var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xU=(e,t)=>{for(var n in t)dp(e,n,{get:t[n],enumerable:!0})},Ax=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gU(t))!bU.call(e,s)&&s!==n&&dp(e,s,{get:()=>t[s],enumerable:!(r=yU(t,s))||r.enumerable});return e};var wx=(e,t,n)=>(n=e!=null?hU(_U(e)):{},Ax(t||!e||!e.__esModule?dp(n,"default",{value:e,enumerable:!0}):n,e)),kU=e=>Ax(dp({},"__esModule",{value:!0}),e);var Bx=T((gie,Cx)=>{var Sx=9007199254740991,AU="[object Arguments]",wU="[object Function]",EU="[object GeneratorFunction]",OU=/^(?:0|[1-9]\d*)$/;function Tx(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function vU(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var pc=Object.prototype,dc=pc.hasOwnProperty,Rx=pc.toString,SU=pc.propertyIsEnumerable,vx=Math.max;function TU(e,t){var n=FU(e)||PU(e)?vU(e.length,String):[],r=n.length,s=!!r;for(var a in e)(t||dc.call(e,a))&&!(s&&(a=="length"||Ix(a,r)))&&n.push(a);return n}function RU(e,t,n,r){return e===void 0||Fh(e,pc[n])&&!dc.call(r,n)?t:e}function NU(e,t,n){var r=e[t];(!(dc.call(e,t)&&Fh(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function IU(e){if(!$h(e))return DU(e);var t=UU(e),n=[];for(var r in e)r=="constructor"&&(t||!dc.call(e,r))||n.push(r);return n}function Nx(e,t){return t=vx(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,s=vx(n.length-t,0),a=Array(s);++r<s;)a[r]=n[t+r];r=-1;for(var i=Array(t+1);++r<t;)i[r]=n[r];return i[t]=a,Tx(e,this,i)}}function CU(e,t,n,r){n||(n={});for(var s=-1,a=t.length;++s<a;){var i=t[s],o=r?r(n[i],e[i],i,n,e):void 0;NU(n,i,o===void 0?e[i]:o)}return n}function BU(e){return Nx(function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(s--,a):void 0,i&&MU(n[0],n[1],i)&&(a=s<3?void 0:a,s=1),t=Object(t);++r<s;){var o=n[r];o&&e(t,o,r,a)}return t})}function Ix(e,t){return t=t??Sx,!!t&&(typeof e=="number"||OU.test(e))&&e>-1&&e%1==0&&e<t}function MU(e,t,n){if(!$h(n))return!1;var r=typeof t;return(r=="number"?Gh(n)&&Ix(t,n.length):r=="string"&&t in n)?Fh(n[t],e):!1}function UU(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||pc;return e===n}function DU(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}function Fh(e,t){return e===t||e!==e&&t!==t}function PU(e){return GU(e)&&dc.call(e,"callee")&&(!SU.call(e,"callee")||Rx.call(e)==AU)}var FU=Array.isArray;function Gh(e){return e!=null&&jU(e.length)&&!$U(e)}function GU(e){return KU(e)&&Gh(e)}function $U(e){var t=$h(e)?Rx.call(e):"";return t==wU||t==EU}function jU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Sx}function $h(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function KU(e){return!!e&&typeof e=="object"}var qU=BU(function(e,t,n,r){CU(t,HU(t),e,r)}),VU=Nx(function(e){return e.push(void 0,RU),Tx(qU,void 0,e)});function HU(e){return Gh(e)?TU(e,!0):IU(e)}Cx.exports=VU});var Dx=T((_ie,Ux)=>{var XU=9007199254740991,LU="[object Arguments]",zU="[object Function]",WU="[object GeneratorFunction]",jh=Object.prototype,YU=jh.hasOwnProperty,Mx=jh.toString,QU=jh.propertyIsEnumerable;function JU(e){return eD(e)&&YU.call(e,"callee")&&(!QU.call(e,"callee")||Mx.call(e)==LU)}function ZU(e){return e!=null&&nD(e.length)&&!tD(e)}function eD(e){return sD(e)&&ZU(e)}function tD(e){var t=rD(e)?Mx.call(e):"";return t==zU||t==WU}function nD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=XU}function rD(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function sD(e){return!!e&&typeof e=="object"}Ux.exports=JU});var Px=T(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.isArguments=ja.defaults=ja.noop=void 0;var aD=Bx();ja.defaults=aD;var iD=Dx();ja.isArguments=iD;function oD(){}ja.noop=oD});var Gx=T((xie,Fx)=>{var xl=1e3,kl=xl*60,Al=kl*60,Ji=Al*24,lD=Ji*7,uD=Ji*365.25;Fx.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return cD(e);if(n==="number"&&isFinite(e))return t.long?pD(e):fD(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function cD(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*uD;case"weeks":case"week":case"w":return n*lD;case"days":case"day":case"d":return n*Ji;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Al;case"minutes":case"minute":case"mins":case"min":case"m":return n*kl;case"seconds":case"second":case"secs":case"sec":case"s":return n*xl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function fD(e){var t=Math.abs(e);return t>=Ji?Math.round(e/Ji)+"d":t>=Al?Math.round(e/Al)+"h":t>=kl?Math.round(e/kl)+"m":t>=xl?Math.round(e/xl)+"s":e+"ms"}function pD(e){var t=Math.abs(e);return t>=Ji?hp(e,t,Ji,"day"):t>=Al?hp(e,t,Al,"hour"):t>=kl?hp(e,t,kl,"minute"):t>=xl?hp(e,t,xl,"second"):e+" ms"}function hp(e,t,n,r){var s=t>=n*1.5;return Math.round(e/n)+" "+r+(s?"s":"")}});var Kh=T((kie,$x)=>{function dD(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=s,n.enabled=i,n.humanize=Gx(),n.destroy=u,Object.keys(e).forEach(c=>{n[c]=e[c]}),n.names=[],n.skips=[],n.formatters={};function t(c){let f=0;for(let m=0;m<c.length;m++)f=(f<<5)-f+c.charCodeAt(m),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(c){let f,m=null,g,y;function w(...S){if(!w.enabled)return;let R=w,B=Number(new Date),P=B-(f||B);R.diff=P,R.prev=f,R.curr=B,f=B,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let W=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(U,F)=>{if(U==="%%")return"%";W++;let q=n.formatters[F];if(typeof q=="function"){let ee=S[W];U=q.call(R,ee),S.splice(W,1),W--}return U}),n.formatArgs.call(R,S),(R.log||n.log).apply(R,S)}return w.namespace=c,w.useColors=n.useColors(),w.color=n.selectColor(c),w.extend=r,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(g!==n.namespaces&&(g=n.namespaces,y=n.enabled(c)),y),set:S=>{m=S}}),typeof n.init=="function"&&n.init(w),w}function r(c,f){let m=n(this.namespace+(typeof f>"u"?":":f)+c);return m.log=this.log,m}function s(c){n.save(c),n.namespaces=c,n.names=[],n.skips=[];let f,m=(typeof c=="string"?c:"").split(/[\s,]+/),g=m.length;for(f=0;f<g;f++)m[f]&&(c=m[f].replace(/\*/g,".*?"),c[0]==="-"?n.skips.push(new RegExp("^"+c.slice(1)+"$")):n.names.push(new RegExp("^"+c+"$")))}function a(){let c=[...n.names.map(o),...n.skips.map(o).map(f=>"-"+f)].join(",");return n.enable(""),c}function i(c){if(c[c.length-1]==="*")return!0;let f,m;for(f=0,m=n.skips.length;f<m;f++)if(n.skips[f].test(c))return!1;for(f=0,m=n.names.length;f<m;f++)if(n.names[f].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function l(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}$x.exports=dD});var jx=T((rr,yp)=>{rr.formatArgs=hD;rr.save=yD;rr.load=gD;rr.useColors=mD;rr.storage=_D();rr.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();rr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mD(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function hD(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+yp.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(r=n))}),e.splice(r,0,t)}rr.log=console.debug||console.log||(()=>{});function yD(e){try{e?rr.storage.setItem("debug",e):rr.storage.removeItem("debug")}catch{}}function gD(){let e;try{e=rr.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function _D(){try{return localStorage}catch{}}yp.exports=Kh()(rr);var{formatters:bD}=yp.exports;bD.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var qx=T((Aie,Kx)=>{"use strict";Kx.exports=(e,t=process.argv)=>{let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return r!==-1&&(s===-1||r<s)}});var Xx=T((wie,Hx)=>{"use strict";var xD=require("os"),Vx=require("tty"),Ar=qx(),{env:Ht}=process,gp;Ar("no-color")||Ar("no-colors")||Ar("color=false")||Ar("color=never")?gp=0:(Ar("color")||Ar("colors")||Ar("color=true")||Ar("color=always"))&&(gp=1);function kD(){if("FORCE_COLOR"in Ht)return Ht.FORCE_COLOR==="true"?1:Ht.FORCE_COLOR==="false"?0:Ht.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Ht.FORCE_COLOR,10),3)}function AD(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function wD(e,{streamIsTTY:t,sniffFlags:n=!0}={}){let r=kD();r!==void 0&&(gp=r);let s=n?gp:r;if(s===0)return 0;if(n){if(Ar("color=16m")||Ar("color=full")||Ar("color=truecolor"))return 3;if(Ar("color=256"))return 2}if(e&&!t&&s===void 0)return 0;let a=s||0;if(Ht.TERM==="dumb")return a;if(process.platform==="win32"){let i=xD.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in Ht)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(i=>i in Ht)||Ht.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Ht)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ht.TEAMCITY_VERSION)?1:0;if(Ht.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ht){let i=Number.parseInt((Ht.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ht.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ht.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ht.TERM)||"COLORTERM"in Ht?1:a}function qh(e,t={}){let n=wD(e,{streamIsTTY:e&&e.isTTY,...t});return AD(n)}Hx.exports={supportsColor:qh,stdout:qh({isTTY:Vx.isatty(1)}),stderr:qh({isTTY:Vx.isatty(2)})}});var zx=T((tn,bp)=>{var ED=require("tty"),_p=require("util");tn.init=ID;tn.log=TD;tn.formatArgs=vD;tn.save=RD;tn.load=ND;tn.useColors=OD;tn.destroy=_p.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");tn.colors=[6,2,3,4,5,1];try{let e=Xx();e&&(e.stderr||e).level>=2&&(tn.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}tn.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function OD(){return"colors"in tn.inspectOpts?!!tn.inspectOpts.colors:ED.isatty(process.stderr.fd)}function vD(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,s="\x1B[3"+(r<8?r:"8;5;"+r),a=`  ${s};1m${t} \x1B[0m`;e[0]=a+e[0].split(`
`).join(`
`+a),e.push(s+"m+"+bp.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=SD()+t+" "+e[0]}function SD(){return tn.inspectOpts.hideDate?"":new Date().toISOString()+" "}function TD(...e){return process.stderr.write(_p.format(...e)+`
`)}function RD(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function ND(){return process.env.DEBUG}function ID(e){e.inspectOpts={};let t=Object.keys(tn.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=tn.inspectOpts[t[n]]}bp.exports=Kh()(tn);var{formatters:Lx}=bp.exports;Lx.o=function(e){return this.inspectOpts.colors=this.useColors,_p.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Lx.O=function(e){return this.inspectOpts.colors=this.useColors,_p.inspect(e,this.inspectOpts)}});var Wx=T((Eie,Vh)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Vh.exports=jx():Vh.exports=zx()});var Jx=T(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.genRedactedString=Xs.getStringValue=Xs.MAX_ARGUMENT_LENGTH=void 0;var CD=Wx(),Hh=200;Xs.MAX_ARGUMENT_LENGTH=Hh;var BD="ioredis";function Yx(e){if(e!==null)switch(typeof e){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(e))return e.toString("hex");if(Array.isArray(e))return e.join(",");try{return JSON.stringify(e)}catch{return}case"string":return e}}Xs.getStringValue=Yx;function Qx(e,t){let{length:n}=e;return n<=t?e:e.slice(0,t)+' ... <REDACTED full-length="'+n+'">'}Xs.genRedactedString=Qx;function MD(e){let t=(0,CD.default)(`${BD}:${e}`);function n(...r){if(t.enabled){for(let s=1;s<r.length;s++){let a=Yx(r[s]);typeof a=="string"&&a.length>Hh&&(r[s]=Qx(a,Hh))}return t.apply(null,r)}}return Object.defineProperties(n,{namespace:{get(){return t.namespace}},enabled:{get(){return t.enabled}},destroy:{get(){return t.destroy}},log:{get(){return t.log},set(r){t.log=r}}}),n}Xs.default=MD});var ek=T(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var Zx=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,UD={RedisCloudFixed:{ca:Zx},RedisCloudFlexible:{ca:Zx}};Xh.default=UD});var zh=T(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.noop=Ie.defaults=Ie.Debug=Ie.zipMap=Ie.CONNECTION_CLOSED_ERROR_MSG=Ie.shuffle=Ie.sample=Ie.resolveTLSProfile=Ie.parseURL=Ie.optimizeErrorStack=Ie.toArg=Ie.convertMapToArray=Ie.convertObjectToArray=Ie.timeout=Ie.packObject=Ie.isInt=Ie.wrapMultiResult=Ie.convertBufferToString=void 0;var tk=require("url"),Lh=Px();Object.defineProperty(Ie,"defaults",{enumerable:!0,get:function(){return Lh.defaults}});Object.defineProperty(Ie,"noop",{enumerable:!0,get:function(){return Lh.noop}});var DD=Jx();Ie.Debug=DD.default;var PD=ek();function nk(e,t){if(e instanceof Buffer)return e.toString(t);if(Array.isArray(e)){let n=e.length,r=Array(n);for(let s=0;s<n;++s)r[s]=e[s]instanceof Buffer&&t==="utf8"?e[s].toString():nk(e[s],t);return r}return e}Ie.convertBufferToString=nk;function FD(e){if(!e)return null;let t=[],n=e.length;for(let r=0;r<n;++r){let s=e[r];s instanceof Error?t.push([s]):t.push([null,s])}return t}Ie.wrapMultiResult=FD;function rk(e){let t=parseFloat(e);return!isNaN(e)&&(t|0)===t}Ie.isInt=rk;function GD(e){let t={},n=e.length;for(let r=1;r<n;r+=2)t[e[r-1]]=e[r];return t}Ie.packObject=GD;function $D(e,t){let n=null,r=function(){n&&(clearTimeout(n),n=null,e.apply(this,arguments))};return n=setTimeout(r,t,new Error("timeout")),r}Ie.timeout=$D;function jD(e){let t=[],n=Object.keys(e);for(let r=0,s=n.length;r<s;r++)t.push(n[r],e[n[r]]);return t}Ie.convertObjectToArray=jD;function KD(e){let t=[],n=0;return e.forEach(function(r,s){t[n]=s,t[n+1]=r,n+=2}),t}Ie.convertMapToArray=KD;function qD(e){return e===null||typeof e>"u"?"":String(e)}Ie.toArg=qD;function VD(e,t,n){let r=t.split(`
`),s="",a;for(a=1;a<r.length&&r[a].indexOf(n)!==-1;++a);for(let i=a;i<r.length;++i)s+=`
`+r[i];if(e.stack){let i=e.stack.indexOf(`
`);e.stack=e.stack.slice(0,i)+s}return e}Ie.optimizeErrorStack=VD;function HD(e){if(rk(e))return{port:e};let t=(0,tk.parse)(e,!0,!0);!t.slashes&&e[0]!=="/"&&(e="//"+e,t=(0,tk.parse)(e,!0,!0));let n=t.query||{},r={};if(t.auth){let s=t.auth.indexOf(":");r.username=s===-1?t.auth:t.auth.slice(0,s),r.password=s===-1?"":t.auth.slice(s+1)}if(t.pathname&&(t.protocol==="redis:"||t.protocol==="rediss:"?t.pathname.length>1&&(r.db=t.pathname.slice(1)):r.path=t.pathname),t.host&&(r.host=t.hostname),t.port&&(r.port=t.port),typeof n.family=="string"){let s=Number.parseInt(n.family,10);Number.isNaN(s)||(r.family=s)}return(0,Lh.defaults)(r,n),r}Ie.parseURL=HD;function XD(e){let t=e?.tls;typeof t=="string"&&(t={profile:t});let n=PD.default[t?.profile];return n&&(t=Object.assign({},n,t),delete t.profile,e=Object.assign({},e,{tls:t})),e}Ie.resolveTLSProfile=XD;function LD(e,t=0){let n=e.length;return t>=n?null:e[t+Math.floor(Math.random()*(n-t))]}Ie.sample=LD;function zD(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}Ie.shuffle=zD;Ie.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function WD(e,t){let n=new Map;return e.forEach((r,s)=>{n.set(r,t[s])}),n}Ie.zipMap=WD});var xp=T((Tie,YD)=>{YD.exports={list:["acl","acl|cat","acl|deluser","acl|dryrun","acl|genpass","acl|getuser","acl|help","acl|list","acl|load","acl|log","acl|save","acl|setuser","acl|users","acl|whoami","append","asking","auth","bgrewriteaof","bgsave","bitcount","bitfield","bitfield_ro","bitop","bitpos","blmove","blmpop","blpop","brpop","brpoplpush","bzmpop","bzpopmax","bzpopmin","client","client|caching","client|getname","client|getredir","client|help","client|id","client|info","client|kill","client|list","client|no-evict","client|pause","client|reply","client|setname","client|tracking","client|trackinginfo","client|unblock","client|unpause","cluster","cluster|addslots","cluster|addslotsrange","cluster|bumpepoch","cluster|count-failure-reports","cluster|countkeysinslot","cluster|delslots","cluster|delslotsrange","cluster|failover","cluster|flushslots","cluster|forget","cluster|getkeysinslot","cluster|help","cluster|info","cluster|keyslot","cluster|links","cluster|meet","cluster|myid","cluster|nodes","cluster|replicas","cluster|replicate","cluster|reset","cluster|saveconfig","cluster|set-config-epoch","cluster|setslot","cluster|shards","cluster|slaves","cluster|slots","command","command|count","command|docs","command|getkeys","command|getkeysandflags","command|help","command|info","command|list","config","config|get","config|help","config|resetstat","config|rewrite","config|set","copy","dbsize","debug","decr","decrby","del","discard","dump","echo","eval","eval_ro","evalsha","evalsha_ro","exec","exists","expire","expireat","expiretime","failover","fcall","fcall_ro","flushall","flushdb","function","function|delete","function|dump","function|flush","function|help","function|kill","function|list","function|load","function|restore","function|stats","geoadd","geodist","geohash","geopos","georadius","georadius_ro","georadiusbymember","georadiusbymember_ro","geosearch","geosearchstore","get","getbit","getdel","getex","getrange","getset","hdel","hello","hexists","hget","hgetall","hincrby","hincrbyfloat","hkeys","hlen","hmget","hmset","hrandfield","hscan","hset","hsetnx","hstrlen","hvals","incr","incrby","incrbyfloat","info","keys","lastsave","latency","latency|doctor","latency|graph","latency|help","latency|histogram","latency|history","latency|latest","latency|reset","lcs","lindex","linsert","llen","lmove","lmpop","lolwut","lpop","lpos","lpush","lpushx","lrange","lrem","lset","ltrim","memory","memory|doctor","memory|help","memory|malloc-stats","memory|purge","memory|stats","memory|usage","mget","migrate","module","module|help","module|list","module|load","module|loadex","module|unload","monitor","move","mset","msetnx","multi","object","object|encoding","object|freq","object|help","object|idletime","object|refcount","persist","pexpire","pexpireat","pexpiretime","pfadd","pfcount","pfdebug","pfmerge","pfselftest","ping","psetex","psubscribe","psync","pttl","publish","pubsub","pubsub|channels","pubsub|help","pubsub|numpat","pubsub|numsub","pubsub|shardchannels","pubsub|shardnumsub","punsubscribe","quit","randomkey","readonly","readwrite","rename","renamenx","replconf","replicaof","reset","restore","restore-asking","role","rpop","rpoplpush","rpush","rpushx","sadd","save","scan","scard","script","script|debug","script|exists","script|flush","script|help","script|kill","script|load","sdiff","sdiffstore","select","set","setbit","setex","setnx","setrange","shutdown","sinter","sintercard","sinterstore","sismember","slaveof","slowlog","slowlog|get","slowlog|help","slowlog|len","slowlog|reset","smembers","smismember","smove","sort","sort_ro","spop","spublish","srandmember","srem","sscan","ssubscribe","strlen","subscribe","substr","sunion","sunionstore","sunsubscribe","swapdb","sync","time","touch","ttl","type","unlink","unsubscribe","unwatch","wait","watch","xack","xadd","xautoclaim","xclaim","xdel","xgroup","xgroup|create","xgroup|createconsumer","xgroup|delconsumer","xgroup|destroy","xgroup|help","xgroup|setid","xinfo","xinfo|consumers","xinfo|groups","xinfo|help","xinfo|stream","xlen","xpending","xrange","xread","xreadgroup","xrevrange","xsetid","xtrim","zadd","zcard","zcount","zdiff","zdiffstore","zincrby","zinter","zintercard","zinterstore","zlexcount","zmpop","zmscore","zpopmax","zpopmin","zrandmember","zrange","zrangebylex","zrangebyscore","zrangestore","zrank","zrem","zremrangebylex","zremrangebyrank","zremrangebyscore","zrevrange","zrevrangebylex","zrevrangebyscore","zrevrank","zscan","zscore","zunion","zunionstore"],count:240}});var sk=T(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.tryCatch=Ka.errorObj=void 0;Ka.errorObj={e:{}};var Wh;function QD(e,t){try{let n=Wh;return Wh=null,n.apply(this,arguments)}catch(n){return Ka.errorObj.e=n,Ka.errorObj}}function JD(e){return Wh=e,QD}Ka.tryCatch=JD});var Qh=T(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});var wl=sk();function ak(e){setTimeout(function(){throw e},0)}function ZD(e,t,n){return typeof t=="function"&&e.then(r=>{let s;n!==void 0&&Object(n).spread&&Array.isArray(r)?s=(0,wl.tryCatch)(t).apply(void 0,[null].concat(r)):s=r===void 0?(0,wl.tryCatch)(t)(null):(0,wl.tryCatch)(t)(null,r),s===wl.errorObj&&ak(s.e)},r=>{if(!r){let a=new Error(r+"");Object.assign(a,{cause:r}),r=a}let s=(0,wl.tryCatch)(t)(r);s===wl.errorObj&&ak(s.e)}),e}Yh.default=ZD});var ik=T((Iie,eP)=>{eP.exports={acl:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},append:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},asking:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},auth:{arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},bgrewriteaof:{arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bgsave:{arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bitcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},bitfield:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},bitfield_ro:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},bitop:{arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},bitpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},blmove:{arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},blmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},blpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpoplpush:{arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},bzmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},bzpopmax:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},bzpopmin:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},client:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},cluster:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},command:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},config:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},copy:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},dbsize:{arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},debug:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},decr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},decrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},del:{arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},discard:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},dump:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},echo:{arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},exec:{arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},exists:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},expire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},failover:{arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},fcall:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},fcall_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},flushall:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},flushdb:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},geodist:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},geohash:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},geopos:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadius:{arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadius_ro:{arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadiusbymember:{arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadiusbymember_ro:{arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearch:{arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearchstore:{arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},get:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getbit:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getdel:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getex:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},getset:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hello:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},hexists:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hget:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hgetall:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hincrbyfloat:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hkeys:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmget:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hrandfield:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},hset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hsetnx:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hstrlen:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hvals:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},incr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrbyfloat:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},info:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},keys:{arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},lastsave:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},latency:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},lcs:{arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},lindex:{arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},linsert:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},llen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},lmove:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},lmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},lolwut:{arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},lpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},lpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lrem:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},lset:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},ltrim:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},memory:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},mget:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},migrate:{arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},module:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},monitor:{arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},move:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},mset:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},msetnx:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},multi:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},object:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},persist:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},pfadd:{arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pfcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},pfdebug:{arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},pfmerge:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},pfselftest:{arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},ping:{arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},psetex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},psubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},psync:{arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},pttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},publish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},pubsub:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},punsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},quit:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},randomkey:{arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},readonly:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},readwrite:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},rename:{arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},renamenx:{arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},replconf:{arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},replicaof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},reset:{arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},restore:{arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},rpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},rpoplpush:{arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},rpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},rpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},sadd:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},save:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},scan:{arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},scard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},script:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},sdiff:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sdiffstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},select:{arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},set:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setbit:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setnx:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},setrange:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},shutdown:{arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},sinter:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},sinterstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sismember:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},slaveof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},slowlog:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},smembers:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},smismember:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},smove:{arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},sort:{arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},sort_ro:{arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},spop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},spublish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},srandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},srem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},sscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},ssubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},strlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},subscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},substr:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},sunion:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sunionstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sunsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},swapdb:{arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},sync:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},time:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},touch:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},ttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},type:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},unlink:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},unsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},unwatch:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},wait:{arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},watch:{arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},xack:{arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xadd:{arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xautoclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xgroup:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xinfo:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xpending:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},xrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xread:{arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xreadgroup:{arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xsetid:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xtrim:{arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},zadd:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zcard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zdiff:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zdiffstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zinter:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zinterstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zlexcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},zmscore:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zpopmax:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zpopmin:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zrandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangestore:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},zrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zrem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zremrangebylex:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyrank:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyscore:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},zscore:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zunion:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zunionstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1}}});var Zh=T(sr=>{"use strict";var tP=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.getKeyIndexes=sr.hasFlag=sr.exists=sr.list=void 0;var kp=tP(ik());sr.list=Object.keys(kp.default);var Jh={};sr.list.forEach(e=>{Jh[e]=kp.default[e].flags.reduce(function(t,n){return t[n]=!0,t},{})});function nP(e){return!!kp.default[e]}sr.exists=nP;function rP(e,t){if(!Jh[e])throw new Error("Unknown command "+e);return!!Jh[e][t]}sr.hasFlag=rP;function sP(e,t,n){let r=kp.default[e];if(!r)throw new Error("Unknown command "+e);if(!Array.isArray(t))throw new Error("Expect args to be an array");let s=[],a=!!(n&&n.parseExternalKey),i=(l,u)=>{let c=[],f=Number(l[u]);for(let m=0;m<f;m++)c.push(m+u+1);return c},o=(l,u,c)=>{for(let f=u;f<l.length-1;f+=1)if(String(l[f]).toLowerCase()===c.toLowerCase())return f+1;return null};switch(e){case"zunionstore":case"zinterstore":case"zdiffstore":s.push(0,...i(t,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":s.push(...i(t,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{s.push(...i(t,0));break}case"georadius":{s.push(0);let l=o(t,5,"STORE");l&&s.push(l);let u=o(t,5,"STOREDIST");u&&s.push(u);break}case"georadiusbymember":{s.push(0);let l=o(t,4,"STORE");l&&s.push(l);let u=o(t,4,"STOREDIST");u&&s.push(u);break}case"sort":case"sort_ro":s.push(0);for(let l=1;l<t.length-1;l++){let u=t[l];if(typeof u!="string")continue;let c=u.toUpperCase();c==="GET"?(l+=1,u=t[l],u!=="#"&&(a?s.push([l,ok(u)]):s.push(l))):c==="BY"?(l+=1,a?s.push([l,ok(t[l])]):s.push(l)):c==="STORE"&&(l+=1,s.push(l))}break;case"migrate":if(t[2]==="")for(let l=5;l<t.length-1;l++){let u=t[l];if(typeof u=="string"&&u.toUpperCase()==="KEYS"){for(let c=l+1;c<t.length;c++)s.push(c);break}}else s.push(2);break;case"xreadgroup":case"xread":for(let l=e==="xread"?0:3;l<t.length-1;l++)if(String(t[l]).toUpperCase()==="STREAMS"){for(let u=l+1;u<=l+(t.length-1-l)/2;u++)s.push(u);break}break;default:if(r.step>0){let l=r.keyStart-1,u=r.keyStop>0?r.keyStop:t.length+r.keyStop+1;for(let c=l;c<u;c+=r.step)s.push(c)}break}return s}sr.getKeyIndexes=sP;function ok(e){typeof e!="string"&&(e=String(e));let t=e.indexOf("->");return t===-1?e.length:t}});var ck=T((Bie,ey)=>{var lk=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],aP=function(t){for(var n,r=0,s=0,a=[],i=t.length;r<i;r++)n=t.charCodeAt(r),n<128?a[s++]=n:n<2048?(a[s++]=n>>6|192,a[s++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),a[s++]=n>>18|240,a[s++]=n>>12&63|128,a[s++]=n>>6&63|128,a[s++]=n&63|128):(a[s++]=n>>12|224,a[s++]=n>>6&63|128,a[s++]=n&63|128);return a},uk=ey.exports=function(t){for(var n,r=0,s=-1,a=0,i=0,o=typeof t=="string"?aP(t):t,l=o.length;r<l;){if(n=o[r++],s===-1)n===123&&(s=r);else if(n!==125)i=lk[(n^i>>8)&255]^i<<8;else if(r-1!==s)return i&16383;a=lk[(n^a>>8)&255]^a<<8}return a&16383};ey.exports.generateMulti=function(t){for(var n=1,r=t.length,s=uk(t[0]);n<r;)if(uk(t[n++])!==s)return-1;return s}});var fk=T(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.tryCatch=qa.errorObj=void 0;qa.errorObj={e:{}};var ty;function iP(e,t){try{let n=ty;return ty=null,n.apply(this,arguments)}catch(n){return qa.errorObj.e=n,qa.errorObj}}function oP(e){return ty=e,iP}qa.tryCatch=oP});var dk=T(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});var El=fk();function pk(e){setTimeout(function(){throw e},0)}function lP(e,t,n){return typeof t=="function"&&e.then(r=>{let s;n!==void 0&&Object(n).spread&&Array.isArray(r)?s=El.tryCatch(t).apply(void 0,[null].concat(r)):s=r===void 0?El.tryCatch(t)(null):El.tryCatch(t)(null,r),s===El.errorObj&&pk(s.e)},r=>{if(!r){let a=new Error(r+"");Object.assign(a,{cause:r}),r=a}let s=El.tryCatch(t)(r);s===El.errorObj&&pk(s.e)}),e}ny.default=lP});var gk=T(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});var mk=Zh(),uP=ck(),cP=dk(),Zi=zh(),kn=class{constructor(t,n=[],r={},s){if(this.name=t,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=r.replyEncoding,this.errorStack=r.errorStack,this.args=n.flat(),this.callback=s,this.initPromise(),r.keyPrefix){let a=r.keyPrefix instanceof Buffer,i=a?r.keyPrefix:null;this._iterateKeys(o=>o instanceof Buffer?(i===null&&(i=Buffer.from(r.keyPrefix)),Buffer.concat([i,o])):a?Buffer.concat([r.keyPrefix,Buffer.from(String(o))]):r.keyPrefix+o)}r.readOnly&&(this.isReadOnly=!0)}static checkFlag(t,n){return!!this.getFlagMap()[t][n]}static setArgumentTransformer(t,n){this._transformer.argument[t]=n}static setReplyTransformer(t,n){this._transformer.reply[t]=n}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(kn.FLAGS).reduce((t,n)=>(t[n]={},kn.FLAGS[n].forEach(r=>{t[n][r]=!0}),t),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){let t=this.getKeys()[0];this.slot=t==null?null:uP(t)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(t){let n,r="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){let s=new ry;s.push(r);for(let a=0;a<this.args.length;++a){let i=this.args[a];i instanceof Buffer?i.length===0?s.push(`$0\r
\r
`):(s.push("$"+i.length+`\r
`),s.push(i),s.push(`\r
`)):s.push("$"+Buffer.byteLength(i)+`\r
`+i+`\r
`)}n=s.toBuffer()}else{n=r;for(let s=0;s<this.args.length;++s){let a=this.args[s];n+="$"+Buffer.byteLength(a)+`\r
`+a+`\r
`}}return n}stringifyArguments(){for(let t=0;t<this.args.length;++t){let n=this.args[t];typeof n=="string"||(n instanceof Buffer?this.bufferMode=!0:this.args[t]=(0,Zi.toArg)(n))}}transformReply(t){this.replyEncoding&&(t=(0,Zi.convertBufferToString)(t,this.replyEncoding));let n=kn._transformer.reply[this.name];return n&&(t=n(t)),t}setTimeout(t){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},t))}initPromise(){let t=new Promise((n,r)=>{if(!this.transformed){this.transformed=!0;let s=kn._transformer.argument[this.name];s&&(this.args=s(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(n),this.errorStack?this.reject=s=>{r((0,Zi.optimizeErrorStack)(s,this.errorStack.stack,__dirname))}:this.reject=r});this.promise=(0,cP.default)(t,this.callback)}_iterateKeys(t=n=>n){if(typeof this.keys>"u"&&(this.keys=[],(0,mk.exists)(this.name))){let n=(0,mk.getKeyIndexes)(this.name,this.args);for(let r of n)this.args[r]=t(this.args[r]),this.keys.push(this.args[r])}return this.keys}_convertValue(t){return n=>{try{let r=this._commandTimeoutTimer;r&&(clearTimeout(r),delete this._commandTimeoutTimer),t(this.transformReply(n)),this.isResolved=!0}catch(r){this.reject(r)}return this.promise}}};sy.default=kn;kn.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"]};kn._transformer={argument:{},reply:{}};var hk=function(e){if(e.length===1){if(e[0]instanceof Map)return(0,Zi.convertMapToArray)(e[0]);if(typeof e[0]=="object"&&e[0]!==null)return(0,Zi.convertObjectToArray)(e[0])}return e},yk=function(e){if(e.length===2){if(e[1]instanceof Map)return[e[0]].concat((0,Zi.convertMapToArray)(e[1]));if(typeof e[1]=="object"&&e[1]!==null)return[e[0]].concat((0,Zi.convertObjectToArray)(e[1]))}return e};kn.setArgumentTransformer("mset",hk);kn.setArgumentTransformer("msetnx",hk);kn.setArgumentTransformer("hset",yk);kn.setArgumentTransformer("hmset",yk);kn.setReplyTransformer("hgetall",function(e){if(Array.isArray(e)){let t={};for(let n=0;n<e.length;n+=2){let r=e[n],s=e[n+1];r in t?Object.defineProperty(t,r,{value:s,configurable:!0,enumerable:!0,writable:!0}):t[r]=s}return t}return e});var ry=class{constructor(){this.length=0,this.items=[]}push(t){this.length+=Buffer.byteLength(t),this.items.push(t)}toBuffer(){let t=Buffer.allocUnsafe(this.length),n=0;for(let r of this.items){let s=Buffer.byteLength(r);Buffer.isBuffer(r)?r.copy(t,n):t.write(r,n,s),n+=s}return t}}});var ay=T((Pie,fP)=>{fP.exports=[["acl",-2,[],0,0,0,["@slow"],[],[],[["acl|cat",-2,["noscript","loading","stale"],0,0,0,["@slow"],[],[],[]],["acl|deluser",-3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|dryrun",-4,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|genpass",-2,["noscript","loading","stale"],0,0,0,["@slow"],[],[],[]],["acl|getuser",3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["acl|list",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|load",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|log",-2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|save",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|setuser",-3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|users",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["acl|whoami",2,["noscript","loading","stale"],0,0,0,["@slow"],[],[],[]]]],["append",3,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["asking",1,["fast"],0,0,0,["@fast","@connection"],[],[],[]],["auth",-2,["noscript","loading","stale","fast","no_auth","allow_busy"],0,0,0,["@fast","@connection"],[],[],[]],["bgrewriteaof",1,["admin","noscript","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["bgsave",-1,["admin","noscript","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["bitcount",-2,["readonly"],1,1,1,["@read","@bitmap","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["bitfield",-2,["write","denyoom"],1,1,1,["@write","@bitmap","@slow"],[],[["notes","This command allows both access and modification of the key","flags",["RW","access","update","variable_flags"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["bitfield_ro",-2,["readonly","fast"],1,1,1,["@read","@bitmap","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["bitop",-4,["write","denyoom"],2,-1,1,["@write","@bitmap","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",3]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["bitpos",-3,["readonly"],1,1,1,["@read","@bitmap","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["blmove",6,["write","denyoom","noscript","blocking"],1,2,1,["@write","@list","@slow","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["blmpop",-5,["write","blocking","movablekeys"],0,0,0,["@write","@list","@slow","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["blpop",-3,["write","noscript","blocking"],1,-2,1,["@write","@list","@slow","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-2,"keystep",1,"limit",0]]]],[]],["brpop",-3,["write","noscript","blocking"],1,-2,1,["@write","@list","@slow","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-2,"keystep",1,"limit",0]]]],[]],["brpoplpush",4,["write","denyoom","noscript","blocking"],1,2,1,["@write","@list","@slow","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["bzmpop",-5,["write","blocking","movablekeys"],0,0,0,["@write","@sortedset","@slow","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["bzpopmax",-3,["write","noscript","blocking","fast"],1,-2,1,["@write","@sortedset","@fast","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-2,"keystep",1,"limit",0]]]],[]],["bzpopmin",-3,["write","noscript","blocking","fast"],1,-2,1,["@write","@sortedset","@fast","@blocking"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-2,"keystep",1,"limit",0]]]],[]],["client",-2,[],0,0,0,["@slow"],[],[],[["client|caching",3,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|getname",2,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|getredir",2,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|help",2,["loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|id",2,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|info",2,["noscript","loading","stale"],0,0,0,["@slow","@connection"],["nondeterministic_output"],[],[]],["client|kill",-3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous","@connection"],[],[],[]],["client|list",-2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous","@connection"],["nondeterministic_output"],[],[]],["client|no-evict",3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous","@connection"],[],[],[]],["client|pause",-3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous","@connection"],[],[],[]],["client|reply",3,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|setname",3,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|tracking",-3,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|trackinginfo",2,["noscript","loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["client|unblock",-3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous","@connection"],[],[],[]],["client|unpause",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous","@connection"],[],[],[]]]],["cluster",-2,[],0,0,0,["@slow"],[],[],[["cluster|addslots",-3,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|addslotsrange",-4,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|bumpepoch",2,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output"],[],[]],["cluster|count-failure-reports",3,["admin","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output"],[],[]],["cluster|countkeysinslot",3,["stale"],0,0,0,["@slow"],[],[],[]],["cluster|delslots",-3,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|delslotsrange",-4,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|failover",-2,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|flushslots",2,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|forget",3,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|getkeysinslot",4,["stale"],0,0,0,["@slow"],["nondeterministic_output"],[],[]],["cluster|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["cluster|info",2,["stale"],0,0,0,["@slow"],["nondeterministic_output"],[],[]],["cluster|keyslot",3,["stale"],0,0,0,["@slow"],[],[],[]],["cluster|links",2,["stale"],0,0,0,["@slow"],["nondeterministic_output"],[],[]],["cluster|meet",-4,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|myid",2,["stale"],0,0,0,["@slow"],[],[],[]],["cluster|nodes",2,["stale"],0,0,0,["@slow"],["nondeterministic_output"],[],[]],["cluster|replicas",3,["admin","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output"],[],[]],["cluster|replicate",3,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|reset",-2,["admin","noscript","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|saveconfig",2,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|set-config-epoch",3,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|setslot",-4,["admin","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["cluster|shards",2,["stale"],0,0,0,["@slow"],["nondeterministic_output"],[],[]],["cluster|slaves",3,["admin","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output"],[],[]],["cluster|slots",2,["stale"],0,0,0,["@slow"],["nondeterministic_output"],[],[]]]],["command",-1,["loading","stale"],0,0,0,["@slow","@connection"],["nondeterministic_output_order"],[],[["command|count",2,["loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["command|docs",-2,["loading","stale"],0,0,0,["@slow","@connection"],["nondeterministic_output_order"],[],[]],["command|getkeys",-4,["loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["command|getkeysandflags",-4,["loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["command|help",2,["loading","stale"],0,0,0,["@slow","@connection"],[],[],[]],["command|info",-2,["loading","stale"],0,0,0,["@slow","@connection"],["nondeterministic_output_order"],[],[]],["command|list",-2,["loading","stale"],0,0,0,["@slow","@connection"],["nondeterministic_output_order"],[],[]]]],["config",-2,[],0,0,0,["@slow"],[],[],[["config|get",-3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["config|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["config|resetstat",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["config|rewrite",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["config|set",-4,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["request_policy:all_nodes","response_policy:all_succeeded"],[],[]]]],["copy",-3,["write","denyoom"],1,2,1,["@keyspace","@write","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["dbsize",1,["readonly","fast"],0,0,0,["@keyspace","@read","@fast"],["request_policy:all_shards","response_policy:agg_sum"],[],[]],["debug",-2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["decr",2,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["decrby",3,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["del",-2,["write"],1,-1,1,["@keyspace","@write","@slow"],["request_policy:multi_shard","response_policy:agg_sum"],[["flags",["RM","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["discard",1,["noscript","loading","stale","fast","allow_busy"],0,0,0,["@fast","@transaction"],[],[],[]],["dump",2,["readonly"],1,1,1,["@keyspace","@read","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["echo",2,["loading","stale","fast"],0,0,0,["@fast","@connection"],[],[],[]],["eval",-3,["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],0,0,0,["@slow","@scripting"],[],[["notes","We cannot tell how the keys will be used so we assume the worst, RW and UPDATE","flags",["RW","access","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["eval_ro",-3,["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],0,0,0,["@slow","@scripting"],[],[["notes","We cannot tell how the keys will be used so we assume the worst, RO and ACCESS","flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["evalsha",-3,["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],0,0,0,["@slow","@scripting"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["evalsha_ro",-3,["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],0,0,0,["@slow","@scripting"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["exec",1,["noscript","loading","stale","skip_slowlog"],0,0,0,["@slow","@transaction"],[],[],[]],["exists",-2,["readonly","fast"],1,-1,1,["@keyspace","@read","@fast"],["request_policy:multi_shard","response_policy:agg_sum"],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["expire",-3,["write","fast"],1,1,1,["@keyspace","@write","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["expireat",-3,["write","fast"],1,1,1,["@keyspace","@write","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["expiretime",2,["readonly","fast"],1,1,1,["@keyspace","@read","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["failover",-1,["admin","noscript","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["fcall",-3,["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],0,0,0,["@slow","@scripting"],[],[["notes","We cannot tell how the keys will be used so we assume the worst, RW and UPDATE","flags",["RW","access","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["fcall_ro",-3,["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],0,0,0,["@slow","@scripting"],[],[["notes","We cannot tell how the keys will be used so we assume the worst, RO and ACCESS","flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["flushall",-1,["write"],0,0,0,["@keyspace","@write","@slow","@dangerous"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["flushdb",-1,["write"],0,0,0,["@keyspace","@write","@slow","@dangerous"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["function",-2,[],0,0,0,["@slow"],[],[],[["function|delete",3,["write","noscript"],0,0,0,["@write","@slow","@scripting"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["function|dump",2,["noscript"],0,0,0,["@slow","@scripting"],[],[],[]],["function|flush",-2,["write","noscript"],0,0,0,["@write","@slow","@scripting"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["function|help",2,["loading","stale"],0,0,0,["@slow","@scripting"],[],[],[]],["function|kill",2,["noscript","allow_busy"],0,0,0,["@slow","@scripting"],["request_policy:all_shards","response_policy:one_succeeded"],[],[]],["function|list",-2,["noscript"],0,0,0,["@slow","@scripting"],["nondeterministic_output_order"],[],[]],["function|load",-3,["write","denyoom","noscript"],0,0,0,["@write","@slow","@scripting"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["function|restore",-3,["write","denyoom","noscript"],0,0,0,["@write","@slow","@scripting"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["function|stats",2,["noscript","allow_busy"],0,0,0,["@slow","@scripting"],["nondeterministic_output","request_policy:all_shards","response_policy:special"],[],[]]]],["geoadd",-5,["write","denyoom"],1,1,1,["@write","@geo","@slow"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["geodist",-4,["readonly"],1,1,1,["@read","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["geohash",-2,["readonly"],1,1,1,["@read","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["geopos",-2,["readonly"],1,1,1,["@read","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["georadius",-6,["write","denyoom","movablekeys"],1,1,1,["@write","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","update"],"begin_search",["type","keyword","spec",["keyword","STORE","startfrom",6]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","update"],"begin_search",["type","keyword","spec",["keyword","STOREDIST","startfrom",6]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["georadius_ro",-6,["readonly"],1,1,1,["@read","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["georadiusbymember",-5,["write","denyoom","movablekeys"],1,1,1,["@write","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","update"],"begin_search",["type","keyword","spec",["keyword","STORE","startfrom",5]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","update"],"begin_search",["type","keyword","spec",["keyword","STOREDIST","startfrom",5]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["georadiusbymember_ro",-5,["readonly"],1,1,1,["@read","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["geosearch",-7,["readonly"],1,1,1,["@read","@geo","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["geosearchstore",-8,["write","denyoom"],1,2,1,["@write","@geo","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["get",2,["readonly","fast"],1,1,1,["@read","@string","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["getbit",3,["readonly","fast"],1,1,1,["@read","@bitmap","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["getdel",2,["write","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["getex",-2,["write","fast"],1,1,1,["@write","@string","@fast"],[],[["notes","RW and UPDATE because it changes the TTL","flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["getrange",4,["readonly"],1,1,1,["@read","@string","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["getset",3,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hdel",-3,["write","fast"],1,1,1,["@write","@hash","@fast"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hello",-1,["noscript","loading","stale","fast","no_auth","allow_busy"],0,0,0,["@fast","@connection"],[],[],[]],["hexists",3,["readonly","fast"],1,1,1,["@read","@hash","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hget",3,["readonly","fast"],1,1,1,["@read","@hash","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hgetall",2,["readonly"],1,1,1,["@read","@hash","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hincrby",4,["write","denyoom","fast"],1,1,1,["@write","@hash","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hincrbyfloat",4,["write","denyoom","fast"],1,1,1,["@write","@hash","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hkeys",2,["readonly"],1,1,1,["@read","@hash","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hlen",2,["readonly","fast"],1,1,1,["@read","@hash","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hmget",-3,["readonly","fast"],1,1,1,["@read","@hash","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hmset",-4,["write","denyoom","fast"],1,1,1,["@write","@hash","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hrandfield",-2,["readonly"],1,1,1,["@read","@hash","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hscan",-3,["readonly"],1,1,1,["@read","@hash","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hset",-4,["write","denyoom","fast"],1,1,1,["@write","@hash","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hsetnx",4,["write","denyoom","fast"],1,1,1,["@write","@hash","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hstrlen",3,["readonly","fast"],1,1,1,["@read","@hash","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["hvals",2,["readonly"],1,1,1,["@read","@hash","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["incr",2,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["incrby",3,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["incrbyfloat",3,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["info",-1,["loading","stale"],0,0,0,["@slow","@dangerous"],["nondeterministic_output","request_policy:all_shards","response_policy:special"],[],[]],["keys",2,["readonly"],0,0,0,["@keyspace","@read","@slow","@dangerous"],["request_policy:all_shards","nondeterministic_output_order"],[],[]],["lastsave",1,["loading","stale","fast"],0,0,0,["@admin","@fast","@dangerous"],["nondeterministic_output"],[],[]],["latency",-2,[],0,0,0,["@slow"],[],[],[["latency|doctor",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output","request_policy:all_nodes","response_policy:special"],[],[]],["latency|graph",3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output","request_policy:all_nodes","response_policy:special"],[],[]],["latency|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["latency|histogram",-2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output","request_policy:all_nodes","response_policy:special"],[],[]],["latency|history",3,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output","request_policy:all_nodes","response_policy:special"],[],[]],["latency|latest",2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output","request_policy:all_nodes","response_policy:special"],[],[]],["latency|reset",-2,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["request_policy:all_nodes","response_policy:all_succeeded"],[],[]]]],["lcs",-3,["readonly"],1,2,1,["@read","@string","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",1,"keystep",1,"limit",0]]]],[]],["lindex",3,["readonly"],1,1,1,["@read","@list","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["linsert",5,["write","denyoom"],1,1,1,["@write","@list","@slow"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["llen",2,["readonly","fast"],1,1,1,["@read","@list","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lmove",5,["write","denyoom"],1,2,1,["@write","@list","@slow"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lmpop",-4,["write","movablekeys"],0,0,0,["@write","@list","@slow"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["lolwut",-1,["readonly","fast"],0,0,0,["@read","@fast"],[],[],[]],["lpop",-2,["write","fast"],1,1,1,["@write","@list","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lpos",-3,["readonly"],1,1,1,["@read","@list","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lpush",-3,["write","denyoom","fast"],1,1,1,["@write","@list","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lpushx",-3,["write","denyoom","fast"],1,1,1,["@write","@list","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lrange",4,["readonly"],1,1,1,["@read","@list","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lrem",4,["write"],1,1,1,["@write","@list","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["lset",4,["write","denyoom"],1,1,1,["@write","@list","@slow"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["ltrim",4,["write"],1,1,1,["@write","@list","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["memory",-2,[],0,0,0,["@slow"],[],[],[["memory|doctor",2,[],0,0,0,["@slow"],["nondeterministic_output","request_policy:all_shards","response_policy:special"],[],[]],["memory|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["memory|malloc-stats",2,[],0,0,0,["@slow"],["nondeterministic_output","request_policy:all_shards","response_policy:special"],[],[]],["memory|purge",2,[],0,0,0,["@slow"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["memory|stats",2,[],0,0,0,["@slow"],["nondeterministic_output","request_policy:all_shards","response_policy:special"],[],[]],["memory|usage",-3,["readonly"],2,2,1,["@read","@slow"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]]]],["mget",-2,["readonly","fast"],1,-1,1,["@read","@string","@fast"],["request_policy:multi_shard"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["migrate",-6,["write","movablekeys"],3,3,1,["@keyspace","@write","@slow","@dangerous"],["nondeterministic_output"],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",3]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RW","access","delete","incomplete"],"begin_search",["type","keyword","spec",["keyword","KEYS","startfrom",-2]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["module",-2,[],0,0,0,["@slow"],[],[],[["module|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["module|list",2,["admin","noscript"],0,0,0,["@admin","@slow","@dangerous"],["nondeterministic_output_order"],[],[]],["module|load",-3,["admin","noscript","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["module|loadex",-3,["admin","noscript","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["module|unload",3,["admin","noscript","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]]]],["monitor",1,["admin","noscript","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["move",3,["write","fast"],1,1,1,["@keyspace","@write","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["mset",-3,["write","denyoom"],1,-1,2,["@write","@string","@slow"],["request_policy:multi_shard","response_policy:all_succeeded"],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",2,"limit",0]]]],[]],["msetnx",-3,["write","denyoom"],1,-1,2,["@write","@string","@slow"],["request_policy:multi_shard","response_policy:agg_min"],[["flags",["OW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",2,"limit",0]]]],[]],["multi",1,["noscript","loading","stale","fast","allow_busy"],0,0,0,["@fast","@transaction"],[],[],[]],["object",-2,[],0,0,0,["@slow"],[],[],[["object|encoding",3,["readonly"],2,2,1,["@keyspace","@read","@slow"],["nondeterministic_output"],[["flags",["RO"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["object|freq",3,["readonly"],2,2,1,["@keyspace","@read","@slow"],["nondeterministic_output"],[["flags",["RO"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["object|help",2,["loading","stale"],0,0,0,["@keyspace","@slow"],[],[],[]],["object|idletime",3,["readonly"],2,2,1,["@keyspace","@read","@slow"],["nondeterministic_output"],[["flags",["RO"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["object|refcount",3,["readonly"],2,2,1,["@keyspace","@read","@slow"],["nondeterministic_output"],[["flags",["RO"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]]]],["persist",2,["write","fast"],1,1,1,["@keyspace","@write","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["pexpire",-3,["write","fast"],1,1,1,["@keyspace","@write","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["pexpireat",-3,["write","fast"],1,1,1,["@keyspace","@write","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["pexpiretime",2,["readonly","fast"],1,1,1,["@keyspace","@read","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["pfadd",-2,["write","denyoom","fast"],1,1,1,["@write","@hyperloglog","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["pfcount",-2,["readonly"],1,-1,1,["@read","@hyperloglog","@slow"],[],[["notes","RW because it may change the internal representation of the key, and propagate to replicas","flags",["RW","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["pfdebug",3,["write","denyoom","admin"],2,2,1,["@write","@hyperloglog","@admin","@slow","@dangerous"],[],[["flags",["RW","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["pfmerge",-2,["write","denyoom"],1,-1,1,["@write","@hyperloglog","@slow"],[],[["flags",["RW","access","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["pfselftest",1,["admin"],0,0,0,["@hyperloglog","@admin","@slow","@dangerous"],[],[],[]],["ping",-1,["fast"],0,0,0,["@fast","@connection"],["request_policy:all_shards","response_policy:all_succeeded"],[],[]],["psetex",4,["write","denyoom"],1,1,1,["@write","@string","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["psubscribe",-2,["pubsub","noscript","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["psync",-3,["admin","noscript","no_async_loading","no_multi"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["pttl",2,["readonly","fast"],1,1,1,["@keyspace","@read","@fast"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["publish",3,["pubsub","loading","stale","fast"],0,0,0,["@pubsub","@fast"],[],[],[]],["pubsub",-2,[],0,0,0,["@slow"],[],[],[["pubsub|channels",-2,["pubsub","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["pubsub|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["pubsub|numpat",2,["pubsub","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["pubsub|numsub",-2,["pubsub","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["pubsub|shardchannels",-2,["pubsub","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["pubsub|shardnumsub",-2,["pubsub","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]]]],["punsubscribe",-1,["pubsub","noscript","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["quit",-1,["noscript","loading","stale","fast","no_auth","allow_busy"],0,0,0,["@fast","@connection"],[],[],[]],["randomkey",1,["readonly"],0,0,0,["@keyspace","@read","@slow"],["request_policy:all_shards","nondeterministic_output"],[],[]],["readonly",1,["loading","stale","fast"],0,0,0,["@fast","@connection"],[],[],[]],["readwrite",1,["loading","stale","fast"],0,0,0,["@fast","@connection"],[],[],[]],["rename",3,["write"],1,2,1,["@keyspace","@write","@slow"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["renamenx",3,["write","fast"],1,2,1,["@keyspace","@write","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["OW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["replconf",-1,["admin","noscript","loading","stale","allow_busy"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["replicaof",3,["admin","noscript","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["reset",1,["noscript","loading","stale","fast","no_auth","allow_busy"],0,0,0,["@fast","@connection"],[],[],[]],["restore",-4,["write","denyoom"],1,1,1,["@keyspace","@write","@slow","@dangerous"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["restore-asking",-4,["write","denyoom","asking"],1,1,1,["@keyspace","@write","@slow","@dangerous"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["role",1,["noscript","loading","stale","fast"],0,0,0,["@admin","@fast","@dangerous"],[],[],[]],["rpop",-2,["write","fast"],1,1,1,["@write","@list","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["rpoplpush",3,["write","denyoom"],1,2,1,["@write","@list","@slow"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["rpush",-3,["write","denyoom","fast"],1,1,1,["@write","@list","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["rpushx",-3,["write","denyoom","fast"],1,1,1,["@write","@list","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["sadd",-3,["write","denyoom","fast"],1,1,1,["@write","@set","@fast"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["save",1,["admin","noscript","no_async_loading","no_multi"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["scan",-2,["readonly"],0,0,0,["@keyspace","@read","@slow"],["nondeterministic_output","request_policy:special"],[],[]],["scard",2,["readonly","fast"],1,1,1,["@read","@set","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["script",-2,[],0,0,0,["@slow"],[],[],[["script|debug",3,["noscript"],0,0,0,["@slow","@scripting"],[],[],[]],["script|exists",-3,["noscript"],0,0,0,["@slow","@scripting"],["request_policy:all_shards","response_policy:agg_logical_and"],[],[]],["script|flush",-2,["noscript"],0,0,0,["@slow","@scripting"],["request_policy:all_nodes","response_policy:all_succeeded"],[],[]],["script|help",2,["loading","stale"],0,0,0,["@slow","@scripting"],[],[],[]],["script|kill",2,["noscript","allow_busy"],0,0,0,["@slow","@scripting"],["request_policy:all_shards","response_policy:one_succeeded"],[],[]],["script|load",3,["noscript","stale"],0,0,0,["@slow","@scripting"],["request_policy:all_nodes","response_policy:all_succeeded"],[],[]]]],["sdiff",-2,["readonly"],1,-1,1,["@read","@set","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["sdiffstore",-3,["write","denyoom"],1,-1,1,["@write","@set","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["select",2,["loading","stale","fast"],0,0,0,["@fast","@connection"],[],[],[]],["set",-3,["write","denyoom"],1,1,1,["@write","@string","@slow"],[],[["notes","RW and ACCESS due to the optional `GET` argument","flags",["RW","access","update","variable_flags"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["setbit",4,["write","denyoom"],1,1,1,["@write","@bitmap","@slow"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["setex",4,["write","denyoom"],1,1,1,["@write","@string","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["setnx",3,["write","denyoom","fast"],1,1,1,["@write","@string","@fast"],[],[["flags",["OW","insert"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["setrange",4,["write","denyoom"],1,1,1,["@write","@string","@slow"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["shutdown",-1,["admin","noscript","loading","stale","no_multi","allow_busy"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["sinter",-2,["readonly"],1,-1,1,["@read","@set","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["sintercard",-3,["readonly","movablekeys"],0,0,0,["@read","@set","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["sinterstore",-3,["write","denyoom"],1,-1,1,["@write","@set","@slow"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["sismember",3,["readonly","fast"],1,1,1,["@read","@set","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["slaveof",3,["admin","noscript","stale","no_async_loading"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["slowlog",-2,[],0,0,0,["@slow"],[],[],[["slowlog|get",-2,["admin","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["request_policy:all_nodes","nondeterministic_output"],[],[]],["slowlog|help",2,["loading","stale"],0,0,0,["@slow"],[],[],[]],["slowlog|len",2,["admin","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["request_policy:all_nodes","response_policy:agg_sum","nondeterministic_output"],[],[]],["slowlog|reset",2,["admin","loading","stale"],0,0,0,["@admin","@slow","@dangerous"],["request_policy:all_nodes","response_policy:all_succeeded"],[],[]]]],["smembers",2,["readonly"],1,1,1,["@read","@set","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["smismember",-3,["readonly","fast"],1,1,1,["@read","@set","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["smove",4,["write","fast"],1,2,1,["@write","@set","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["sort",-2,["write","denyoom","movablekeys"],1,1,1,["@write","@set","@sortedset","@list","@slow","@dangerous"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["notes","For the optional BY/GET keyword. It is marked 'unknown' because the key names derive from the content of the key we sort","flags",["RO","access"],"begin_search",["type","unknown","spec",[]],"find_keys",["type","unknown","spec",[]]],["notes","For the optional STORE keyword. It is marked 'unknown' because the keyword can appear anywhere in the argument array","flags",["OW","update"],"begin_search",["type","unknown","spec",[]],"find_keys",["type","unknown","spec",[]]]],[]],["sort_ro",-2,["readonly","movablekeys"],1,1,1,["@read","@set","@sortedset","@list","@slow","@dangerous"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["notes","For the optional BY/GET keyword. It is marked 'unknown' because the key names derive from the content of the key we sort","flags",["RO","access"],"begin_search",["type","unknown","spec",[]],"find_keys",["type","unknown","spec",[]]]],[]],["spop",-2,["write","fast"],1,1,1,["@write","@set","@fast"],["nondeterministic_output"],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["spublish",3,["pubsub","loading","stale","fast"],1,1,1,["@pubsub","@fast"],[],[["flags",["not_key"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["srandmember",-2,["readonly"],1,1,1,["@read","@set","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["srem",-3,["write","fast"],1,1,1,["@write","@set","@fast"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["sscan",-3,["readonly"],1,1,1,["@read","@set","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["ssubscribe",-2,["pubsub","noscript","loading","stale"],1,-1,1,["@pubsub","@slow"],[],[["flags",["not_key"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["strlen",2,["readonly","fast"],1,1,1,["@read","@string","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["subscribe",-2,["pubsub","noscript","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["substr",4,["readonly"],1,1,1,["@read","@string","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["sunion",-2,["readonly"],1,-1,1,["@read","@set","@slow"],["nondeterministic_output_order"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["sunionstore",-3,["write","denyoom"],1,-1,1,["@write","@set","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["sunsubscribe",-1,["pubsub","noscript","loading","stale"],1,-1,1,["@pubsub","@slow"],[],[["flags",["not_key"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["swapdb",3,["write","fast"],0,0,0,["@keyspace","@write","@fast","@dangerous"],[],[],[]],["sync",1,["admin","noscript","no_async_loading","no_multi"],0,0,0,["@admin","@slow","@dangerous"],[],[],[]],["time",1,["loading","stale","fast"],0,0,0,["@fast"],["nondeterministic_output"],[],[]],["touch",-2,["readonly","fast"],1,-1,1,["@keyspace","@read","@fast"],["request_policy:multi_shard","response_policy:agg_sum"],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["ttl",2,["readonly","fast"],1,1,1,["@keyspace","@read","@fast"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["type",2,["readonly","fast"],1,1,1,["@keyspace","@read","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["unlink",-2,["write","fast"],1,-1,1,["@keyspace","@write","@fast"],["request_policy:multi_shard","response_policy:agg_sum"],[["flags",["RM","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["unsubscribe",-1,["pubsub","noscript","loading","stale"],0,0,0,["@pubsub","@slow"],[],[],[]],["unwatch",1,["noscript","loading","stale","fast","allow_busy"],0,0,0,["@fast","@transaction"],[],[],[]],["wait",3,["noscript"],0,0,0,["@slow","@connection"],["request_policy:all_shards","response_policy:agg_min"],[],[]],["watch",-2,["noscript","loading","stale","fast","allow_busy"],1,-1,1,["@fast","@transaction"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",0]]]],[]],["xack",-4,["write","fast"],1,1,1,["@write","@stream","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xadd",-5,["write","denyoom","fast"],1,1,1,["@write","@stream","@fast"],["nondeterministic_output"],[["notes","UPDATE instead of INSERT because of the optional trimming feature","flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xautoclaim",-6,["write","fast"],1,1,1,["@write","@stream","@fast"],["nondeterministic_output"],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xclaim",-6,["write","fast"],1,1,1,["@write","@stream","@fast"],["nondeterministic_output"],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xdel",-3,["write","fast"],1,1,1,["@write","@stream","@fast"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xgroup",-2,[],0,0,0,["@slow"],[],[],[["xgroup|create",-5,["write","denyoom"],2,2,1,["@write","@stream","@slow"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xgroup|createconsumer",5,["write","denyoom"],2,2,1,["@write","@stream","@slow"],[],[["flags",["RW","insert"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xgroup|delconsumer",5,["write"],2,2,1,["@write","@stream","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xgroup|destroy",4,["write"],2,2,1,["@write","@stream","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xgroup|help",2,["loading","stale"],0,0,0,["@stream","@slow"],[],[],[]],["xgroup|setid",-5,["write"],2,2,1,["@write","@stream","@slow"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]]]],["xinfo",-2,[],0,0,0,["@slow"],[],[],[["xinfo|consumers",4,["readonly"],2,2,1,["@read","@stream","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xinfo|groups",3,["readonly"],2,2,1,["@read","@stream","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xinfo|help",2,["loading","stale"],0,0,0,["@stream","@slow"],[],[],[]],["xinfo|stream",-3,["readonly"],2,2,1,["@read","@stream","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]]]],["xlen",2,["readonly","fast"],1,1,1,["@read","@stream","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xpending",-3,["readonly"],1,1,1,["@read","@stream","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xrange",-4,["readonly"],1,1,1,["@read","@stream","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xread",-4,["readonly","blocking","movablekeys"],0,0,0,["@read","@stream","@slow","@blocking"],[],[["flags",["RO","access"],"begin_search",["type","keyword","spec",["keyword","STREAMS","startfrom",1]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",2]]]],[]],["xreadgroup",-7,["write","blocking","movablekeys"],0,0,0,["@write","@stream","@slow","@blocking"],[],[["flags",["RO","access"],"begin_search",["type","keyword","spec",["keyword","STREAMS","startfrom",4]],"find_keys",["type","range","spec",["lastkey",-1,"keystep",1,"limit",2]]]],[]],["xrevrange",-4,["readonly"],1,1,1,["@read","@stream","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xsetid",-3,["write","denyoom","fast"],1,1,1,["@write","@stream","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["xtrim",-4,["write"],1,1,1,["@write","@stream","@slow"],["nondeterministic_output"],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zadd",-4,["write","denyoom","fast"],1,1,1,["@write","@sortedset","@fast"],[],[["flags",["RW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zcard",2,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zcount",4,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zdiff",-3,["readonly","movablekeys"],0,0,0,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zdiffstore",-4,["write","denyoom","movablekeys"],1,1,1,["@write","@sortedset","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zincrby",4,["write","denyoom","fast"],1,1,1,["@write","@sortedset","@fast"],[],[["flags",["RW","access","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zinter",-3,["readonly","movablekeys"],0,0,0,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zintercard",-3,["readonly","movablekeys"],0,0,0,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zinterstore",-4,["write","denyoom","movablekeys"],1,1,1,["@write","@sortedset","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zlexcount",4,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zmpop",-4,["write","movablekeys"],0,0,0,["@write","@sortedset","@slow"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zmscore",-3,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zpopmax",-2,["write","fast"],1,1,1,["@write","@sortedset","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zpopmin",-2,["write","fast"],1,1,1,["@write","@sortedset","@fast"],[],[["flags",["RW","access","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrandmember",-2,["readonly"],1,1,1,["@read","@sortedset","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrange",-4,["readonly"],1,1,1,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrangebylex",-4,["readonly"],1,1,1,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrangebyscore",-4,["readonly"],1,1,1,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrangestore",-5,["write","denyoom"],1,2,1,["@write","@sortedset","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrank",3,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrem",-3,["write","fast"],1,1,1,["@write","@sortedset","@fast"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zremrangebylex",4,["write"],1,1,1,["@write","@sortedset","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zremrangebyrank",4,["write"],1,1,1,["@write","@sortedset","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zremrangebyscore",4,["write"],1,1,1,["@write","@sortedset","@slow"],[],[["flags",["RW","delete"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrevrange",-4,["readonly"],1,1,1,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrevrangebylex",-4,["readonly"],1,1,1,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrevrangebyscore",-4,["readonly"],1,1,1,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zrevrank",3,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zscan",-3,["readonly"],1,1,1,["@read","@sortedset","@slow"],["nondeterministic_output"],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zscore",3,["readonly","fast"],1,1,1,["@read","@sortedset","@fast"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]]],[]],["zunion",-3,["readonly","movablekeys"],0,0,0,["@read","@sortedset","@slow"],[],[["flags",["RO","access"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]],["zunionstore",-4,["write","denyoom","movablekeys"],1,1,1,["@write","@sortedset","@slow"],[],[["flags",["OW","update"],"begin_search",["type","index","spec",["index",1]],"find_keys",["type","range","spec",["lastkey",0,"keystep",1,"limit",0]]],["flags",["RO","access"],"begin_search",["type","index","spec",["index",2]],"find_keys",["type","keynum","spec",["keynumidx",0,"firstkey",1,"keystep",1]]]],[]]]});var _k=T((Fie,pP)=>{pP.exports=["blmpop",["summary","Pop elements from a list, or block until one is available","since","7.0.0","group","list","complexity","O(N+M) where N is the number of provided keys and M is the number of elements returned.","arguments",[["name","timeout","type","double"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","where","type","oneof","arguments",[["name","left","type","pure-token","token","LEFT"],["name","right","type","pure-token","token","RIGHT"]]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"zrevrangebyscore",["summary","Return a range of members in a sorted set, by score, with scores ordered from high to low","since","2.2.0","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements being returned. If M is constant (e.g. always asking for the first 10 elements with LIMIT), you can consider it O(log(N)).","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`ZRANGE` with the `REV` and `BYSCORE` arguments","history",[["2.1.6","`min` and `max` can be exclusive."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","max","type","double"],["name","min","type","double"],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]]]],"module",["summary","A container for module commands","since","4.0.0","group","server","complexity","Depends on subcommand.","subcommands",["module|loadex",["summary","Load a module with extended parameters","since","7.0.0","group","server","complexity","O(1)","arguments",[["name","path","type","string"],["name","configs","type","block","token","CONFIG","flags",["optional","multiple","multiple_token"],"arguments",[["name","name","type","string"],["name","value","type","string"]]],["name","args","type","block","token","ARGS","flags",["optional","multiple"],"arguments",[["name","arg","type","string"]]]]],"module|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","server","complexity","O(1)"],"module|load",["summary","Load a module","since","4.0.0","group","server","complexity","O(1)","arguments",[["name","path","type","string"],["name","arg","type","string","flags",["optional","multiple"]]]],"module|list",["summary","List all modules loaded by the server","since","4.0.0","group","server","complexity","O(N) where N is the number of loaded modules."],"module|unload",["summary","Unload a module","since","4.0.0","group","server","complexity","O(1)","arguments",[["name","name","type","string"]]]]],"asking",["summary","Sent by cluster clients after an -ASK redirect","since","3.0.0","group","cluster","complexity","O(1)"],"echo",["summary","Echo the given string","since","1.0.0","group","connection","complexity","O(1)","arguments",[["name","message","type","string"]]],"xclaim",["summary","Changes (or acquires) ownership of a message in a consumer group, as if the message was delivered to the specified consumer.","since","5.0.0","group","stream","complexity","O(log N) with N being the number of messages in the PEL of the consumer group.","arguments",[["name","key","type","key","key_spec_index",0],["name","group","type","string"],["name","consumer","type","string"],["name","min-idle-time","type","string"],["name","id","type","string","flags",["multiple"]],["name","ms","type","integer","token","IDLE","flags",["optional"]],["name","unix-time-milliseconds","type","unix-time","token","TIME","flags",["optional"]],["name","count","type","integer","token","RETRYCOUNT","flags",["optional"]],["name","force","type","pure-token","token","FORCE","flags",["optional"]],["name","justid","type","pure-token","token","JUSTID","flags",["optional"]],["name","id","type","string","token","LASTID","flags",["optional"]]]],"smove",["summary","Move a member from one set to another","since","1.0.0","group","set","complexity","O(1)","arguments",[["name","source","type","key","key_spec_index",0],["name","destination","type","key","key_spec_index",1],["name","member","type","string"]]],"xread",["summary","Return never seen elements in multiple streams, with IDs greater than the ones reported by the caller for each stream. Can block.","since","5.0.0","group","stream","complexity","For each stream mentioned: O(N) with N being the number of elements being returned, it means that XREAD-ing with a fixed COUNT is O(1). Note that when the BLOCK option is used, XADD will pay O(M) time in order to serve the M clients blocked on the stream getting new data.","arguments",[["name","count","type","integer","token","COUNT","flags",["optional"]],["name","milliseconds","type","integer","token","BLOCK","flags",["optional"]],["name","streams","type","block","token","STREAMS","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","id","type","string","flags",["multiple"]]]]]],"pubsub",["summary","A container for Pub/Sub commands","since","2.8.0","group","pubsub","complexity","Depends on subcommand.","subcommands",["pubsub|numpat",["summary","Get the count of unique patterns pattern subscriptions","since","2.8.0","group","pubsub","complexity","O(1)"],"pubsub|channels",["summary","List active channels","since","2.8.0","group","pubsub","complexity","O(N) where N is the number of active channels, and assuming constant time pattern matching (relatively short channels and patterns)","arguments",[["name","pattern","type","pattern","flags",["optional"]]]],"pubsub|help",["summary","Show helpful text about the different subcommands","since","6.2.0","group","pubsub","complexity","O(1)"],"pubsub|numsub",["summary","Get the count of subscribers for channels","since","2.8.0","group","pubsub","complexity","O(N) for the NUMSUB subcommand, where N is the number of requested channels","arguments",[["name","channel","type","string","flags",["optional","multiple"]]]],"pubsub|shardchannels",["summary","List active shard channels","since","7.0.0","group","pubsub","complexity","O(N) where N is the number of active shard channels, and assuming constant time pattern matching (relatively short shard channels).","arguments",[["name","pattern","type","pattern","flags",["optional"]]]],"pubsub|shardnumsub",["summary","Get the count of subscribers for shard channels","since","7.0.0","group","pubsub","complexity","O(N) for the SHARDNUMSUB subcommand, where N is the number of requested shard channels","arguments",[["name","shardchannel","type","string","flags",["optional","multiple"]]]]]],"readwrite",["summary","Disables read queries for a connection to a cluster replica node","since","3.0.0","group","cluster","complexity","O(1)"],"zpopmax",["summary","Remove and return members with the highest scores in a sorted set","since","5.0.0","group","sorted-set","complexity","O(log(N)*M) with N being the number of elements in the sorted set, and M being the number of elements popped.","arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","flags",["optional"]]]],"move",["summary","Move a key to another database","since","1.0.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","db","type","integer"]]],"zrange",["summary","Return a range of members in a sorted set","since","1.2.0","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements returned.","history",[["6.2.0","Added the `REV`, `BYSCORE`, `BYLEX` and `LIMIT` options."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","string"],["name","stop","type","string"],["name","sortby","type","oneof","since","6.2.0","flags",["optional"],"arguments",[["name","byscore","type","pure-token","token","BYSCORE"],["name","bylex","type","pure-token","token","BYLEX"]]],["name","rev","type","pure-token","token","REV","since","6.2.0","flags",["optional"]],["name","offset_count","type","block","token","LIMIT","since","6.2.0","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]]]],"eval",["summary","Execute a Lua script server side","since","2.6.0","group","scripting","complexity","Depends on the script that is executed.","arguments",[["name","script","type","string"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["optional","multiple"]],["name","arg","type","string","flags",["optional","multiple"]]]],"hincrbyfloat",["summary","Increment the float value of a hash field by the given amount","since","2.6.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string"],["name","increment","type","double"]]],"set",["summary","Set the string value of a key","since","1.0.0","group","string","complexity","O(1)","history",[["2.6.12","Added the `EX`, `PX`, `NX` and `XX` options."],["6.0.0","Added the `KEEPTTL` option."],["6.2.0","Added the `GET`, `EXAT` and `PXAT` option."],["7.0.0","Allowed the `NX` and `GET` options to be used together."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","value","type","string"],["name","condition","type","oneof","since","2.6.12","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"]]],["name","get","type","pure-token","token","GET","since","6.2.0","flags",["optional"]],["name","expiration","type","oneof","flags",["optional"],"arguments",[["name","seconds","type","integer","token","EX","since","2.6.12"],["name","milliseconds","type","integer","token","PX","since","2.6.12"],["name","unix-time-seconds","type","unix-time","token","EXAT","since","6.2.0"],["name","unix-time-milliseconds","type","unix-time","token","PXAT","since","6.2.0"],["name","keepttl","type","pure-token","token","KEEPTTL","since","6.0.0"]]]]],"slaveof",["summary","Make the server a replica of another instance, or promote it as master.","since","1.0.0","group","server","complexity","O(1)","doc_flags",["deprecated"],"deprecated_since","5.0.0","replaced_by","`REPLICAOF`","arguments",[["name","host","type","string"],["name","port","type","integer"]]],"xadd",["summary","Appends a new entry to a stream","since","5.0.0","group","stream","complexity","O(1) when adding a new entry, O(N) when trimming where N being the number of entries evicted.","history",[["6.2.0","Added the `NOMKSTREAM` option, `MINID` trimming strategy and the `LIMIT` option."],["7.0.0","Added support for the `<ms>-*` explicit ID form."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","nomkstream","type","pure-token","token","NOMKSTREAM","since","6.2.0","flags",["optional"]],["name","trim","type","block","flags",["optional"],"arguments",[["name","strategy","type","oneof","arguments",[["name","maxlen","type","pure-token","token","MAXLEN"],["name","minid","type","pure-token","token","MINID","since","6.2.0"]]],["name","operator","type","oneof","flags",["optional"],"arguments",[["name","equal","type","pure-token","token","="],["name","approximately","type","pure-token","token","~"]]],["name","threshold","type","string"],["name","count","type","integer","token","LIMIT","since","6.2.0","flags",["optional"]]]],["name","id_or_auto","type","oneof","arguments",[["name","auto_id","type","pure-token","token","*"],["name","id","type","string"]]],["name","field_value","type","block","flags",["multiple"],"arguments",[["name","field","type","string"],["name","value","type","string"]]]]],"smembers",["summary","Get all the members in a set","since","1.0.0","group","set","complexity","O(N) where N is the set cardinality.","arguments",[["name","key","type","key","key_spec_index",0]]],"swapdb",["summary","Swaps two Redis databases","since","4.0.0","group","server","complexity","O(N) where N is the count of clients watching or blocking on keys from both databases.","arguments",[["name","index1","type","integer"],["name","index2","type","integer"]]],"pexpiretime",["summary","Get the expiration Unix timestamp for a key in milliseconds","since","7.0.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"decr",["summary","Decrement the integer value of a key by one","since","1.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"dbsize",["summary","Return the number of keys in the selected database","since","1.0.0","group","server","complexity","O(1)"],"zcard",["summary","Get the number of members in a sorted set","since","1.2.0","group","sorted-set","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"setbit",["summary","Sets or clears the bit at offset in the string value stored at key","since","2.2.0","group","bitmap","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","offset","type","integer"],["name","value","type","integer"]]],"reset",["summary","Reset the connection","since","6.2.0","group","connection","complexity","O(1)"],"hlen",["summary","Get the number of fields in a hash","since","2.0.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"getrange",["summary","Get a substring of the string stored at a key","since","2.4.0","group","string","complexity","O(N) where N is the length of the returned string. The complexity is ultimately determined by the returned length, but because creating a substring from an existing string is very cheap, it can be considered O(1) for small strings.","arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","integer"],["name","end","type","integer"]]],"command",["summary","Get array of Redis command details","since","2.8.13","group","server","complexity","O(N) where N is the total number of Redis commands","subcommands",["command|info",["summary","Get array of specific Redis command details, or all when no argument is given.","since","2.8.13","group","server","complexity","O(N) where N is the number of commands to look up","history",[["7.0.0","Allowed to be called with no argument to get info on all commands."]],"arguments",[["name","command-name","type","string","flags",["optional","multiple"]]]],"command|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","server","complexity","O(1)"],"command|list",["summary","Get an array of Redis command names","since","7.0.0","group","server","complexity","O(N) where N is the total number of Redis commands","arguments",[["name","filterby","type","oneof","token","FILTERBY","flags",["optional"],"arguments",[["name","module-name","type","string","token","MODULE"],["name","category","type","string","token","ACLCAT"],["name","pattern","type","pattern","token","PATTERN"]]]]],"command|count",["summary","Get total number of Redis commands","since","2.8.13","group","server","complexity","O(1)"],"command|getkeys",["summary","Extract keys given a full Redis command","since","2.8.13","group","server","complexity","O(N) where N is the number of arguments to the command"],"command|getkeysandflags",["summary","Extract keys and access flags given a full Redis command","since","7.0.0","group","server","complexity","O(N) where N is the number of arguments to the command"],"command|docs",["summary","Get array of specific Redis command documentation","since","7.0.0","group","server","complexity","O(N) where N is the number of commands to look up","arguments",[["name","command-name","type","string","flags",["optional","multiple"]]]]]],"lset",["summary","Set the value of an element in a list by its index","since","1.0.0","group","list","complexity","O(N) where N is the length of the list. Setting either the first or the last element of the list is O(1).","arguments",[["name","key","type","key","key_spec_index",0],["name","index","type","integer"],["name","element","type","string"]]],"pfcount",["summary","Return the approximated cardinality of the set(s) observed by the HyperLogLog at key(s).","since","2.8.9","group","hyperloglog","complexity","O(1) with a very small average constant time when called with a single key. O(N) with N being the number of keys, and much bigger constant times, when called with multiple keys.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"geosearchstore",["summary","Query a sorted set representing a geospatial index to fetch members inside an area of a box or a circle, and store the result in another key.","since","6.2.0","group","geo","complexity","O(N+log(M)) where N is the number of elements in the grid-aligned bounding box area around the shape provided as the filter and M is the number of items inside the shape","history",[["7.0.0","Added support for uppercase unit names."]],"arguments",[["name","destination","type","key","key_spec_index",0],["name","source","type","key","key_spec_index",1],["name","from","type","oneof","arguments",[["name","member","type","string","token","FROMMEMBER"],["name","longitude_latitude","type","block","token","FROMLONLAT","arguments",[["name","longitude","type","double"],["name","latitude","type","double"]]]]],["name","by","type","oneof","arguments",[["name","circle","type","block","arguments",[["name","radius","type","double","token","BYRADIUS"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]]]],["name","box","type","block","arguments",[["name","width","type","double","token","BYBOX"],["name","height","type","double"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]]]]]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]],["name","count","type","block","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT"],["name","any","type","pure-token","token","ANY","flags",["optional"]]]],["name","storedist","type","pure-token","token","STOREDIST","flags",["optional"]]]],"lmove",["summary","Pop an element from a list, push it to another list and return it","since","6.2.0","group","list","complexity","O(1)","arguments",[["name","source","type","key","key_spec_index",0],["name","destination","type","key","key_spec_index",1],["name","wherefrom","type","oneof","arguments",[["name","left","type","pure-token","token","LEFT"],["name","right","type","pure-token","token","RIGHT"]]],["name","whereto","type","oneof","arguments",[["name","left","type","pure-token","token","LEFT"],["name","right","type","pure-token","token","RIGHT"]]]]],"slowlog",["summary","A container for slow log commands","since","2.2.12","group","server","complexity","Depends on subcommand.","subcommands",["slowlog|len",["summary","Get the slow log's length","since","2.2.12","group","server","complexity","O(1)"],"slowlog|help",["summary","Show helpful text about the different subcommands","since","6.2.0","group","server","complexity","O(1)"],"slowlog|get",["summary","Get the slow log's entries","since","2.2.12","group","server","complexity","O(N) where N is the number of entries returned","history",[["4.0.0","Added client IP address, port and name to the reply."]],"arguments",[["name","count","type","integer","flags",["optional"]]]],"slowlog|reset",["summary","Clear all entries from the slow log","since","2.2.12","group","server","complexity","O(N) where N is the number of entries in the slowlog"]]],"evalsha_ro",["summary","Execute a read-only Lua script server side","since","7.0.0","group","scripting","complexity","Depends on the script that is executed.","arguments",[["name","sha1","type","string"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["optional","multiple"]],["name","arg","type","string","flags",["optional","multiple"]]]],"xdel",["summary","Removes the specified entries from the stream. Returns the number of items actually deleted, that may be different from the number of IDs passed in case certain IDs do not exist.","since","5.0.0","group","stream","complexity","O(1) for each single item to delete in the stream, regardless of the stream size.","arguments",[["name","key","type","key","key_spec_index",0],["name","id","type","string","flags",["multiple"]]]],"pexpireat",["summary","Set the expiration for a key as a UNIX timestamp specified in milliseconds","since","2.6.0","group","generic","complexity","O(1)","history",[["7.0.0","Added options: `NX`, `XX`, `GT` and `LT`."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","unix-time-milliseconds","type","unix-time"],["name","condition","type","oneof","since","7.0.0","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"],["name","gt","type","pure-token","token","GT"],["name","lt","type","pure-token","token","LT"]]]]],"restore",["summary","Create a key using the provided serialized value, previously obtained using DUMP.","since","2.6.0","group","generic","complexity","O(1) to create the new key and additional O(N*M) to reconstruct the serialized value, where N is the number of Redis objects composing the value and M their average size. For small string values the time complexity is thus O(1)+O(1*M) where M is small, so simply O(1). However for sorted set values the complexity is O(N*M*log(N)) because inserting values into sorted sets is O(log(N)).","history",[["3.0.0","Added the `REPLACE` modifier."],["5.0.0","Added the `ABSTTL` modifier."],["5.0.0","Added the `IDLETIME` and `FREQ` options."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","ttl","type","integer"],["name","serialized-value","type","string"],["name","replace","type","pure-token","token","REPLACE","since","3.0.0","flags",["optional"]],["name","absttl","type","pure-token","token","ABSTTL","since","5.0.0","flags",["optional"]],["name","seconds","type","integer","token","IDLETIME","since","5.0.0","flags",["optional"]],["name","frequency","type","integer","token","FREQ","since","5.0.0","flags",["optional"]]]],"append",["summary","Append a value to a key","since","2.0.0","group","string","complexity","O(1). The amortized time complexity is O(1) assuming the appended value is small and the already present value is of any size, since the dynamic string library used by Redis will double the free space available on every reallocation.","arguments",[["name","key","type","key","key_spec_index",0],["name","value","type","string"]]],"zmpop",["summary","Remove and return members with scores in a sorted set","since","7.0.0","group","sorted-set","complexity","O(K) + O(M*log(N)) where K is the number of provided keys, N being the number of elements in the sorted set, and M being the number of elements popped.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","where","type","oneof","arguments",[["name","min","type","pure-token","token","MIN"],["name","max","type","pure-token","token","MAX"]]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"pfadd",["summary","Adds the specified elements to the specified HyperLogLog.","since","2.8.9","group","hyperloglog","complexity","O(1) to add every element.","arguments",[["name","key","type","key","key_spec_index",0],["name","element","type","string","flags",["optional","multiple"]]]],"getbit",["summary","Returns the bit value at offset in the string value stored at key","since","2.2.0","group","bitmap","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","offset","type","integer"]]],"spublish",["summary","Post a message to a shard channel","since","7.0.0","group","pubsub","complexity","O(N) where N is the number of clients subscribed to the receiving shard channel.","arguments",[["name","shardchannel","type","string"],["name","message","type","string"]]],"mget",["summary","Get the values of all the given keys","since","1.0.0","group","string","complexity","O(N) where N is the number of keys to retrieve.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"geohash",["summary","Returns members of a geospatial index as standard geohash strings","since","3.2.0","group","geo","complexity","O(log(N)) for each member requested, where N is the number of elements in the sorted set.","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"dump",["summary","Return a serialized version of the value stored at the specified key.","since","2.6.0","group","generic","complexity","O(1) to access the key and additional O(N*M) to serialize it, where N is the number of Redis objects composing the value and M their average size. For small string values the time complexity is thus O(1)+O(1*M) where M is small, so simply O(1).","arguments",[["name","key","type","key","key_spec_index",0]]],"debug",["summary","A container for debugging commands","since","1.0.0","group","server","complexity","Depends on subcommand.","doc_flags",["syscmd"]],"incr",["summary","Increment the integer value of a key by one","since","1.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"hstrlen",["summary","Get the length of the value of a hash field","since","3.2.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string"]]],"lrem",["summary","Remove elements from a list","since","1.0.0","group","list","complexity","O(N+M) where N is the length of the list and M is the number of elements removed.","arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer"],["name","element","type","string"]]],"sunionstore",["summary","Add multiple sets and store the resulting set in a key","since","1.0.0","group","set","complexity","O(N) where N is the total number of elements in all given sets.","arguments",[["name","destination","type","key","key_spec_index",0],["name","key","type","key","key_spec_index",1,"flags",["multiple"]]]],"hgetall",["summary","Get all the fields and values in a hash","since","2.0.0","group","hash","complexity","O(N) where N is the size of the hash.","arguments",[["name","key","type","key","key_spec_index",0]]],"mset",["summary","Set multiple keys to multiple values","since","1.0.1","group","string","complexity","O(N) where N is the number of keys to set.","arguments",[["name","key_value","type","block","flags",["multiple"],"arguments",[["name","key","type","key","key_spec_index",0],["name","value","type","string"]]]]],"rpush",["summary","Append one or multiple elements to a list","since","1.0.0","group","list","complexity","O(1) for each element added, so O(N) to add N elements when the command is called with multiple arguments.","history",[["2.4.0","Accepts multiple `element` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","element","type","string","flags",["multiple"]]]],"sort",["summary","Sort the elements in a list, set or sorted set","since","1.0.0","group","generic","complexity","O(N+M*log(M)) where N is the number of elements in the list or set to sort, and M the number of returned elements. When the elements are not sorted, complexity is O(N).","arguments",[["name","key","type","key","key_spec_index",0],["name","pattern","type","pattern","key_spec_index",1,"token","BY","flags",["optional"]],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]],["name","pattern","type","pattern","key_spec_index",1,"token","GET","flags",["optional","multiple","multiple_token"]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]],["name","sorting","type","pure-token","token","ALPHA","flags",["optional"]],["name","destination","type","key","key_spec_index",2,"token","STORE","flags",["optional"]]]],"brpoplpush",["summary","Pop an element from a list, push it to another list and return it; or block until one is available","since","2.2.0","group","list","complexity","O(1)","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`BLMOVE` with the `RIGHT` and `LEFT` arguments","history",[["6.0.0","`timeout` is interpreted as a double instead of an integer."]],"arguments",[["name","source","type","key","key_spec_index",0],["name","destination","type","key","key_spec_index",1],["name","timeout","type","double"]]],"geopos",["summary","Returns longitude and latitude of members of a geospatial index","since","3.2.0","group","geo","complexity","O(N) where N is the number of members requested.","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"zunionstore",["summary","Add multiple sorted sets and store the resulting sorted set in a new key","since","2.0.0","group","sorted-set","complexity","O(N)+O(M log(M)) with N being the sum of the sizes of the input sorted sets, and M being the number of elements in the resulting sorted set.","arguments",[["name","destination","type","key","key_spec_index",0],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",1,"flags",["multiple"]],["name","weight","type","integer","token","WEIGHTS","flags",["optional","multiple"]],["name","aggregate","type","oneof","token","AGGREGATE","flags",["optional"],"arguments",[["name","sum","type","pure-token","token","SUM"],["name","min","type","pure-token","token","MIN"],["name","max","type","pure-token","token","MAX"]]]]],"bitop",["summary","Perform bitwise operations between strings","since","2.6.0","group","bitmap","complexity","O(N)","arguments",[["name","operation","type","string"],["name","destkey","type","key","key_spec_index",0],["name","key","type","key","key_spec_index",1,"flags",["multiple"]]]],"object",["summary","A container for object introspection commands","since","2.2.3","group","generic","complexity","Depends on subcommand.","subcommands",["object|encoding",["summary","Inspect the internal encoding of a Redis object","since","2.2.3","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"object|freq",["summary","Get the logarithmic access frequency counter of a Redis object","since","4.0.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"object|help",["summary","Show helpful text about the different subcommands","since","6.2.0","group","generic","complexity","O(1)"],"object|refcount",["summary","Get the number of references to the value of the key","since","2.2.3","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"object|idletime",["summary","Get the time since a Redis object was last accessed","since","2.2.3","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]]]],"lmpop",["summary","Pop elements from a list","since","7.0.0","group","list","complexity","O(N+M) where N is the number of provided keys and M is the number of elements returned.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","where","type","oneof","arguments",[["name","left","type","pure-token","token","LEFT"],["name","right","type","pure-token","token","RIGHT"]]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"hsetnx",["summary","Set the value of a hash field, only if the field does not exist","since","2.0.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string"],["name","value","type","string"]]],"randomkey",["summary","Return a random key from the keyspace","since","1.0.0","group","generic","complexity","O(1)"],"sintercard",["summary","Intersect multiple sets and return the cardinality of the result","since","7.0.0","group","set","complexity","O(N*M) worst case where N is the cardinality of the smallest set and M is the number of sets.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","limit","type","integer","token","LIMIT","flags",["optional"]]]],"zpopmin",["summary","Remove and return members with the lowest scores in a sorted set","since","5.0.0","group","sorted-set","complexity","O(log(N)*M) with N being the number of elements in the sorted set, and M being the number of elements popped.","arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","flags",["optional"]]]],"renamenx",["summary","Rename a key, only if the new key does not exist","since","1.0.0","group","generic","complexity","O(1)","history",[["3.2.0","The command no longer returns an error when source and destination names are the same."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","newkey","type","key","key_spec_index",1]]],"zincrby",["summary","Increment the score of a member in a sorted set","since","1.2.0","group","sorted-set","complexity","O(log(N)) where N is the number of elements in the sorted set.","arguments",[["name","key","type","key","key_spec_index",0],["name","increment","type","integer"],["name","member","type","string"]]],"punsubscribe",["summary","Stop listening for messages posted to channels matching the given patterns","since","2.0.0","group","pubsub","complexity","O(N+M) where N is the number of patterns the client is already subscribed and M is the number of total patterns subscribed in the system (by any client).","arguments",[["name","pattern","type","pattern","flags",["optional","multiple"]]]],"zadd",["summary","Add one or more members to a sorted set, or update its score if it already exists","since","1.2.0","group","sorted-set","complexity","O(log(N)) for each item added, where N is the number of elements in the sorted set.","history",[["2.4.0","Accepts multiple elements."],["3.0.2","Added the `XX`, `NX`, `CH` and `INCR` options."],["6.2.0","Added the `GT` and `LT` options."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","condition","type","oneof","since","3.0.2","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"]]],["name","comparison","type","oneof","since","6.2.0","flags",["optional"],"arguments",[["name","gt","type","pure-token","token","GT"],["name","lt","type","pure-token","token","LT"]]],["name","change","type","pure-token","token","CH","since","3.0.2","flags",["optional"]],["name","increment","type","pure-token","token","INCR","since","3.0.2","flags",["optional"]],["name","score_member","type","block","flags",["multiple"],"arguments",[["name","score","type","double"],["name","member","type","string"]]]]],"xsetid",["summary","An internal command for replicating stream values","since","5.0.0","group","stream","complexity","O(1)","history",[["7.0.0","Added the `entries_added` and `max_deleted_entry_id` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","last-id","type","string"],["name","entries_added","type","integer","token","ENTRIESADDED","since","7.0.0","flags",["optional"]],["name","max_deleted_entry_id","type","string","token","MAXDELETEDID","since","7.0.0","flags",["optional"]]]],"geoadd",["summary","Add one or more geospatial items in the geospatial index represented using a sorted set","since","3.2.0","group","geo","complexity","O(log(N)) for each item added, where N is the number of elements in the sorted set.","history",[["6.2.0","Added the `CH`, `NX` and `XX` options."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","condition","type","oneof","since","6.2.0","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"]]],["name","change","type","pure-token","token","CH","since","6.2.0","flags",["optional"]],["name","longitude_latitude_member","type","block","flags",["multiple"],"arguments",[["name","longitude","type","double"],["name","latitude","type","double"],["name","member","type","string"]]]]],"acl",["summary","A container for Access List Control commands ","since","6.0.0","group","server","complexity","Depends on subcommand.","subcommands",["acl|load",["summary","Reload the ACLs from the configured ACL file","since","6.0.0","group","server","complexity","O(N). Where N is the number of configured users."],"acl|getuser",["summary","Get the rules for a specific ACL user","since","6.0.0","group","server","complexity","O(N). Where N is the number of password, command and pattern rules that the user has.","history",[["6.2.0","Added Pub/Sub channel patterns."],["7.0.0","Added selectors and changed the format of key and channel patterns from a list to their rule representation."]],"arguments",[["name","username","type","string"]]],"acl|dryrun",["summary","Returns whether the user can execute the given command without executing the command.","since","7.0.0","group","server","complexity","O(1).","arguments",[["name","username","type","string"],["name","command","type","string"],["name","arg","type","string","flags",["optional","multiple"]]]],"acl|help",["summary","Show helpful text about the different subcommands","since","6.0.0","group","server","complexity","O(1)"],"acl|genpass",["summary","Generate a pseudorandom secure password to use for ACL users","since","6.0.0","group","server","complexity","O(1)","arguments",[["name","bits","type","integer","flags",["optional"]]]],"acl|save",["summary","Save the current ACL rules in the configured ACL file","since","6.0.0","group","server","complexity","O(N). Where N is the number of configured users."],"acl|setuser",["summary","Modify or create the rules for a specific ACL user","since","6.0.0","group","server","complexity","O(N). Where N is the number of rules provided.","history",[["6.2.0","Added Pub/Sub channel patterns."],["7.0.0","Added selectors and key based permissions."]],"arguments",[["name","username","type","string"],["name","rule","type","string","flags",["optional","multiple"]]]],"acl|log",["summary","List latest events denied because of ACLs in place","since","6.0.0","group","server","complexity","O(N) with N being the number of entries shown.","arguments",[["name","operation","type","oneof","flags",["optional"],"arguments",[["name","count","type","integer"],["name","reset","type","pure-token","token","RESET"]]]]],"acl|list",["summary","List the current ACL rules in ACL config file format","since","6.0.0","group","server","complexity","O(N). Where N is the number of configured users."],"acl|users",["summary","List the username of all the configured ACL rules","since","6.0.0","group","server","complexity","O(N). Where N is the number of configured users."],"acl|whoami",["summary","Return the name of the user associated to the current connection","since","6.0.0","group","server","complexity","O(1)"],"acl|deluser",["summary","Remove the specified ACL users and the associated rules","since","6.0.0","group","server","complexity","O(1) amortized time considering the typical user.","arguments",[["name","username","type","string","flags",["multiple"]]]],"acl|cat",["summary","List the ACL categories or the commands inside a category","since","6.0.0","group","server","complexity","O(1) since the categories and commands are a fixed set.","arguments",[["name","categoryname","type","string","flags",["optional"]]]]]],"lastsave",["summary","Get the UNIX time stamp of the last successful save to disk","since","1.0.0","group","server","complexity","O(1)"],"wait",["summary","Wait for the synchronous replication of all the write commands sent in the context of the current connection","since","3.0.0","group","generic","complexity","O(1)","arguments",[["name","numreplicas","type","integer"],["name","timeout","type","integer"]]],"zrem",["summary","Remove one or more members from a sorted set","since","1.2.0","group","sorted-set","complexity","O(M*log(N)) with N being the number of elements in the sorted set and M the number of elements to be removed.","history",[["2.4.0","Accepts multiple elements."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"discard",["summary","Discard all commands issued after MULTI","since","2.0.0","group","transactions","complexity","O(N), when N is the number of queued commands"],"unwatch",["summary","Forget about all watched keys","since","2.2.0","group","transactions","complexity","O(1)"],"zmscore",["summary","Get the score associated with the given members in a sorted set","since","6.2.0","group","sorted-set","complexity","O(N) where N is the number of members being requested.","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"zrevrange",["summary","Return a range of members in a sorted set, by index, with scores ordered from high to low","since","1.2.0","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements returned.","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`ZRANGE` with the `REV` argument","arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","integer"],["name","stop","type","integer"],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]]]],"memory",["summary","A container for memory diagnostics commands","since","4.0.0","group","server","complexity","Depends on subcommand.","subcommands",["memory|doctor",["summary","Outputs memory problems report","since","4.0.0","group","server","complexity","O(1)"],"memory|purge",["summary","Ask the allocator to release memory","since","4.0.0","group","server","complexity","Depends on how much memory is allocated, could be slow"],"memory|malloc-stats",["summary","Show allocator internal stats","since","4.0.0","group","server","complexity","Depends on how much memory is allocated, could be slow"],"memory|help",["summary","Show helpful text about the different subcommands","since","4.0.0","group","server","complexity","O(1)"],"memory|usage",["summary","Estimate the memory usage of a key","since","4.0.0","group","server","complexity","O(N) where N is the number of samples.","arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","token","SAMPLES","flags",["optional"]]]],"memory|stats",["summary","Show memory usage details","since","4.0.0","group","server","complexity","O(1)"]]],"brpop",["summary","Remove and get the last element in a list, or block until one is available","since","2.0.0","group","list","complexity","O(N) where N is the number of provided keys.","history",[["6.0.0","`timeout` is interpreted as a double instead of an integer."]],"arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","timeout","type","double"]]],"monitor",["summary","Listen for all requests received by the server in real time","since","1.0.0","group","server"],"zrevrangebylex",["summary","Return a range of members in a sorted set, by lexicographical range, ordered from higher to lower strings.","since","2.8.9","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements being returned. If M is constant (e.g. always asking for the first 10 elements with LIMIT), you can consider it O(log(N)).","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`ZRANGE` with the `REV` and `BYLEX` arguments","arguments",[["name","key","type","key","key_spec_index",0],["name","max","type","string"],["name","min","type","string"],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]]]],"pexpire",["summary","Set a key's time to live in milliseconds","since","2.6.0","group","generic","complexity","O(1)","history",[["7.0.0","Added options: `NX`, `XX`, `GT` and `LT`."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","milliseconds","type","integer"],["name","condition","type","oneof","since","7.0.0","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"],["name","gt","type","pure-token","token","GT"],["name","lt","type","pure-token","token","LT"]]]]],"sort_ro",["summary","Sort the elements in a list, set or sorted set. Read-only variant of SORT.","since","7.0.0","group","generic","complexity","O(N+M*log(M)) where N is the number of elements in the list or set to sort, and M the number of returned elements. When the elements are not sorted, complexity is O(N).","arguments",[["name","key","type","key","key_spec_index",0],["name","pattern","type","pattern","key_spec_index",1,"token","BY","flags",["optional"]],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]],["name","pattern","type","pattern","key_spec_index",1,"token","GET","flags",["optional","multiple","multiple_token"]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]],["name","sorting","type","pure-token","token","ALPHA","flags",["optional"]]]],"psync",["summary","Internal command used for replication","since","2.8.0","group","server","arguments",[["name","replicationid","type","string"],["name","offset","type","integer"]]],"persist",["summary","Remove the expiration from a key","since","2.2.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"pfdebug",["summary","Internal commands for debugging HyperLogLog values","since","2.8.9","group","hyperloglog","complexity","N/A","doc_flags",["syscmd"],"arguments",[["name","subcommand","type","string"],["name","key","type","key","key_spec_index",0]]],"hdel",["summary","Delete one or more hash fields","since","2.0.0","group","hash","complexity","O(N) where N is the number of fields to be removed.","history",[["2.4.0","Accepts multiple `field` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string","flags",["multiple"]]]],"type",["summary","Determine the type stored at key","since","1.0.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"del",["summary","Delete a key","since","1.0.0","group","generic","complexity","O(N) where N is the number of keys that will be removed. When a key to remove holds a value other than a string, the individual complexity for this key is O(M) where M is the number of elements in the list, set, sorted set or hash. Removing a single key that holds a string value is O(1).","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"failover",["summary","Start a coordinated failover between this server and one of its replicas.","since","6.2.0","group","server","complexity","O(1)","arguments",[["name","target","type","block","token","TO","flags",["optional"],"arguments",[["name","host","type","string"],["name","port","type","integer"],["name","force","type","pure-token","token","FORCE","flags",["optional"]]]],["name","abort","type","pure-token","token","ABORT","flags",["optional"]],["name","milliseconds","type","integer","token","TIMEOUT","flags",["optional"]]]],"substr",["summary","Get a substring of the string stored at a key","since","1.0.0","group","string","complexity","O(N) where N is the length of the returned string. The complexity is ultimately determined by the returned length, but because creating a substring from an existing string is very cheap, it can be considered O(1) for small strings.","doc_flags",["deprecated"],"deprecated_since","2.0.0","replaced_by","`GETRANGE`","arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","integer"],["name","end","type","integer"]]],"georadius_ro",["summary","A read-only variant for GEORADIUS","since","3.2.10","group","geo","complexity","O(N+log(M)) where N is the number of elements inside the bounding box of the circular area delimited by center and radius and M is the number of items inside the index.","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`GEOSEARCH` with the `BYRADIUS` argument","history",[["6.2.0","Added the `ANY` option for `COUNT`."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","longitude","type","double"],["name","latitude","type","double"],["name","radius","type","double"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]],["name","withcoord","type","pure-token","token","WITHCOORD","flags",["optional"]],["name","withdist","type","pure-token","token","WITHDIST","flags",["optional"]],["name","withhash","type","pure-token","token","WITHHASH","flags",["optional"]],["name","count","type","block","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT"],["name","any","type","pure-token","token","ANY","since","6.2.0","flags",["optional"]]]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]]]],"flushdb",["summary","Remove all keys from the current database","since","1.0.0","group","server","complexity","O(N) where N is the number of keys in the selected database","history",[["4.0.0","Added the `ASYNC` flushing mode modifier."],["6.2.0","Added the `SYNC` flushing mode modifier."]],"arguments",[["name","async","type","oneof","flags",["optional"],"arguments",[["name","async","type","pure-token","token","ASYNC","since","4.0.0"],["name","sync","type","pure-token","token","SYNC","since","6.2.0"]]]]],"zdiff",["summary","Subtract multiple sorted sets","since","6.2.0","group","sorted-set","complexity","O(L + (N-K)log(N)) worst case where L is the total number of elements in all the sets, N is the size of the first set, and K is the size of the result set.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]]]],"blmove",["summary","Pop an element from a list, push it to another list and return it; or block until one is available","since","6.2.0","group","list","complexity","O(1)","arguments",[["name","source","type","key","key_spec_index",0],["name","destination","type","key","key_spec_index",1],["name","wherefrom","type","oneof","arguments",[["name","left","type","pure-token","token","LEFT"],["name","right","type","pure-token","token","RIGHT"]]],["name","whereto","type","oneof","arguments",[["name","left","type","pure-token","token","LEFT"],["name","right","type","pure-token","token","RIGHT"]]],["name","timeout","type","double"]]],"hget",["summary","Get the value of a hash field","since","2.0.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string"]]],"auth",["summary","Authenticate to the server","since","1.0.0","group","connection","complexity","O(N) where N is the number of passwords defined for the user","history",[["6.0.0","Added ACL style (username and password)."]],"arguments",[["name","username","type","string","since","6.0.0","flags",["optional"]],["name","password","type","string"]]],"lindex",["summary","Get an element from a list by its index","since","1.0.0","group","list","complexity","O(N) where N is the number of elements to traverse to get to the element at index. This makes asking for the first or the last element of the list O(1).","arguments",[["name","key","type","key","key_spec_index",0],["name","index","type","integer"]]],"exists",["summary","Determine if a key exists","since","1.0.0","group","generic","complexity","O(N) where N is the number of keys to check.","history",[["3.0.3","Accepts multiple `key` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"getex",["summary","Get the value of a key and optionally set its expiration","since","6.2.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","expiration","type","oneof","flags",["optional"],"arguments",[["name","seconds","type","integer","token","EX"],["name","milliseconds","type","integer","token","PX"],["name","unix-time-seconds","type","unix-time","token","EXAT"],["name","unix-time-milliseconds","type","unix-time","token","PXAT"],["name","persist","type","pure-token","token","PERSIST"]]]]],"zcount",["summary","Count the members in a sorted set with scores within the given values","since","2.0.0","group","sorted-set","complexity","O(log(N)) with N being the number of elements in the sorted set.","arguments",[["name","key","type","key","key_spec_index",0],["name","min","type","double"],["name","max","type","double"]]],"lpush",["summary","Prepend one or multiple elements to a list","since","1.0.0","group","list","complexity","O(1) for each element added, so O(N) to add N elements when the command is called with multiple arguments.","history",[["2.4.0","Accepts multiple `element` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","element","type","string","flags",["multiple"]]]],"sinter",["summary","Intersect multiple sets","since","1.0.0","group","set","complexity","O(N*M) worst case where N is the cardinality of the smallest set and M is the number of sets.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"setrange",["summary","Overwrite part of a string at key starting at the specified offset","since","2.2.0","group","string","complexity","O(1), not counting the time taken to copy the new string in place. Usually, this string is very small so the amortized complexity is O(1). Otherwise, complexity is O(M) with M being the length of the value argument.","arguments",[["name","key","type","key","key_spec_index",0],["name","offset","type","integer"],["name","value","type","string"]]],"incrbyfloat",["summary","Increment the float value of a key by the given amount","since","2.6.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","increment","type","double"]]],"zrandmember",["summary","Get one or multiple random elements from a sorted set","since","6.2.0","group","sorted-set","complexity","O(N) where N is the number of elements returned","arguments",[["name","key","type","key","key_spec_index",0],["name","options","type","block","flags",["optional"],"arguments",[["name","count","type","integer"],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]]]]]],"xautoclaim",["summary","Changes (or acquires) ownership of messages in a consumer group, as if the messages were delivered to the specified consumer.","since","6.2.0","group","stream","complexity","O(1) if COUNT is small.","history",[["7.0.0","Added an element to the reply array, containing deleted entries the command cleared from the PEL"]],"arguments",[["name","key","type","key","key_spec_index",0],["name","group","type","string"],["name","consumer","type","string"],["name","min-idle-time","type","string"],["name","start","type","string"],["name","count","type","integer","token","COUNT","flags",["optional"]],["name","justid","type","pure-token","token","JUSTID","flags",["optional"]]]],"setnx",["summary","Set the value of a key, only if the key does not exist","since","1.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","value","type","string"]]],"psubscribe",["summary","Listen for messages published to channels matching the given patterns","since","2.0.0","group","pubsub","complexity","O(N) where N is the number of patterns the client is already subscribed to.","arguments",[["name","pattern","type","block","flags",["multiple"],"arguments",[["name","pattern","type","pattern"]]]]],"srem",["summary","Remove one or more members from a set","since","1.0.0","group","set","complexity","O(N) where N is the number of members to be removed.","history",[["2.4.0","Accepts multiple `member` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"readonly",["summary","Enables read queries for a connection to a cluster replica node","since","3.0.0","group","cluster","complexity","O(1)"],"time",["summary","Return the current server time","since","2.6.0","group","server","complexity","O(1)"],"georadius",["summary","Query a sorted set representing a geospatial index to fetch members matching a given maximum distance from a point","since","3.2.0","group","geo","complexity","O(N+log(M)) where N is the number of elements inside the bounding box of the circular area delimited by center and radius and M is the number of items inside the index.","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`GEOSEARCH` and `GEOSEARCHSTORE` with the `BYRADIUS` argument","history",[["6.2.0","Added the `ANY` option for `COUNT`."],["7.0.0","Added support for uppercase unit names."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","longitude","type","double"],["name","latitude","type","double"],["name","radius","type","double"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]],["name","withcoord","type","pure-token","token","WITHCOORD","flags",["optional"]],["name","withdist","type","pure-token","token","WITHDIST","flags",["optional"]],["name","withhash","type","pure-token","token","WITHHASH","flags",["optional"]],["name","count","type","block","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT"],["name","any","type","pure-token","token","ANY","since","6.2.0","flags",["optional"]]]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]],["name","key","type","key","key_spec_index",1,"token","STORE","flags",["optional"]],["name","key","type","key","key_spec_index",2,"token","STOREDIST","flags",["optional"]]]],"zscore",["summary","Get the score associated with the given member in a sorted set","since","1.2.0","group","sorted-set","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string"]]],"xlen",["summary","Return the number of entries in a stream","since","5.0.0","group","stream","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"xgroup",["summary","A container for consumer groups commands","since","5.0.0","group","stream","complexity","Depends on subcommand.","subcommands",["xgroup|delconsumer",["summary","Delete a consumer from a consumer group.","since","5.0.0","group","stream","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","groupname","type","string"],["name","consumername","type","string"]]],"xgroup|createconsumer",["summary","Create a consumer in a consumer group.","since","6.2.0","group","stream","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","groupname","type","string"],["name","consumername","type","string"]]],"xgroup|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","stream","complexity","O(1)"],"xgroup|destroy",["summary","Destroy a consumer group.","since","5.0.0","group","stream","complexity","O(N) where N is the number of entries in the group's pending entries list (PEL).","arguments",[["name","key","type","key","key_spec_index",0],["name","groupname","type","string"]]],"xgroup|setid",["summary","Set a consumer group to an arbitrary last delivered ID value.","since","5.0.0","group","stream","complexity","O(1)","history",[["7.0.0","Added the optional `entries_read` argument."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","groupname","type","string"],["name","id","type","oneof","arguments",[["name","id","type","string"],["name","new_id","type","pure-token","token","$"]]],["name","entries_read","type","integer","token","ENTRIESREAD","flags",["optional"]]]],"xgroup|create",["summary","Create a consumer group.","since","5.0.0","group","stream","complexity","O(1)","history",[["7.0.0","Added the `entries_read` named argument."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","groupname","type","string"],["name","id","type","oneof","arguments",[["name","id","type","string"],["name","new_id","type","pure-token","token","$"]]],["name","mkstream","type","pure-token","token","MKSTREAM","flags",["optional"]],["name","entries_read","type","integer","token","ENTRIESREAD","flags",["optional"]]]]]],"get",["summary","Get the value of a key","since","1.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"zinter",["summary","Intersect multiple sorted sets","since","6.2.0","group","sorted-set","complexity","O(N*K)+O(M*log(M)) worst case with N being the smallest input sorted set, K being the number of input sorted sets and M being the number of elements in the resulting sorted set.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","weight","type","integer","token","WEIGHTS","flags",["optional","multiple"]],["name","aggregate","type","oneof","token","AGGREGATE","flags",["optional"],"arguments",[["name","sum","type","pure-token","token","SUM"],["name","min","type","pure-token","token","MIN"],["name","max","type","pure-token","token","MAX"]]],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]]]],"geodist",["summary","Returns the distance between two members of a geospatial index","since","3.2.0","group","geo","complexity","O(log(N))","arguments",[["name","key","type","key","key_spec_index",0],["name","member1","type","string"],["name","member2","type","string"],["name","unit","type","oneof","flags",["optional"],"arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]]]],"lpop",["summary","Remove and get the first elements in a list","since","1.0.0","group","list","complexity","O(N) where N is the number of elements returned","history",[["6.2.0","Added the `count` argument."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","since","6.2.0","flags",["optional"]]]],"select",["summary","Change the selected database for the current connection","since","1.0.0","group","connection","complexity","O(1)","arguments",[["name","index","type","integer"]]],"ssubscribe",["summary","Listen for messages published to the given shard channels","since","7.0.0","group","pubsub","complexity","O(N) where N is the number of shard channels to subscribe to.","arguments",[["name","shardchannel","type","string","flags",["multiple"]]]],"sadd",["summary","Add one or more members to a set","since","1.0.0","group","set","complexity","O(1) for each element added, so O(N) to add N elements when the command is called with multiple arguments.","history",[["2.4.0","Accepts multiple `member` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"sunsubscribe",["summary","Stop listening for messages posted to the given shard channels","since","7.0.0","group","pubsub","complexity","O(N) where N is the number of clients already subscribed to a shard channel.","arguments",[["name","shardchannel","type","string","flags",["optional","multiple"]]]],"rpop",["summary","Remove and get the last elements in a list","since","1.0.0","group","list","complexity","O(N) where N is the number of elements returned","history",[["6.2.0","Added the `count` argument."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","since","6.2.0","flags",["optional"]]]],"getdel",["summary","Get the value of a key and delete the key","since","6.2.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"bzpopmax",["summary","Remove and return the member with the highest score from one or more sorted sets, or block until one is available","since","5.0.0","group","sorted-set","complexity","O(log(N)) with N being the number of elements in the sorted set.","history",[["6.0.0","`timeout` is interpreted as a double instead of an integer."]],"arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","timeout","type","double"]]],"eval_ro",["summary","Execute a read-only Lua script server side","since","7.0.0","group","scripting","complexity","Depends on the script that is executed.","arguments",[["name","script","type","string"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["optional","multiple"]],["name","arg","type","string","flags",["optional","multiple"]]]],"strlen",["summary","Get the length of the value stored in a key","since","2.2.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"bgsave",["summary","Asynchronously save the dataset to disk","since","1.0.0","group","server","complexity","O(1)","history",[["3.2.2","Added the `SCHEDULE` option."]],"arguments",[["name","schedule","type","pure-token","token","SCHEDULE","since","3.2.2","flags",["optional"]]]],"georadiusbymember",["summary","Query a sorted set representing a geospatial index to fetch members matching a given maximum distance from a member","since","3.2.0","group","geo","complexity","O(N+log(M)) where N is the number of elements inside the bounding box of the circular area delimited by center and radius and M is the number of items inside the index.","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`GEOSEARCH` and `GEOSEARCHSTORE` with the `BYRADIUS` and `FROMMEMBER` arguments","history",[["7.0.0","Added support for uppercase unit names."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string"],["name","radius","type","double"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]],["name","withcoord","type","pure-token","token","WITHCOORD","flags",["optional"]],["name","withdist","type","pure-token","token","WITHDIST","flags",["optional"]],["name","withhash","type","pure-token","token","WITHHASH","flags",["optional"]],["name","count","type","block","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT"],["name","any","type","pure-token","token","ANY","flags",["optional"]]]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]],["name","key","type","key","key_spec_index",1,"token","STORE","flags",["optional"]],["name","key","type","key","key_spec_index",2,"token","STOREDIST","flags",["optional"]]]],"unsubscribe",["summary","Stop listening for messages posted to the given channels","since","2.0.0","group","pubsub","complexity","O(N) where N is the number of clients already subscribed to a channel.","arguments",[["name","channel","type","string","flags",["optional","multiple"]]]],"sdiff",["summary","Subtract multiple sets","since","1.0.0","group","set","complexity","O(N) where N is the total number of elements in all given sets.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"quit",["summary","Close the connection","since","1.0.0","group","connection","complexity","O(1)"],"decrby",["summary","Decrement the integer value of a key by the given number","since","1.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","decrement","type","integer"]]],"psetex",["summary","Set the value and expiration in milliseconds of a key","since","2.6.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","milliseconds","type","integer"],["name","value","type","string"]]],"hrandfield",["summary","Get one or multiple random fields from a hash","since","6.2.0","group","hash","complexity","O(N) where N is the number of fields returned","arguments",[["name","key","type","key","key_spec_index",0],["name","options","type","block","flags",["optional"],"arguments",[["name","count","type","integer"],["name","withvalues","type","pure-token","token","WITHVALUES","flags",["optional"]]]]]],"hvals",["summary","Get all the values in a hash","since","2.0.0","group","hash","complexity","O(N) where N is the size of the hash.","arguments",[["name","key","type","key","key_spec_index",0]]],"bgrewriteaof",["summary","Asynchronously rewrite the append-only file","since","1.0.0","group","server","complexity","O(1)"],"xpending",["summary","Return information and entries from a stream consumer group pending entries list, that are messages fetched but never acknowledged.","since","5.0.0","group","stream","complexity","O(N) with N being the number of elements returned, so asking for a small fixed number of entries per call is O(1). O(M), where M is the total number of entries scanned when used with the IDLE filter. When the command returns just the summary and the list of consumers is small, it runs in O(1) time; otherwise, an additional O(N) time for iterating every consumer.","history",[["6.2.0","Added the `IDLE` option and exclusive range intervals."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","group","type","string"],["name","filters","type","block","flags",["optional"],"arguments",[["name","min-idle-time","type","integer","token","IDLE","since","6.2.0","flags",["optional"]],["name","start","type","string"],["name","end","type","string"],["name","count","type","integer"],["name","consumer","type","string","flags",["optional"]]]]]],"pfmerge",["summary","Merge N different HyperLogLogs into a single one.","since","2.8.9","group","hyperloglog","complexity","O(N) to merge N HyperLogLogs, but with high constant times.","arguments",[["name","destkey","type","key","key_spec_index",0],["name","sourcekey","type","key","key_spec_index",1,"flags",["multiple"]]]],"ttl",["summary","Get the time to live for a key in seconds","since","1.0.0","group","generic","complexity","O(1)","history",[["2.8.0","Added the -2 reply."]],"arguments",[["name","key","type","key","key_spec_index",0]]],"cluster",["summary","A container for cluster commands","since","3.0.0","group","cluster","complexity","Depends on subcommand.","subcommands",["cluster|nodes",["summary","Get Cluster config for the node","since","3.0.0","group","cluster","complexity","O(N) where N is the total number of Cluster nodes"],"cluster|delslots",["summary","Set hash slots as unbound in receiving node","since","3.0.0","group","cluster","complexity","O(N) where N is the total number of hash slot arguments","arguments",[["name","slot","type","integer","flags",["multiple"]]]],"cluster|info",["summary","Provides info about Redis Cluster node state","since","3.0.0","group","cluster","complexity","O(1)"],"cluster|failover",["summary","Forces a replica to perform a manual failover of its master.","since","3.0.0","group","cluster","complexity","O(1)","arguments",[["name","options","type","oneof","flags",["optional"],"arguments",[["name","force","type","pure-token","token","FORCE"],["name","takeover","type","pure-token","token","TAKEOVER"]]]]],"cluster|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","cluster","complexity","O(1)"],"cluster|shards",["summary","Get array of cluster slots to node mappings","since","7.0.0","group","cluster","complexity","O(N) where N is the total number of cluster nodes"],"cluster|bumpepoch",["summary","Advance the cluster config epoch","since","3.0.0","group","cluster","complexity","O(1)"],"cluster|saveconfig",["summary","Forces the node to save cluster state on disk","since","3.0.0","group","cluster","complexity","O(1)"],"cluster|slaves",["summary","List replica nodes of the specified master node","since","3.0.0","group","cluster","complexity","O(1)","doc_flags",["deprecated"],"deprecated_since","5.0.0","replaced_by","`CLUSTER REPLICAS`","arguments",[["name","node-id","type","string"]]],"cluster|countkeysinslot",["summary","Return the number of local keys in the specified hash slot","since","3.0.0","group","cluster","complexity","O(1)","arguments",[["name","slot","type","integer"]]],"cluster|flushslots",["summary","Delete a node's own slots information","since","3.0.0","group","cluster","complexity","O(1)"],"cluster|addslotsrange",["summary","Assign new hash slots to receiving node","since","7.0.0","group","cluster","complexity","O(N) where N is the total number of the slots between the start slot and end slot arguments.","arguments",[["name","start-slot_end-slot","type","block","flags",["multiple"],"arguments",[["name","start-slot","type","integer"],["name","end-slot","type","integer"]]]]],"cluster|links",["summary","Returns a list of all TCP links to and from peer nodes in cluster","since","7.0.0","group","cluster","complexity","O(N) where N is the total number of Cluster nodes"],"cluster|addslots",["summary","Assign new hash slots to receiving node","since","3.0.0","group","cluster","complexity","O(N) where N is the total number of hash slot arguments","arguments",[["name","slot","type","integer","flags",["multiple"]]]],"cluster|delslotsrange",["summary","Set hash slots as unbound in receiving node","since","7.0.0","group","cluster","complexity","O(N) where N is the total number of the slots between the start slot and end slot arguments.","arguments",[["name","start-slot_end-slot","type","block","flags",["multiple"],"arguments",[["name","start-slot","type","integer"],["name","end-slot","type","integer"]]]]],"cluster|myid",["summary","Return the node id","since","3.0.0","group","cluster","complexity","O(1)"],"cluster|keyslot",["summary","Returns the hash slot of the specified key","since","3.0.0","group","cluster","complexity","O(N) where N is the number of bytes in the key","arguments",[["name","key","type","string"]]],"cluster|count-failure-reports",["summary","Return the number of failure reports active for a given node","since","3.0.0","group","cluster","complexity","O(N) where N is the number of failure reports","arguments",[["name","node-id","type","string"]]],"cluster|slots",["summary","Get array of Cluster slot to node mappings","since","3.0.0","group","cluster","complexity","O(N) where N is the total number of Cluster nodes","doc_flags",["deprecated"],"deprecated_since","7.0.0","replaced_by","`CLUSTER SHARDS`","history",[["4.0.0","Added node IDs."],["7.0.0","Added additional networking metadata field."]]],"cluster|setslot",["summary","Bind a hash slot to a specific node","since","3.0.0","group","cluster","complexity","O(1)","arguments",[["name","slot","type","integer"],["name","subcommand","type","oneof","arguments",[["name","node-id","type","string","token","IMPORTING"],["name","node-id","type","string","token","MIGRATING"],["name","node-id","type","string","token","NODE"],["name","stable","type","pure-token","token","STABLE"]]]]],"cluster|set-config-epoch",["summary","Set the configuration epoch in a new node","since","3.0.0","group","cluster","complexity","O(1)","arguments",[["name","config-epoch","type","integer"]]],"cluster|replicate",["summary","Reconfigure a node as a replica of the specified master node","since","3.0.0","group","cluster","complexity","O(1)","arguments",[["name","node-id","type","string"]]],"cluster|forget",["summary","Remove a node from the nodes table","since","3.0.0","group","cluster","complexity","O(1)","arguments",[["name","node-id","type","string"]]],"cluster|getkeysinslot",["summary","Return local key names in the specified hash slot","since","3.0.0","group","cluster","complexity","O(log(N)) where N is the number of requested keys","arguments",[["name","slot","type","integer"],["name","count","type","integer"]]],"cluster|meet",["summary","Force a node cluster to handshake with another node","since","3.0.0","group","cluster","complexity","O(1)","history",[["4.0.0","Added the optional `cluster_bus_port` argument."]],"arguments",[["name","ip","type","string"],["name","port","type","integer"],["name","cluster_bus_port","type","integer","since","4.0.0","flags",["optional"]]]],"cluster|reset",["summary","Reset a Redis Cluster node","since","3.0.0","group","cluster","complexity","O(N) where N is the number of known nodes. The command may execute a FLUSHALL as a side effect.","arguments",[["name","hard_soft","type","oneof","flags",["optional"],"arguments",[["name","hard","type","pure-token","token","HARD"],["name","soft","type","pure-token","token","SOFT"]]]]],"cluster|replicas",["summary","List replica nodes of the specified master node","since","5.0.0","group","cluster","complexity","O(1)","arguments",[["name","node-id","type","string"]]]]],"expire",["summary","Set a key's time to live in seconds","since","1.0.0","group","generic","complexity","O(1)","history",[["7.0.0","Added options: `NX`, `XX`, `GT` and `LT`."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","seconds","type","integer"],["name","condition","type","oneof","since","7.0.0","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"],["name","gt","type","pure-token","token","GT"],["name","lt","type","pure-token","token","LT"]]]]],"bitfield_ro",["summary","Perform arbitrary bitfield integer operations on strings. Read-only variant of BITFIELD","since","6.0.0","group","bitmap","complexity","O(1) for each subcommand specified","arguments",[["name","key","type","key","key_spec_index",0],["name","encoding_offset","type","block","token","GET","flags",["optional","multiple","multiple_token"],"arguments",[["name","encoding","type","string"],["name","offset","type","integer"]]]]],"restore-asking",["summary","An internal command for migrating keys in a cluster","since","3.0.0","group","server","complexity","O(1) to create the new key and additional O(N*M) to reconstruct the serialized value, where N is the number of Redis objects composing the value and M their average size. For small string values the time complexity is thus O(1)+O(1*M) where M is small, so simply O(1). However for sorted set values the complexity is O(N*M*log(N)) because inserting values into sorted sets is O(log(N)).","doc_flags",["syscmd"],"history",[["3.0.0","Added the `REPLACE` modifier."],["5.0.0","Added the `ABSTTL` modifier."],["5.0.0","Added the `IDLETIME` and `FREQ` options."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","ttl","type","integer"],["name","serialized-value","type","string"],["name","replace","type","pure-token","token","REPLACE","since","3.0.0","flags",["optional"]],["name","absttl","type","pure-token","token","ABSTTL","since","5.0.0","flags",["optional"]],["name","seconds","type","integer","token","IDLETIME","since","5.0.0","flags",["optional"]],["name","frequency","type","integer","token","FREQ","since","5.0.0","flags",["optional"]]]],"watch",["summary","Watch the given keys to determine execution of the MULTI/EXEC block","since","2.2.0","group","transactions","complexity","O(1) for every key.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"copy",["summary","Copy a key","since","6.2.0","group","generic","complexity","O(N) worst case for collections, where N is the number of nested items. O(1) for string values.","arguments",[["name","source","type","key","key_spec_index",0],["name","destination","type","key","key_spec_index",1],["name","destination-db","type","integer","token","DB","flags",["optional"]],["name","replace","type","pure-token","token","REPLACE","flags",["optional"]]]],"ltrim",["summary","Trim a list to the specified range","since","1.0.0","group","list","complexity","O(N) where N is the number of elements to be removed by the operation.","arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","integer"],["name","stop","type","integer"]]],"srandmember",["summary","Get one or multiple random members from a set","since","1.0.0","group","set","complexity","Without the count argument O(1), otherwise O(N) where N is the absolute value of the passed count.","history",[["2.6.0","Added the optional `count` argument."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","since","2.6.0","flags",["optional"]]]],"linsert",["summary","Insert an element before or after another element in a list","since","2.2.0","group","list","complexity","O(N) where N is the number of elements to traverse before seeing the value pivot. This means that inserting somewhere on the left end on the list (head) can be considered O(1) and inserting somewhere on the right end (tail) is O(N).","arguments",[["name","key","type","key","key_spec_index",0],["name","where","type","oneof","arguments",[["name","before","type","pure-token","token","BEFORE"],["name","after","type","pure-token","token","AFTER"]]],["name","pivot","type","string"],["name","element","type","string"]]],"pfselftest",["summary","An internal command for testing HyperLogLog values","since","2.8.9","group","hyperloglog","complexity","N/A","doc_flags",["syscmd"]],"lpos",["summary","Return the index of matching elements on a list","since","6.0.6","group","list","complexity","O(N) where N is the number of elements in the list, for the average case. When searching for elements near the head or the tail of the list, or when the MAXLEN option is provided, the command may run in constant time.","arguments",[["name","key","type","key","key_spec_index",0],["name","element","type","string"],["name","rank","type","integer","token","RANK","flags",["optional"]],["name","num-matches","type","integer","token","COUNT","flags",["optional"]],["name","len","type","integer","token","MAXLEN","flags",["optional"]]]],"zlexcount",["summary","Count the number of members in a sorted set between a given lexicographical range","since","2.8.9","group","sorted-set","complexity","O(log(N)) with N being the number of elements in the sorted set.","arguments",[["name","key","type","key","key_spec_index",0],["name","min","type","string"],["name","max","type","string"]]],"blpop",["summary","Remove and get the first element in a list, or block until one is available","since","2.0.0","group","list","complexity","O(N) where N is the number of provided keys.","history",[["6.0.0","`timeout` is interpreted as a double instead of an integer."]],"arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","timeout","type","double"]]],"migrate",["summary","Atomically transfer a key from a Redis instance to another one.","since","2.6.0","group","generic","complexity","This command actually executes a DUMP+DEL in the source instance, and a RESTORE in the target instance. See the pages of these commands for time complexity. Also an O(N) data transfer between the two instances is performed.","history",[["3.0.0","Added the `COPY` and `REPLACE` options."],["3.0.6","Added the `KEYS` option."],["4.0.7","Added the `AUTH` option."],["6.0.0","Added the `AUTH2` option."]],"arguments",[["name","host","type","string"],["name","port","type","integer"],["name","key_or_empty_string","type","oneof","arguments",[["name","key","type","key","key_spec_index",0],["name","empty_string","type","pure-token","token",""]]],["name","destination-db","type","integer"],["name","timeout","type","integer"],["name","copy","type","pure-token","token","COPY","since","3.0.0","flags",["optional"]],["name","replace","type","pure-token","token","REPLACE","since","3.0.0","flags",["optional"]],["name","authentication","type","oneof","flags",["optional"],"arguments",[["name","password","type","string","token","AUTH","since","4.0.7","flags",["optional"]],["name","username_password","type","block","token","AUTH2","since","6.0.0","flags",["optional"],"arguments",[["name","username","type","string"],["name","password","type","string"]]]]],["name","key","type","key","key_spec_index",1,"token","KEYS","since","3.0.6","flags",["optional","multiple"]]]],"shutdown",["summary","Synchronously save the dataset to disk and then shut down the server","since","1.0.0","group","server","complexity","O(N) when saving, where N is the total number of keys in all databases when saving data, otherwise O(1)","history",[["7.0.0","Added the `NOW`, `FORCE` and `ABORT` modifiers."]],"arguments",[["name","nosave_save","type","oneof","flags",["optional"],"arguments",[["name","nosave","type","pure-token","token","NOSAVE"],["name","save","type","pure-token","token","SAVE"]]],["name","now","type","pure-token","token","NOW","since","7.0.0","flags",["optional"]],["name","force","type","pure-token","token","FORCE","since","7.0.0","flags",["optional"]],["name","abort","type","pure-token","token","ABORT","since","7.0.0","flags",["optional"]]]],"incrby",["summary","Increment the integer value of a key by the given amount","since","1.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","increment","type","integer"]]],"sinterstore",["summary","Intersect multiple sets and store the resulting set in a key","since","1.0.0","group","set","complexity","O(N*M) worst case where N is the cardinality of the smallest set and M is the number of sets.","arguments",[["name","destination","type","key","key_spec_index",0],["name","key","type","key","key_spec_index",1,"flags",["multiple"]]]],"rpoplpush",["summary","Remove the last element in a list, prepend it to another list and return it","since","1.2.0","group","list","complexity","O(1)","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`LMOVE` with the `RIGHT` and `LEFT` arguments","arguments",[["name","source","type","key","key_spec_index",0],["name","destination","type","key","key_spec_index",1]]],"scard",["summary","Get the number of members in a set","since","1.0.0","group","set","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"xrevrange",["summary","Return a range of elements in a stream, with IDs matching the specified IDs interval, in reverse order (from greater to smaller IDs) compared to XRANGE","since","5.0.0","group","stream","complexity","O(N) with N being the number of elements returned. If N is constant (e.g. always asking for the first 10 elements with COUNT), you can consider it O(1).","history",[["6.2.0","Added exclusive ranges."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","end","type","string"],["name","start","type","string"],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"replicaof",["summary","Make the server a replica of another instance, or promote it as master.","since","5.0.0","group","server","complexity","O(1)","arguments",[["name","host","type","string"],["name","port","type","integer"]]],"lpushx",["summary","Prepend an element to a list, only if the list exists","since","2.2.0","group","list","complexity","O(1) for each element added, so O(N) to add N elements when the command is called with multiple arguments.","history",[["4.0.0","Accepts multiple `element` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","element","type","string","flags",["multiple"]]]],"rename",["summary","Rename a key","since","1.0.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","newkey","type","key","key_spec_index",1]]],"role",["summary","Return the role of the instance in the context of replication","since","2.8.12","group","server","complexity","O(1)"],"lcs",["summary","Find longest common substring","since","7.0.0","group","string","complexity","O(N*M) where N and M are the lengths of s1 and s2, respectively","arguments",[["name","key1","type","key","key_spec_index",0],["name","key2","type","key","key_spec_index",0],["name","len","type","pure-token","token","LEN","flags",["optional"]],["name","idx","type","pure-token","token","IDX","flags",["optional"]],["name","len","type","integer","token","MINMATCHLEN","flags",["optional"]],["name","withmatchlen","type","pure-token","token","WITHMATCHLEN","flags",["optional"]]]],"zrangestore",["summary","Store a range of members from sorted set into another key","since","6.2.0","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements stored into the destination key.","arguments",[["name","dst","type","key","key_spec_index",0],["name","src","type","key","key_spec_index",1],["name","min","type","string"],["name","max","type","string"],["name","sortby","type","oneof","flags",["optional"],"arguments",[["name","byscore","type","pure-token","token","BYSCORE"],["name","bylex","type","pure-token","token","BYLEX"]]],["name","rev","type","pure-token","token","REV","flags",["optional"]],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]]]],"zinterstore",["summary","Intersect multiple sorted sets and store the resulting sorted set in a new key","since","2.0.0","group","sorted-set","complexity","O(N*K)+O(M*log(M)) worst case with N being the smallest input sorted set, K being the number of input sorted sets and M being the number of elements in the resulting sorted set.","arguments",[["name","destination","type","key","key_spec_index",0],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",1,"flags",["multiple"]],["name","weight","type","integer","token","WEIGHTS","flags",["optional","multiple"]],["name","aggregate","type","oneof","token","AGGREGATE","flags",["optional"],"arguments",[["name","sum","type","pure-token","token","SUM"],["name","min","type","pure-token","token","MIN"],["name","max","type","pure-token","token","MAX"]]]]],"sdiffstore",["summary","Subtract multiple sets and store the resulting set in a key","since","1.0.0","group","set","complexity","O(N) where N is the total number of elements in all given sets.","arguments",[["name","destination","type","key","key_spec_index",0],["name","key","type","key","key_spec_index",1,"flags",["multiple"]]]],"xreadgroup",["summary","Return new entries from a stream using a consumer group, or access the history of the pending entries for a given consumer. Can block.","since","5.0.0","group","stream","complexity","For each stream mentioned: O(M) with M being the number of elements returned. If M is constant (e.g. always asking for the first 10 elements with COUNT), you can consider it O(1). On the other side when XREADGROUP blocks, XADD will pay the O(N) time in order to serve the N clients blocked on the stream getting new data.","arguments",[["name","group_consumer","type","block","token","GROUP","arguments",[["name","group","type","string"],["name","consumer","type","string"]]],["name","count","type","integer","token","COUNT","flags",["optional"]],["name","milliseconds","type","integer","token","BLOCK","flags",["optional"]],["name","noack","type","pure-token","token","NOACK","flags",["optional"]],["name","streams","type","block","token","STREAMS","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","id","type","string","flags",["multiple"]]]]]],"zunion",["summary","Add multiple sorted sets","since","6.2.0","group","sorted-set","complexity","O(N)+O(M*log(M)) with N being the sum of the sizes of the input sorted sets, and M being the number of elements in the resulting sorted set.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","weight","type","integer","token","WEIGHTS","flags",["optional","multiple"]],["name","aggregate","type","oneof","token","AGGREGATE","flags",["optional"],"arguments",[["name","sum","type","pure-token","token","SUM"],["name","min","type","pure-token","token","MIN"],["name","max","type","pure-token","token","MAX"]]],["name","withscores","type","pure-token","token","WITHSCORES","flags",["optional"]]]],"bitfield",["summary","Perform arbitrary bitfield integer operations on strings","since","3.2.0","group","bitmap","complexity","O(1) for each subcommand specified","arguments",[["name","key","type","key","key_spec_index",0],["name","operation","type","oneof","flags",["optional","multiple"],"arguments",[["name","encoding_offset","type","block","token","GET","arguments",[["name","encoding","type","string"],["name","offset","type","integer"]]],["name","write","type","block","arguments",[["name","wrap_sat_fail","type","oneof","token","OVERFLOW","flags",["optional"],"arguments",[["name","wrap","type","pure-token","token","WRAP"],["name","sat","type","pure-token","token","SAT"],["name","fail","type","pure-token","token","FAIL"]]],["name","write_operation","type","oneof","arguments",[["name","encoding_offset_value","type","block","token","SET","arguments",[["name","encoding","type","string"],["name","offset","type","integer"],["name","value","type","integer"]]],["name","encoding_offset_increment","type","block","token","INCRBY","arguments",[["name","encoding","type","string"],["name","offset","type","integer"],["name","increment","type","integer"]]]]]]]]]]],"xack",["summary","Marks a pending message as correctly processed, effectively removing it from the pending entries list of the consumer group. Return value of the command is the number of messages successfully acknowledged, that is, the IDs we were actually able to resolve in the PEL.","since","5.0.0","group","stream","complexity","O(1) for each message ID processed.","arguments",[["name","key","type","key","key_spec_index",0],["name","group","type","string"],["name","id","type","string","flags",["multiple"]]]],"ping",["summary","Ping the server","since","1.0.0","group","connection","complexity","O(1)","arguments",[["name","message","type","string","flags",["optional"]]]],"replconf",["summary","An internal command for configuring the replication stream","since","3.0.0","group","server","complexity","O(1)","doc_flags",["syscmd"]],"sunion",["summary","Add multiple sets","since","1.0.0","group","set","complexity","O(N) where N is the total number of elements in all given sets.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"zrevrank",["summary","Determine the index of a member in a sorted set, with scores ordered from high to low","since","2.0.0","group","sorted-set","complexity","O(log(N))","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string"]]],"bitcount",["summary","Count set bits in a string","since","2.6.0","group","bitmap","complexity","O(N)","history",[["7.0.0","Added the `BYTE|BIT` option."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","index","type","block","flags",["optional"],"arguments",[["name","start","type","integer"],["name","end","type","integer"],["name","index_unit","type","oneof","since","7.0.0","flags",["optional"],"arguments",[["name","byte","type","pure-token","token","BYTE"],["name","bit","type","pure-token","token","BIT"]]]]]]],"subscribe",["summary","Listen for messages published to the given channels","since","2.0.0","group","pubsub","complexity","O(N) where N is the number of channels to subscribe to.","arguments",[["name","channel","type","string","flags",["multiple"]]]],"xrange",["summary","Return a range of elements in a stream, with IDs matching the specified IDs interval","since","5.0.0","group","stream","complexity","O(N) with N being the number of elements being returned. If N is constant (e.g. always asking for the first 10 elements with COUNT), you can consider it O(1).","history",[["6.2.0","Added exclusive ranges."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","string"],["name","end","type","string"],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"zrank",["summary","Determine the index of a member in a sorted set","since","2.0.0","group","sorted-set","complexity","O(log(N))","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string"]]],"hkeys",["summary","Get all the fields in a hash","since","2.0.0","group","hash","complexity","O(N) where N is the size of the hash.","arguments",[["name","key","type","key","key_spec_index",0]]],"keys",["summary","Find all keys matching the given pattern","since","1.0.0","group","generic","complexity","O(N) with N being the number of keys in the database, under the assumption that the key names in the database and the given pattern have limited length.","arguments",[["name","pattern","type","pattern"]]],"scan",["summary","Incrementally iterate the keys space","since","2.8.0","group","generic","complexity","O(1) for every call. O(N) for a complete iteration, including enough command calls for the cursor to return back to 0. N is the number of elements inside the collection.","history",[["6.0.0","Added the `TYPE` subcommand."]],"arguments",[["name","cursor","type","integer"],["name","pattern","type","pattern","token","MATCH","flags",["optional"]],["name","count","type","integer","token","COUNT","flags",["optional"]],["name","type","type","string","token","TYPE","since","6.0.0","flags",["optional"]]]],"fcall",["summary","Invoke a function","since","7.0.0","group","scripting","complexity","Depends on the function that is executed.","arguments",[["name","function","type","string"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["optional","multiple"]],["name","arg","type","string","flags",["optional","multiple"]]]],"bzpopmin",["summary","Remove and return the member with the lowest score from one or more sorted sets, or block until one is available","since","5.0.0","group","sorted-set","complexity","O(log(N)) with N being the number of elements in the sorted set.","history",[["6.0.0","`timeout` is interpreted as a double instead of an integer."]],"arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","timeout","type","double"]]],"xtrim",["summary","Trims the stream to (approximately if '~' is passed) a certain size","since","5.0.0","group","stream","complexity","O(N), with N being the number of evicted entries. Constant times are very small however, since entries are organized in macro nodes containing multiple entries that can be released with a single deallocation.","history",[["6.2.0","Added the `MINID` trimming strategy and the `LIMIT` option."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","trim","type","block","arguments",[["name","strategy","type","oneof","arguments",[["name","maxlen","type","pure-token","token","MAXLEN"],["name","minid","type","pure-token","token","MINID","since","6.2.0"]]],["name","operator","type","oneof","flags",["optional"],"arguments",[["name","equal","type","pure-token","token","="],["name","approximately","type","pure-token","token","~"]]],["name","threshold","type","string"],["name","count","type","integer","token","LIMIT","since","6.2.0","flags",["optional"]]]]]],"zscan",["summary","Incrementally iterate sorted sets elements and associated scores","since","2.8.0","group","sorted-set","complexity","O(1) for every call. O(N) for a complete iteration, including enough command calls for the cursor to return back to 0. N is the number of elements inside the collection..","arguments",[["name","key","type","key","key_spec_index",0],["name","cursor","type","integer"],["name","pattern","type","pattern","token","MATCH","flags",["optional"]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"hmget",["summary","Get the values of all the given hash fields","since","2.0.0","group","hash","complexity","O(N) where N is the number of fields being requested.","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string","flags",["multiple"]]]],"unlink",["summary","Delete a key asynchronously in another thread. Otherwise it is just as DEL, but non blocking.","since","4.0.0","group","generic","complexity","O(1) for each key removed regardless of its size. Then the command does O(N) work in a different thread in order to reclaim memory, where N is the number of allocations the deleted objects where composed of.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"zremrangebylex",["summary","Remove all members in a sorted set between the given lexicographical range","since","2.8.9","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements removed by the operation.","arguments",[["name","key","type","key","key_spec_index",0],["name","min","type","string"],["name","max","type","string"]]],"geosearch",["summary","Query a sorted set representing a geospatial index to fetch members inside an area of a box or a circle.","since","6.2.0","group","geo","complexity","O(N+log(M)) where N is the number of elements in the grid-aligned bounding box area around the shape provided as the filter and M is the number of items inside the shape","history",[["7.0.0","Added support for uppercase unit names."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","from","type","oneof","arguments",[["name","member","type","string","token","FROMMEMBER"],["name","longitude_latitude","type","block","token","FROMLONLAT","arguments",[["name","longitude","type","double"],["name","latitude","type","double"]]]]],["name","by","type","oneof","arguments",[["name","circle","type","block","arguments",[["name","radius","type","double","token","BYRADIUS"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]]]],["name","box","type","block","arguments",[["name","width","type","double","token","BYBOX"],["name","height","type","double"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]]]]]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]],["name","count","type","block","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT"],["name","any","type","pure-token","token","ANY","flags",["optional"]]]],["name","withcoord","type","pure-token","token","WITHCOORD","flags",["optional"]],["name","withdist","type","pure-token","token","WITHDIST","flags",["optional"]],["name","withhash","type","pure-token","token","WITHHASH","flags",["optional"]]]],"zrangebylex",["summary","Return a range of members in a sorted set, by lexicographical range","since","2.8.9","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements being returned. If M is constant (e.g. always asking for the first 10 elements with LIMIT), you can consider it O(log(N)).","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`ZRANGE` with the `BYLEX` argument","arguments",[["name","key","type","key","key_spec_index",0],["name","min","type","string"],["name","max","type","string"],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]]]],"sync",["summary","Internal command used for replication","since","1.0.0","group","server"],"script",["summary","A container for Lua scripts management commands","since","2.6.0","group","scripting","complexity","Depends on subcommand.","subcommands",["script|flush",["summary","Remove all the scripts from the script cache.","since","2.6.0","group","scripting","complexity","O(N) with N being the number of scripts in cache","history",[["6.2.0","Added the `ASYNC` and `SYNC` flushing mode modifiers."]],"arguments",[["name","async","type","oneof","since","6.2.0","flags",["optional"],"arguments",[["name","async","type","pure-token","token","ASYNC"],["name","sync","type","pure-token","token","SYNC"]]]]],"script|debug",["summary","Set the debug mode for executed scripts.","since","3.2.0","group","scripting","complexity","O(1)","arguments",[["name","mode","type","oneof","arguments",[["name","yes","type","pure-token","token","YES"],["name","sync","type","pure-token","token","SYNC"],["name","no","type","pure-token","token","NO"]]]]],"script|exists",["summary","Check existence of scripts in the script cache.","since","2.6.0","group","scripting","complexity","O(N) with N being the number of scripts to check (so checking a single script is an O(1) operation).","arguments",[["name","sha1","type","string","flags",["multiple"]]]],"script|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","scripting","complexity","O(1)"],"script|kill",["summary","Kill the script currently in execution.","since","2.6.0","group","scripting","complexity","O(1)"],"script|load",["summary","Load the specified Lua script into the script cache.","since","2.6.0","group","scripting","complexity","O(N) with N being the length in bytes of the script body.","arguments",[["name","script","type","string"]]]]],"flushall",["summary","Remove all keys from all databases","since","1.0.0","group","server","complexity","O(N) where N is the total number of keys in all databases","history",[["4.0.0","Added the `ASYNC` flushing mode modifier."],["6.2.0","Added the `SYNC` flushing mode modifier."]],"arguments",[["name","async","type","oneof","flags",["optional"],"arguments",[["name","async","type","pure-token","token","ASYNC","since","4.0.0"],["name","sync","type","pure-token","token","SYNC","since","6.2.0"]]]]],"zintercard",["summary","Intersect multiple sorted sets and return the cardinality of the result","since","7.0.0","group","sorted-set","complexity","O(N*K) worst case with N being the smallest input sorted set, K being the number of input sorted sets.","arguments",[["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","limit","type","integer","token","LIMIT","flags",["optional"]]]],"msetnx",["summary","Set multiple keys to multiple values, only if none of the keys exist","since","1.0.1","group","string","complexity","O(N) where N is the number of keys to set.","arguments",[["name","key_value","type","block","flags",["multiple"],"arguments",[["name","key","type","key","key_spec_index",0],["name","value","type","string"]]]]],"hexists",["summary","Determine if a hash field exists","since","2.0.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string"]]],"expireat",["summary","Set the expiration for a key as a UNIX timestamp","since","1.2.0","group","generic","complexity","O(1)","history",[["7.0.0","Added options: `NX`, `XX`, `GT` and `LT`."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","unix-time-seconds","type","unix-time"],["name","condition","type","oneof","since","7.0.0","flags",["optional"],"arguments",[["name","nx","type","pure-token","token","NX"],["name","xx","type","pure-token","token","XX"],["name","gt","type","pure-token","token","GT"],["name","lt","type","pure-token","token","LT"]]]]],"rpushx",["summary","Append an element to a list, only if the list exists","since","2.2.0","group","list","complexity","O(1) for each element added, so O(N) to add N elements when the command is called with multiple arguments.","history",[["4.0.0","Accepts multiple `element` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","element","type","string","flags",["multiple"]]]],"function",["summary","A container for function commands","since","7.0.0","group","scripting","complexity","Depends on subcommand.","subcommands",["function|dump",["summary","Dump all functions into a serialized binary payload","since","7.0.0","group","scripting","complexity","O(N) where N is the number of functions"],"function|help",["summary","Show helpful text about the different subcommands","since","7.0.0","group","scripting","complexity","O(1)"],"function|flush",["summary","Deleting all functions","since","7.0.0","group","scripting","complexity","O(N) where N is the number of functions deleted","arguments",[["name","async","type","oneof","flags",["optional"],"arguments",[["name","async","type","pure-token","token","ASYNC"],["name","sync","type","pure-token","token","SYNC"]]]]],"function|list",["summary","List information about all the functions","since","7.0.0","group","scripting","complexity","O(N) where N is the number of functions","arguments",[["name","library-name-pattern","type","string","token","LIBRARYNAME","flags",["optional"]],["name","withcode","type","pure-token","token","WITHCODE","flags",["optional"]]]],"function|delete",["summary","Delete a function by name","since","7.0.0","group","scripting","complexity","O(1)","arguments",[["name","library-name","type","string"]]],"function|restore",["summary","Restore all the functions on the given payload","since","7.0.0","group","scripting","complexity","O(N) where N is the number of functions on the payload","arguments",[["name","serialized-value","type","string"],["name","policy","type","oneof","flags",["optional"],"arguments",[["name","flush","type","pure-token","token","FLUSH"],["name","append","type","pure-token","token","APPEND"],["name","replace","type","pure-token","token","REPLACE"]]]]],"function|kill",["summary","Kill the function currently in execution.","since","7.0.0","group","scripting","complexity","O(1)"],"function|load",["summary","Create a function with the given arguments (name, code, description)","since","7.0.0","group","scripting","complexity","O(1) (considering compilation time is redundant)","arguments",[["name","replace","type","pure-token","token","REPLACE","flags",["optional"]],["name","function-code","type","string"]]],"function|stats",["summary","Return information about the function currently running (name, description, duration)","since","7.0.0","group","scripting","complexity","O(1)"]]],"spop",["summary","Remove and return one or multiple random members from a set","since","1.0.0","group","set","complexity","Without the count argument O(1), otherwise O(N) where N is the value of the passed count.","history",[["3.2.0","Added the `count` argument."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","count","type","integer","since","3.2.0","flags",["optional"]]]],"exec",["summary","Execute all commands issued after MULTI","since","1.2.0","group","transactions","complexity","Depends on commands in the transaction"],"smismember",["summary","Returns the membership associated with the given elements for a set","since","6.2.0","group","set","complexity","O(N) where N is the number of elements being checked for membership","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string","flags",["multiple"]]]],"info",["summary","Get information and statistics about the server","since","1.0.0","group","server","complexity","O(1)","history",[["7.0.0","Added support for taking multiple section arguments."]],"arguments",[["name","section","type","string","flags",["optional","multiple"]]]],"evalsha",["summary","Execute a Lua script server side","since","2.6.0","group","scripting","complexity","Depends on the script that is executed.","arguments",[["name","sha1","type","string"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["optional","multiple"]],["name","arg","type","string","flags",["optional","multiple"]]]],"bzmpop",["summary","Remove and return members with scores in a sorted set or block until one is available","since","7.0.0","group","sorted-set","complexity","O(K) + O(M*log(N)) where K is the number of provided keys, N being the number of elements in the sorted set, and M being the number of elements popped.","arguments",[["name","timeout","type","double"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["multiple"]],["name","where","type","oneof","arguments",[["name","min","type","pure-token","token","MIN"],["name","max","type","pure-token","token","MAX"]]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"hmset",["summary","Set multiple hash fields to multiple values","since","2.0.0","group","hash","complexity","O(N) where N is the number of fields being set.","doc_flags",["deprecated"],"deprecated_since","4.0.0","replaced_by","`HSET` with multiple field-value pairs","arguments",[["name","key","type","key","key_spec_index",0],["name","field_value","type","block","flags",["multiple"],"arguments",[["name","field","type","string"],["name","value","type","string"]]]]],"touch",["summary","Alters the last access time of a key(s). Returns the number of existing keys specified.","since","3.2.1","group","generic","complexity","O(N) where N is the number of keys that will be touched.","arguments",[["name","key","type","key","key_spec_index",0,"flags",["multiple"]]]],"sscan",["summary","Incrementally iterate Set elements","since","2.8.0","group","set","complexity","O(1) for every call. O(N) for a complete iteration, including enough command calls for the cursor to return back to 0. N is the number of elements inside the collection..","arguments",[["name","key","type","key","key_spec_index",0],["name","cursor","type","integer"],["name","pattern","type","pattern","token","MATCH","flags",["optional"]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"latency",["summary","A container for latency diagnostics commands","since","2.8.13","group","server","complexity","Depends on subcommand.","subcommands",["latency|histogram",["summary","Return the cumulative distribution of latencies of a subset of commands or all.","since","7.0.0","group","server","complexity","O(N) where N is the number of commands with latency information being retrieved.","arguments",[["name","command","type","string","flags",["optional","multiple"]]]],"latency|graph",["summary","Return a latency graph for the event.","since","2.8.13","group","server","complexity","O(1)","arguments",[["name","event","type","string"]]],"latency|help",["summary","Show helpful text about the different subcommands.","since","2.8.13","group","server","complexity","O(1)"],"latency|latest",["summary","Return the latest latency samples for all events.","since","2.8.13","group","server","complexity","O(1)"],"latency|doctor",["summary","Return a human readable latency analysis report.","since","2.8.13","group","server","complexity","O(1)"],"latency|reset",["summary","Reset latency data for one or more events.","since","2.8.13","group","server","complexity","O(1)","arguments",[["name","event","type","string","flags",["optional","multiple"]]]],"latency|history",["summary","Return timestamp-latency samples for the event.","since","2.8.13","group","server","complexity","O(1)","arguments",[["name","event","type","string"]]]]],"lrange",["summary","Get a range of elements from a list","since","1.0.0","group","list","complexity","O(S+N) where S is the distance of start offset from HEAD for small lists, from nearest end (HEAD or TAIL) for large lists; and N is the number of elements in the specified range.","arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","integer"],["name","stop","type","integer"]]],"zremrangebyscore",["summary","Remove all members in a sorted set within the given scores","since","1.2.0","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements removed by the operation.","arguments",[["name","key","type","key","key_spec_index",0],["name","min","type","double"],["name","max","type","double"]]],"getset",["summary","Set the string value of a key and return its old value","since","1.0.0","group","string","complexity","O(1)","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`SET` with the `!GET` argument","arguments",[["name","key","type","key","key_spec_index",0],["name","value","type","string"]]],"hincrby",["summary","Increment the integer value of a hash field by the given number","since","2.0.0","group","hash","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","field","type","string"],["name","increment","type","integer"]]],"publish",["summary","Post a message to a channel","since","2.0.0","group","pubsub","complexity","O(N+M) where N is the number of clients subscribed to the receiving channel and M is the total number of subscribed patterns (by any client).","arguments",[["name","channel","type","string"],["name","message","type","string"]]],"zremrangebyrank",["summary","Remove all members in a sorted set within the given indexes","since","2.0.0","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements removed by the operation.","arguments",[["name","key","type","key","key_spec_index",0],["name","start","type","integer"],["name","stop","type","integer"]]],"sismember",["summary","Determine if a given value is a member of a set","since","1.0.0","group","set","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string"]]],"hscan",["summary","Incrementally iterate hash fields and associated values","since","2.8.0","group","hash","complexity","O(1) for every call. O(N) for a complete iteration, including enough command calls for the cursor to return back to 0. N is the number of elements inside the collection..","arguments",[["name","key","type","key","key_spec_index",0],["name","cursor","type","integer"],["name","pattern","type","pattern","token","MATCH","flags",["optional"]],["name","count","type","integer","token","COUNT","flags",["optional"]]]],"config",["summary","A container for server configuration commands","since","2.0.0","group","server","complexity","Depends on subcommand.","subcommands",["config|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","server","complexity","O(1)"],"config|resetstat",["summary","Reset the stats returned by INFO","since","2.0.0","group","server","complexity","O(1)"],"config|rewrite",["summary","Rewrite the configuration file with the in memory configuration","since","2.8.0","group","server","complexity","O(1)"],"config|get",["summary","Get the values of configuration parameters","since","2.0.0","group","server","complexity","O(N) when N is the number of configuration parameters provided","history",[["7.0.0","Added the ability to pass multiple pattern parameters in one call"]],"arguments",[["name","parameter","type","block","flags",["multiple"],"arguments",[["name","parameter","type","string"]]]]],"config|set",["summary","Set configuration parameters to the given values","since","2.0.0","group","server","complexity","O(N) when N is the number of configuration parameters provided","history",[["7.0.0","Added the ability to set multiple parameters in one call."]],"arguments",[["name","parameter_value","type","block","flags",["multiple"],"arguments",[["name","parameter","type","string"],["name","value","type","string"]]]]]]],"lolwut",["summary","Display some computer art and the Redis version","since","5.0.0","group","server","arguments",[["name","version","type","integer","token","VERSION","flags",["optional"]]]],"zrangebyscore",["summary","Return a range of members in a sorted set, by score","since","1.0.5","group","sorted-set","complexity","O(log(N)+M) with N being the number of elements in the sorted set and M the number of elements being returned. If M is constant (e.g. always asking for the first 10 elements with LIMIT), you can consider it O(log(N)).","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`ZRANGE` with the `BYSCORE` argument","history",[["2.0.0","Added the `WITHSCORES` modifier."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","min","type","double"],["name","max","type","double"],["name","withscores","type","pure-token","token","WITHSCORES","since","2.0.0","flags",["optional"]],["name","offset_count","type","block","token","LIMIT","flags",["optional"],"arguments",[["name","offset","type","integer"],["name","count","type","integer"]]]]],"zdiffstore",["summary","Subtract multiple sorted sets and store the resulting sorted set in a new key","since","6.2.0","group","sorted-set","complexity","O(L + (N-K)log(N)) worst case where L is the total number of elements in all the sets, N is the size of the first set, and K is the size of the result set.","arguments",[["name","destination","type","key","key_spec_index",0],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",1,"flags",["multiple"]]]],"save",["summary","Synchronously save the dataset to disk","since","1.0.0","group","server","complexity","O(N) where N is the total number of keys in all databases"],"georadiusbymember_ro",["summary","A read-only variant for GEORADIUSBYMEMBER","since","3.2.10","group","geo","complexity","O(N+log(M)) where N is the number of elements inside the bounding box of the circular area delimited by center and radius and M is the number of items inside the index.","doc_flags",["deprecated"],"deprecated_since","6.2.0","replaced_by","`GEOSEARCH` with the `BYRADIUS` and `FROMMEMBER` arguments","arguments",[["name","key","type","key","key_spec_index",0],["name","member","type","string"],["name","radius","type","double"],["name","unit","type","oneof","arguments",[["name","m","type","pure-token","token","M"],["name","km","type","pure-token","token","KM"],["name","ft","type","pure-token","token","FT"],["name","mi","type","pure-token","token","MI"]]],["name","withcoord","type","pure-token","token","WITHCOORD","flags",["optional"]],["name","withdist","type","pure-token","token","WITHDIST","flags",["optional"]],["name","withhash","type","pure-token","token","WITHHASH","flags",["optional"]],["name","count","type","block","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT"],["name","any","type","pure-token","token","ANY","flags",["optional"]]]],["name","order","type","oneof","flags",["optional"],"arguments",[["name","asc","type","pure-token","token","ASC"],["name","desc","type","pure-token","token","DESC"]]]]],"client",["summary","A container for client connection commands","since","2.4.0","group","connection","complexity","Depends on subcommand.","subcommands",["client|info",["summary","Returns information about the current client connection.","since","6.2.0","group","connection","complexity","O(1)"],"client|tracking",["summary","Enable or disable server assisted client side caching support","since","6.0.0","group","connection","complexity","O(1). Some options may introduce additional complexity.","arguments",[["name","status","type","oneof","arguments",[["name","on","type","pure-token","token","ON"],["name","off","type","pure-token","token","OFF"]]],["name","client-id","type","integer","token","REDIRECT","flags",["optional"]],["name","prefix","type","string","token","PREFIX","flags",["optional","multiple","multiple_token"]],["name","bcast","type","pure-token","token","BCAST","flags",["optional"]],["name","optin","type","pure-token","token","OPTIN","flags",["optional"]],["name","optout","type","pure-token","token","OPTOUT","flags",["optional"]],["name","noloop","type","pure-token","token","NOLOOP","flags",["optional"]]]],"client|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","connection","complexity","O(1)"],"client|getname",["summary","Get the current connection name","since","2.6.9","group","connection","complexity","O(1)"],"client|no-evict",["summary","Set client eviction mode for the current connection","since","7.0.0","group","connection","complexity","O(1)","arguments",[["name","enabled","type","oneof","arguments",[["name","on","type","pure-token","token","ON"],["name","off","type","pure-token","token","OFF"]]]]],"client|caching",["summary","Instruct the server about tracking or not keys in the next request","since","6.0.0","group","connection","complexity","O(1)","arguments",[["name","mode","type","oneof","arguments",[["name","yes","type","pure-token","token","YES"],["name","no","type","pure-token","token","NO"]]]]],"client|list",["summary","Get the list of client connections","since","2.4.0","group","connection","complexity","O(N) where N is the number of client connections","history",[["2.8.12","Added unique client `id` field."],["5.0.0","Added optional `TYPE` filter."],["6.0.0","Added `user` field."],["6.2.0","Added `argv-mem`, `tot-mem`, `laddr` and `redir` fields and the optional `ID` filter."],["7.0.0","Added `resp`, `multi-mem`, `rbs` and `rbp` fields."],["7.0.3","Added `ssub` field."]],"arguments",[["name","normal_master_replica_pubsub","type","oneof","token","TYPE","since","5.0.0","flags",["optional"],"arguments",[["name","normal","type","pure-token","token","NORMAL"],["name","master","type","pure-token","token","MASTER"],["name","replica","type","pure-token","token","REPLICA"],["name","pubsub","type","pure-token","token","PUBSUB"]]],["name","id","type","block","token","ID","since","6.2.0","flags",["optional"],"arguments",[["name","client-id","type","integer","flags",["multiple"]]]]]],"client|unpause",["summary","Resume processing of clients that were paused","since","6.2.0","group","connection","complexity","O(N) Where N is the number of paused clients"],"client|id",["summary","Returns the client ID for the current connection","since","5.0.0","group","connection","complexity","O(1)"],"client|setname",["summary","Set the current connection name","since","2.6.9","group","connection","complexity","O(1)","arguments",[["name","connection-name","type","string"]]],"client|pause",["summary","Stop processing commands from clients for some time","since","2.9.50","group","connection","complexity","O(1)","history",[["6.2.0","`CLIENT PAUSE WRITE` mode added along with the `mode` option."]],"arguments",[["name","timeout","type","integer"],["name","mode","type","oneof","since","6.2.0","flags",["optional"],"arguments",[["name","write","type","pure-token","token","WRITE"],["name","all","type","pure-token","token","ALL"]]]]],"client|getredir",["summary","Get tracking notifications redirection client ID if any","since","6.0.0","group","connection","complexity","O(1)"],"client|kill",["summary","Kill the connection of a client","since","2.4.0","group","connection","complexity","O(N) where N is the number of client connections","history",[["2.8.12","Added new filter format."],["2.8.12","`ID` option."],["3.2.0","Added `master` type in for `TYPE` option."],["5.0.0","Replaced `slave` `TYPE` with `replica`. `slave` still supported for backward compatibility."],["6.2.0","`LADDR` option."]],"arguments",[["name","filter","type","oneof","arguments",[["name","ip:port","type","string","deprecated_since","2.8.12"],["name","new-format","type","oneof","flags",["multiple"],"arguments",[["name","client-id","type","integer","token","ID","since","2.8.12","flags",["optional"]],["name","normal_master_slave_pubsub","type","oneof","token","TYPE","since","2.8.12","flags",["optional"],"arguments",[["name","normal","type","pure-token","token","NORMAL"],["name","master","type","pure-token","token","MASTER","since","3.2.0"],["name","slave","type","pure-token","token","SLAVE"],["name","replica","type","pure-token","token","REPLICA","since","5.0.0"],["name","pubsub","type","pure-token","token","PUBSUB"]]],["name","username","type","string","token","USER","flags",["optional"]],["name","ip:port","type","string","token","ADDR","flags",["optional"]],["name","ip:port","type","string","token","LADDR","since","6.2.0","flags",["optional"]],["name","yes/no","type","string","token","SKIPME","flags",["optional"]]]]]]]],"client|trackinginfo",["summary","Return information about server assisted client side caching for the current connection","since","6.2.0","group","connection","complexity","O(1)"],"client|unblock",["summary","Unblock a client blocked in a blocking command from a different connection","since","5.0.0","group","connection","complexity","O(log N) where N is the number of client connections","arguments",[["name","client-id","type","integer"],["name","timeout_error","type","oneof","flags",["optional"],"arguments",[["name","timeout","type","pure-token","token","TIMEOUT"],["name","error","type","pure-token","token","ERROR"]]]]],"client|reply",["summary","Instruct the server whether to reply to commands","since","3.2.0","group","connection","complexity","O(1)","arguments",[["name","on_off_skip","type","oneof","arguments",[["name","on","type","pure-token","token","ON"],["name","off","type","pure-token","token","OFF"],["name","skip","type","pure-token","token","SKIP"]]]]]]],"setex",["summary","Set the value and expiration of a key","since","2.0.0","group","string","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","seconds","type","integer"],["name","value","type","string"]]],"hset",["summary","Set the string value of a hash field","since","2.0.0","group","hash","complexity","O(1) for each field/value pair added, so O(N) to add N field/value pairs when the command is called with multiple field/value pairs.","history",[["4.0.0","Accepts multiple `field` and `value` arguments."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","field_value","type","block","flags",["multiple"],"arguments",[["name","field","type","string"],["name","value","type","string"]]]]],"expiretime",["summary","Get the expiration Unix timestamp for a key","since","7.0.0","group","generic","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"llen",["summary","Get the length of a list","since","1.0.0","group","list","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0]]],"fcall_ro",["summary","Invoke a read-only function","since","7.0.0","group","scripting","complexity","Depends on the function that is executed.","arguments",[["name","function","type","string"],["name","numkeys","type","integer"],["name","key","type","key","key_spec_index",0,"flags",["optional","multiple"]],["name","arg","type","string","flags",["optional","multiple"]]]],"pttl",["summary","Get the time to live for a key in milliseconds","since","2.6.0","group","generic","complexity","O(1)","history",[["2.8.0","Added the -2 reply."]],"arguments",[["name","key","type","key","key_spec_index",0]]],"bitpos",["summary","Find first bit set or clear in a string","since","2.8.7","group","bitmap","complexity","O(N)","history",[["7.0.0","Added the `BYTE|BIT` option."]],"arguments",[["name","key","type","key","key_spec_index",0],["name","bit","type","integer"],["name","index","type","block","flags",["optional"],"arguments",[["name","start","type","integer"],["name","end_index","type","block","flags",["optional"],"arguments",[["name","end","type","integer"],["name","index_unit","type","oneof","since","7.0.0","flags",["optional"],"arguments",[["name","byte","type","pure-token","token","BYTE"],["name","bit","type","pure-token","token","BIT"]]]]]]]]],"multi",["summary","Mark the start of a transaction block","since","1.2.0","group","transactions","complexity","O(1)"],"xinfo",["summary","A container for stream introspection commands","since","5.0.0","group","stream","complexity","Depends on subcommand.","subcommands",["xinfo|stream",["summary","Get information about a stream","since","5.0.0","group","stream","complexity","O(1)","history",[["6.0.0","Added the `FULL` modifier."],["7.0.0","Added the `max-deleted-entry-id`, `entries-added`, `recorded-first-entry-id`, `entries-read` and `lag` fields"]],"arguments",[["name","key","type","key","key_spec_index",0],["name","full","type","block","token","FULL","flags",["optional"],"arguments",[["name","count","type","integer","token","COUNT","flags",["optional"]]]]]],"xinfo|help",["summary","Show helpful text about the different subcommands","since","5.0.0","group","stream","complexity","O(1)"],"xinfo|groups",["summary","List the consumer groups of a stream","since","5.0.0","group","stream","complexity","O(1)","history",[["7.0.0","Added the `entries-read` and `lag` fields"]],"arguments",[["name","key","type","key","key_spec_index",0]]],"xinfo|consumers",["summary","List the consumers in a consumer group","since","5.0.0","group","stream","complexity","O(1)","arguments",[["name","key","type","key","key_spec_index",0],["name","groupname","type","string"]]]]],"hello",["summary","Handshake with Redis","since","6.0.0","group","connection","complexity","O(1)","history",[["6.2.0","`protover` made optional; when called without arguments the command reports the current connection's context."]],"arguments",[["name","arguments","type","block","flags",["optional"],"arguments",[["name","protover","type","integer"],["name","username_password","type","block","token","AUTH","flags",["optional"],"arguments",[["name","username","type","string"],["name","password","type","string"]]],["name","clientname","type","string","token","SETNAME","flags",["optional"]]]]]]]});var Kn=T((Gie,Se)=>{"use strict";var Ap=process.env.FENGARICONF?JSON.parse(process.env.FENGARICONF):{},{LUA_VERSION_MAJOR:dP,LUA_VERSION_MINOR:mP,to_luastring:Ol}=Rt(),hP=";";Se.exports.LUA_PATH_SEP=hP;var yP="?";Se.exports.LUA_PATH_MARK=yP;var gP="!";Se.exports.LUA_EXEC_DIR=gP;var vl=dP+"."+mP;Se.exports.LUA_VDIR=vl;if(typeof process>"u"){let e="/";Se.exports.LUA_DIRSEP=e;let t="./lua/"+vl+"/";Se.exports.LUA_LDIR=t;let n=t;Se.exports.LUA_JSDIR=n;let r=Ol(t+"?.lua;"+t+"?/init.lua;./?.lua;./?/init.lua");Se.exports.LUA_PATH_DEFAULT=r;let s=Ol(n+"?.js;"+n+"loadall.js;./?.js");Se.exports.LUA_JSPATH_DEFAULT=s}else if(require("os").platform()==="win32"){let e="\\";Se.exports.LUA_DIRSEP=e;let t="!\\lua\\";Se.exports.LUA_LDIR=t;let n="!\\";Se.exports.LUA_JSDIR=n;let r="!\\..\\share\\lua\\"+vl+"\\";Se.exports.LUA_SHRDIR=r;let s=Ol(t+"?.lua;"+t+"?\\init.lua;"+n+"?.lua;"+n+"?\\init.lua;"+r+"?.lua;"+r+"?\\init.lua;.\\?.lua;.\\?\\init.lua");Se.exports.LUA_PATH_DEFAULT=s;let a=Ol(n+"?.js;"+n+"..\\share\\lua\\"+vl+"\\?.js;"+n+"loadall.js;.\\?.js");Se.exports.LUA_JSPATH_DEFAULT=a}else{let e="/";Se.exports.LUA_DIRSEP=e;let t="/usr/local/";Se.exports.LUA_ROOT=t;let n="/usr/",r=t+"share/lua/"+vl+"/",s=n+"share/lua/"+vl+"/";Se.exports.LUA_LDIR=r;let a=r;Se.exports.LUA_JSDIR=a;let i=s,o=Ol(r+"?.lua;"+r+"?/init.lua;"+s+"?.lua;"+s+"?/init.lua;./?.lua;./?/init.lua");Se.exports.LUA_PATH_DEFAULT=o;let l=Ol(a+"?.js;"+a+"loadall.js;"+i+"?.js;"+i+"loadall.js;./?.js");Se.exports.LUA_JSPATH_DEFAULT=l}var _P=Ap.LUA_COMPAT_FLOATSTRING||!1,bP=2147483647,iy=-2147483648,xP=Ap.LUAI_MAXSTACK||1e6,kP=Ap.LUA_IDSIZE||60-1,AP=function(e){return String(e)},wP=function(e){return String(Number(e.toPrecision(14)))},EP=function(e){return e>=iy&&e<-iy?e:!1},bk="",OP="",vP=`%${bk}d`,SP="%.14g",TP=function(){return 46},RP=function(e,t){if(!t)throw Error(t)},NP=Ap.LUAL_BUFFERSIZE||8192,IP=function(e){if(e===0)return[e,0];var t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);var n=t.getUint32(0)>>>20&2047;n===0&&(t.setFloat64(0,e*Math.pow(2,64)),n=(t.getUint32(0)>>>20&2047)-64);var r=n-1022,s=xk(e,-r);return[s,r]},xk=function(e,t){for(var n=Math.min(3,Math.ceil(Math.abs(t)/1023)),r=e,s=0;s<n;s++)r*=Math.pow(2,Math.floor((t+s)/n));return r};Se.exports.LUAI_MAXSTACK=xP;Se.exports.LUA_COMPAT_FLOATSTRING=_P;Se.exports.LUA_IDSIZE=kP;Se.exports.LUA_INTEGER_FMT=vP;Se.exports.LUA_INTEGER_FRMLEN=bk;Se.exports.LUA_MAXINTEGER=bP;Se.exports.LUA_MININTEGER=iy;Se.exports.LUA_NUMBER_FMT=SP;Se.exports.LUA_NUMBER_FRMLEN=OP;Se.exports.LUAL_BUFFERSIZE=NP;Se.exports.frexp=IP;Se.exports.ldexp=xk;Se.exports.lua_getlocaledecpoint=TP;Se.exports.lua_integer2str=AP;Se.exports.lua_number2str=wP;Se.exports.lua_numbertointeger=EP;Se.exports.luai_apicheck=RP});var Rt=T(($ie,se)=>{"use strict";var mc;typeof Uint8Array.from=="function"?mc=Uint8Array.from.bind(Uint8Array):mc=function(e){let t=0,n=e.length,r=new Uint8Array(n);for(;n>t;)r[t]=e[t++];return r};var oy;if(typeof new Uint8Array().indexOf=="function")oy=function(e,t,n){return e.indexOf(t,n)};else{let e=[].indexOf;if(e.call(new Uint8Array(1),0)!==0)throw Error("missing .indexOf");oy=function(t,n,r){return e.call(t,n,r)}}var ly;typeof Uint8Array.of=="function"?ly=Uint8Array.of.bind(Uint8Array):ly=function(){return mc(arguments)};var hc=function(e){return e instanceof Uint8Array},CP=function(e,t){if(e!==t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1}return!0},us="cannot convert invalid utf8 to javascript string",BP=function(e,t,n,r){if(!hc(e))throw new TypeError("to_jsstring expects a Uint8Array");n===void 0?n=e.length:n=Math.min(e.length,n);let s="";for(let a=t!==void 0?t:0;a<n;){let i=e[a++];if(i<128)s+=String.fromCharCode(i);else if(i<194||i>244){if(!r)throw RangeError(us);s+="\uFFFD"}else if(i<=223){if(a>=n){if(!r)throw RangeError(us);s+="\uFFFD";continue}let o=e[a++];if((o&192)!==128){if(!r)throw RangeError(us);s+="\uFFFD";continue}s+=String.fromCharCode(((i&31)<<6)+(o&63))}else if(i<=239){if(a+1>=n){if(!r)throw RangeError(us);s+="\uFFFD";continue}let o=e[a++];if((o&192)!==128){if(!r)throw RangeError(us);s+="\uFFFD";continue}let l=e[a++];if((l&192)!==128){if(!r)throw RangeError(us);s+="\uFFFD";continue}let u=((i&15)<<12)+((o&63)<<6)+(l&63);if(u<=65535)s+=String.fromCharCode(u);else{u-=65536;let c=(u>>10)+55296,f=u%1024+56320;s+=String.fromCharCode(c,f)}}else{if(a+2>=n){if(!r)throw RangeError(us);s+="\uFFFD";continue}let o=e[a++];if((o&192)!==128){if(!r)throw RangeError(us);s+="\uFFFD";continue}let l=e[a++];if((l&192)!==128){if(!r)throw RangeError(us);s+="\uFFFD";continue}let u=e[a++];if((u&192)!==128){if(!r)throw RangeError(us);s+="\uFFFD";continue}let c=((i&7)<<18)+((o&63)<<12)+((l&63)<<6)+(u&63);c-=65536;let f=(c>>10)+55296,m=c%1024+56320;s+=String.fromCharCode(f,m)}}return s},MP=";,/?:@&=+$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789,-_.!~*'()#".split("").reduce(function(e,t){return e[t.charCodeAt(0)]=!0,e},{}),UP=function(e){if(!hc(e))throw new TypeError("to_uristring expects a Uint8Array");let t="";for(let n=0;n<e.length;n++){let r=e[n];MP[r]?t+=String.fromCharCode(r):t+="%"+(r<16?"0":"")+r.toString(16)}return t},kk={},cy=function(e,t){if(typeof e!="string")throw new TypeError("to_luastring expects a javascript string");if(t){let a=kk[e];if(hc(a))return a}let n=e.length,r=Array(n),s=0;for(let a=0;a<n;++a){let i=e.charCodeAt(a);if(i<=127)r[s++]=i;else if(i<=2047)r[s++]=192|i>>6,r[s++]=128|i&63;else{if(i>=55296&&i<=56319&&a+1<n){let o=e.charCodeAt(a+1);o>=56320&&o<=57343&&(a++,i=(i-55296)*1024+o+9216)}i<=65535?(r[s++]=224|i>>12,r[s++]=128|i>>6&63,r[s++]=128|i&63):(r[s++]=240|i>>18,r[s++]=128|i>>12&63,r[s++]=128|i>>6&63,r[s++]=128|i&63)}}return r=mc(r),t&&(kk[e]=r),r},DP=function(e){if(!hc(e))if(typeof e=="string")e=cy(e);else throw new TypeError("expects an array of bytes or javascript string");return e};se.exports.luastring_from=mc;se.exports.luastring_indexOf=oy;se.exports.luastring_of=ly;se.exports.is_luastring=hc;se.exports.luastring_eq=CP;se.exports.to_jsstring=BP;se.exports.to_uristring=UP;se.exports.to_luastring=cy;se.exports.from_userstring=DP;var PP=cy("\x1BLua"),Ak="5",wk="3",FP=503,Ek="4",Ok="Lua "+Ak+"."+wk,vk=Ok+"."+Ek,GP=vk+"  Copyright (C) 1994-2017 Lua.org, PUC-Rio",$P="R. Ierusalimschy, L. H. de Figueiredo, W. Celes";se.exports.LUA_SIGNATURE=PP;se.exports.LUA_VERSION_MAJOR=Ak;se.exports.LUA_VERSION_MINOR=wk;se.exports.LUA_VERSION_NUM=FP;se.exports.LUA_VERSION_RELEASE=Ek;se.exports.LUA_VERSION=Ok;se.exports.LUA_RELEASE=vk;se.exports.LUA_COPYRIGHT=GP;se.exports.LUA_AUTHORS=$P;var jP={LUA_OK:0,LUA_YIELD:1,LUA_ERRRUN:2,LUA_ERRSYNTAX:3,LUA_ERRMEM:4,LUA_ERRGCMM:5,LUA_ERRERR:6},An={LUA_TNONE:-1,LUA_TNIL:0,LUA_TBOOLEAN:1,LUA_TLIGHTUSERDATA:2,LUA_TNUMBER:3,LUA_TSTRING:4,LUA_TTABLE:5,LUA_TFUNCTION:6,LUA_TUSERDATA:7,LUA_TTHREAD:8,LUA_NUMTAGS:9};An.LUA_TSHRSTR=An.LUA_TSTRING|0;An.LUA_TLNGSTR=An.LUA_TSTRING|16;An.LUA_TNUMFLT=An.LUA_TNUMBER|0;An.LUA_TNUMINT=An.LUA_TNUMBER|16;An.LUA_TLCL=An.LUA_TFUNCTION|0;An.LUA_TLCF=An.LUA_TFUNCTION|16;An.LUA_TCCL=An.LUA_TFUNCTION|32;var KP=0,qP=1,VP=2,HP=3,XP=4,LP=5,zP=6,WP=7,YP=8,QP=9,JP=10,ZP=11,eF=12,tF=13,nF=0,rF=1,sF=2,aF=20,{LUAI_MAXSTACK:iF}=Kn(),Sk=-iF-1e3,oF=function(e){return Sk-e},lF=1,Tk=2,uF=Tk,uy=class{constructor(){this.event=NaN,this.name=null,this.namewhat=null,this.what=null,this.source=null,this.currentline=NaN,this.linedefined=NaN,this.lastlinedefined=NaN,this.nups=NaN,this.nparams=NaN,this.isvararg=NaN,this.istailcall=NaN,this.short_src=null,this.i_ci=null}},Rk=0,Nk=1,Ik=2,Ck=3,cF=4,fF=1<<Rk,pF=1<<Nk,dF=1<<Ik,mF=1<<Ck;se.exports.LUA_HOOKCALL=Rk;se.exports.LUA_HOOKCOUNT=Ck;se.exports.LUA_HOOKLINE=Ik;se.exports.LUA_HOOKRET=Nk;se.exports.LUA_HOOKTAILCALL=cF;se.exports.LUA_MASKCALL=fF;se.exports.LUA_MASKCOUNT=mF;se.exports.LUA_MASKLINE=dF;se.exports.LUA_MASKRET=pF;se.exports.LUA_MINSTACK=aF;se.exports.LUA_MULTRET=-1;se.exports.LUA_OPADD=KP;se.exports.LUA_OPBAND=WP;se.exports.LUA_OPBNOT=tF;se.exports.LUA_OPBOR=YP;se.exports.LUA_OPBXOR=QP;se.exports.LUA_OPDIV=LP;se.exports.LUA_OPEQ=nF;se.exports.LUA_OPIDIV=zP;se.exports.LUA_OPLE=sF;se.exports.LUA_OPLT=rF;se.exports.LUA_OPMOD=HP;se.exports.LUA_OPMUL=VP;se.exports.LUA_OPPOW=XP;se.exports.LUA_OPSHL=JP;se.exports.LUA_OPSHR=ZP;se.exports.LUA_OPSUB=qP;se.exports.LUA_OPUNM=eF;se.exports.LUA_REGISTRYINDEX=Sk;se.exports.LUA_RIDX_GLOBALS=Tk;se.exports.LUA_RIDX_LAST=uF;se.exports.LUA_RIDX_MAINTHREAD=lF;se.exports.constant_types=An;se.exports.lua_Debug=uy;se.exports.lua_upvalueindex=oF;se.exports.thread_status=jP});var qn=T((jie,Xt)=>{var cs=Rt(),Bk="0",Mk="1",hF=1,Uk="4",Dk="Fengari "+Bk+"."+Mk,Pk=Dk+"."+Uk,Fk="B. Giannangeli, Daurnimator",yF=Pk+"  Copyright (C) 2017-2018 "+Fk+`
Based on: `+cs.LUA_COPYRIGHT;Xt.exports.FENGARI_AUTHORS=Fk;Xt.exports.FENGARI_COPYRIGHT=yF;Xt.exports.FENGARI_RELEASE=Pk;Xt.exports.FENGARI_VERSION=Dk;Xt.exports.FENGARI_VERSION_MAJOR=Bk;Xt.exports.FENGARI_VERSION_MINOR=Mk;Xt.exports.FENGARI_VERSION_NUM=hF;Xt.exports.FENGARI_VERSION_RELEASE=Uk;Xt.exports.is_luastring=cs.is_luastring;Xt.exports.luastring_eq=cs.luastring_eq;Xt.exports.luastring_from=cs.luastring_from;Xt.exports.luastring_indexOf=cs.luastring_indexOf;Xt.exports.luastring_of=cs.luastring_of;Xt.exports.to_jsstring=cs.to_jsstring;Xt.exports.to_luastring=cs.to_luastring;Xt.exports.to_uristring=cs.to_uristring;Xt.exports.from_userstring=cs.from_userstring});var Vn=T((Kie,Ls)=>{"use strict";var{luai_apicheck:Gk}=Kn(),$k=function(e){if(!e)throw Error("assertion failed")};Ls.exports.lua_assert=$k;Ls.exports.luai_apicheck=Gk||function(e,t){return $k(t)};var gF=function(e,t,n){return Gk(e,t&&n)};Ls.exports.api_check=gF;var _F=200;Ls.exports.LUAI_MAXCCALLS=_F;var bF=32;Ls.exports.LUA_MINBUFFER=bF;var xF=function(e,t,n){let r=t%n;return r*n<0&&(r+=n),r};Ls.exports.luai_nummod=xF;var kF=2147483647;Ls.exports.MAX_INT=kF;var AF=-2147483648;Ls.exports.MIN_INT=AF});var fy=T((qie,eo)=>{"use strict";var{luastring_of:wF}=Rt(),Sl=wF(0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,22,22,22,22,22,22,22,22,22,22,4,4,4,4,4,4,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,5,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),jk=0,Kk=1,EF=2,OF=3,vF=4,SF=function(e){return(Sl[e+1]&1<<Kk)!==0},TF=function(e){return(Sl[e+1]&1<<vF)!==0},RF=function(e){return(Sl[e+1]&1<<EF)!==0},NF=function(e){return(Sl[e+1]&1<<OF)!==0},IF=function(e){return(Sl[e+1]&1<<jk)!==0},CF=function(e){return(Sl[e+1]&(1<<jk|1<<Kk))!==0};eo.exports.lisdigit=SF;eo.exports.lislalnum=CF;eo.exports.lislalpha=IF;eo.exports.lisprint=RF;eo.exports.lisspace=NF;eo.exports.lisxdigit=TF});var fs=T((Vie,Va)=>{"use strict";var{is_luastring:BF,luastring_eq:MF,luastring_from:UF,to_luastring:DF}=Rt(),{lua_assert:yc}=Vn(),to=class{constructor(t,n){this.hash=null,this.realstring=n}getstr(){return this.realstring}tsslen(){return this.realstring.length}},PF=function(e,t){return yc(e instanceof to),yc(t instanceof to),e==t||MF(e.realstring,t.realstring)},qk=function(e){yc(BF(e));let t=e.length,n="|";for(let r=0;r<t;r++)n+=e[r].toString(16);return n},FF=function(e){return yc(e instanceof to),e.hash===null&&(e.hash=qk(e.getstr())),e.hash},py=function(e,t){return yc(t instanceof Uint8Array),new to(e,t)},GF=function(e,t){return py(e,UF(t))},$F=function(e,t){return py(e,DF(t))};Va.exports.luaS_eqlngstr=PF;Va.exports.luaS_hash=qk;Va.exports.luaS_hashlongstr=FF;Va.exports.luaS_bless=py;Va.exports.luaS_new=GF;Va.exports.luaS_newliteral=$F;Va.exports.TString=to});var ps=T((Hie,jr)=>{"use strict";var{constant_types:{LUA_TBOOLEAN:jF,LUA_TCCL:KF,LUA_TLCF:qF,LUA_TLCL:VF,LUA_TLIGHTUSERDATA:HF,LUA_TLNGSTR:XF,LUA_TNIL:Xk,LUA_TNUMFLT:LF,LUA_TNUMINT:hy,LUA_TSHRSTR:zF,LUA_TTABLE:WF,LUA_TTHREAD:YF,LUA_TUSERDATA:QF},to_luastring:dy}=Rt(),{lua_assert:_c}=Vn(),my=Ws(),wn=ar(),{luaS_hashlongstr:Lk,TString:JF}=fs(),ZF=zs(),Vk=new WeakMap,Hk=function(e){let t=Vk.get(e);return t||(t={},Vk.set(e,t)),t},yy=function(e,t){switch(t.type){case Xk:return my.luaG_runerror(e,dy("table index is nil",!0));case LF:if(isNaN(t.value))return my.luaG_runerror(e,dy("table index is NaN",!0));case hy:case jF:case WF:case VF:case qF:case KF:case QF:case YF:return t.value;case zF:case XF:return Lk(t.tsvalue());case HF:{let n=t.value;switch(typeof n){case"string":return"*"+n;case"number":return"#"+n;case"boolean":return n?"?true":"?false";case"function":return Hk(n);case"object":if(n instanceof ZF.lua_State&&n.l_G===e.l_G||n instanceof gc||n instanceof wn.Udata||n instanceof wn.LClosure||n instanceof wn.CClosure)return Hk(n);default:return n}}default:throw new Error("unknown key type: "+t.type)}},gc=class{constructor(t){this.id=t.l_G.id_counter++,this.strong=new Map,this.dead_strong=new Map,this.dead_weak=void 0,this.f=void 0,this.l=void 0,this.metatable=null,this.flags=-1}},eG=function(e){e.flags=0},zk=function(e,t,n,r){e.dead_strong.clear(),e.dead_weak=void 0;let s=null,a={key:n,value:r,p:s=e.l,n:void 0};e.f||(e.f=a),s&&(s.n=a),e.strong.set(t,a),e.l=a},tG=function(e){return typeof e=="object"?e!==null:typeof e=="function"},Wk=function(e,t){let n=e.strong.get(t);if(n){n.key.setdeadvalue(),n.value=void 0;let r=n.n,s=n.p;n.p=void 0,s&&(s.n=r),r&&(r.p=s),e.f===n&&(e.f=r),e.l===n&&(e.l=s),e.strong.delete(t),tG(t)?(e.dead_weak||(e.dead_weak=new WeakMap),e.dead_weak.set(t,n)):e.dead_strong.set(t,n)}},nG=function(e){return new gc(e)},gy=function(e,t){let n=e.strong.get(t);return n?n.value:wn.luaO_nilobject},Yk=function(e,t){return _c(typeof t=="number"&&(t|0)===t),gy(e,t)},rG=function(e,t){return _c(t instanceof JF),gy(e,Lk(t))},sG=function(e,t,n){return _c(n instanceof wn.TValue),n.ttisnil()||n.ttisfloat()&&isNaN(n.value)?wn.luaO_nilobject:gy(t,yy(e,n))},aG=function(e,t,n){_c(typeof t=="number"&&(t|0)===t&&n instanceof wn.TValue);let r=t;if(n.ttisnil()){Wk(e,r);return}let s=e.strong.get(r);if(s)s.value.setfrom(n);else{let a=new wn.TValue(hy,t),i=new wn.TValue(n.type,n.value);zk(e,r,a,i)}},iG=function(e,t,n,r){_c(n instanceof wn.TValue);let s=yy(e,n);if(r.ttisnil()){Wk(t,s);return}let a=t.strong.get(s);if(a)a.value.setfrom(r);else{let i,o=n.value;n.ttisfloat()&&(o|0)===o?i=new wn.TValue(hy,o):i=new wn.TValue(n.type,o);let l=new wn.TValue(r.type,r.value);zk(t,s,i,l)}},oG=function(e){let t=0,n=e.strong.size+1;for(;n-t>1;){let r=Math.floor((t+n)/2);Yk(e,r).ttisnil()?n=r:t=r}return t},lG=function(e,t,n){let r=e.stack[n],s;if(r.type===Xk){if(s=t.f,!s)return!1}else{let a=yy(e,r);if(s=t.strong.get(a),s){if(s=s.n,!s)return!1}else{if(s=t.dead_weak&&t.dead_weak.get(a)||t.dead_strong.get(a),!s)return my.luaG_runerror(e,dy("invalid key to 'next'"));do if(s=s.n,!s)return!1;while(s.key.ttisdeadkey())}}return wn.setobj2s(e,n,s.key),wn.setobj2s(e,n+1,s.value),!0};jr.exports.invalidateTMcache=eG;jr.exports.luaH_get=sG;jr.exports.luaH_getint=Yk;jr.exports.luaH_getn=oG;jr.exports.luaH_getstr=rG;jr.exports.luaH_setfrom=iG;jr.exports.luaH_setint=aG;jr.exports.luaH_new=nG;jr.exports.luaH_next=lG;jr.exports.Table=gc});var io=T((Xie,Z)=>{"use strict";var uG=["MOVE","LOADK","LOADKX","LOADBOOL","LOADNIL","GETUPVAL","GETTABUP","GETTABLE","SETTABUP","SETUPVAL","SETTABLE","NEWTABLE","SELF","ADD","SUB","MUL","MOD","POW","DIV","IDIV","BAND","BOR","BXOR","SHL","SHR","UNM","BNOT","NOT","LEN","CONCAT","JMP","EQ","LT","LE","TEST","TESTSET","CALL","TAILCALL","RETURN","FORLOOP","FORPREP","TFORCALL","TFORLOOP","SETLIST","CLOSURE","VARARG","EXTRAARG"],cG={OP_MOVE:0,OP_LOADK:1,OP_LOADKX:2,OP_LOADBOOL:3,OP_LOADNIL:4,OP_GETUPVAL:5,OP_GETTABUP:6,OP_GETTABLE:7,OP_SETTABUP:8,OP_SETUPVAL:9,OP_SETTABLE:10,OP_NEWTABLE:11,OP_SELF:12,OP_ADD:13,OP_SUB:14,OP_MUL:15,OP_MOD:16,OP_POW:17,OP_DIV:18,OP_IDIV:19,OP_BAND:20,OP_BOR:21,OP_BXOR:22,OP_SHL:23,OP_SHR:24,OP_UNM:25,OP_BNOT:26,OP_NOT:27,OP_LEN:28,OP_CONCAT:29,OP_JMP:30,OP_EQ:31,OP_LT:32,OP_LE:33,OP_TEST:34,OP_TESTSET:35,OP_CALL:36,OP_TAILCALL:37,OP_RETURN:38,OP_FORLOOP:39,OP_FORPREP:40,OP_TFORCALL:41,OP_TFORLOOP:42,OP_SETLIST:43,OP_CLOSURE:44,OP_VARARG:45,OP_EXTRAARG:46},Et=0,mt=1,En=2,Te=3,Oe=0,wp=1,bc=2,Qk=3,wc=[64|En<<4|Et<<2|Oe,64|Te<<4|Et<<2|wp,64|Et<<4|Et<<2|wp,64|mt<<4|mt<<2|Oe,64|mt<<4|Et<<2|Oe,64|mt<<4|Et<<2|Oe,64|mt<<4|Te<<2|Oe,64|En<<4|Te<<2|Oe,0|Te<<4|Te<<2|Oe,0|mt<<4|Et<<2|Oe,0|Te<<4|Te<<2|Oe,64|mt<<4|mt<<2|Oe,64|En<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|Te<<4|Te<<2|Oe,64|En<<4|Et<<2|Oe,64|En<<4|Et<<2|Oe,64|En<<4|Et<<2|Oe,64|En<<4|Et<<2|Oe,64|En<<4|En<<2|Oe,0|En<<4|Et<<2|bc,128|Te<<4|Te<<2|Oe,128|Te<<4|Te<<2|Oe,128|Te<<4|Te<<2|Oe,128|Et<<4|mt<<2|Oe,192|En<<4|mt<<2|Oe,64|mt<<4|mt<<2|Oe,64|mt<<4|mt<<2|Oe,0|mt<<4|Et<<2|Oe,64|En<<4|Et<<2|bc,64|En<<4|Et<<2|bc,0|Et<<4|mt<<2|Oe,64|En<<4|Et<<2|bc,0|mt<<4|mt<<2|Oe,64|mt<<4|Et<<2|wp,64|mt<<4|Et<<2|Oe,0|mt<<4|mt<<2|Qk],fG=function(e){return wc[e]&3},pG=function(e){return wc[e]>>4&3},dG=function(e){return wc[e]>>2&3},mG=function(e){return wc[e]&64},hG=function(e){return wc[e]&128},Ha=9,Xa=9,no=Ha+Xa,so=8,xc=Ha+Xa+so,Tl=6,ds=0,La=ds+Tl,ao=La+so,kc=ao+Ha,ro=ao,Ac=La,Jk=(1<<no)-1,Ep=Jk>>1,yG=(1<<xc)-1,Zk=(1<<so)-1,gG=(1<<Xa)-1,_G=(1<<Ha)-1,Ec=1<<Xa-1,bG=Ec-1,xG=Zk,kG=function(e){return e&Ec},AG=function(e){return e&~Ec},wG=function(e){return e|Ec},nn=function(e,t){return~(-1<<e)<<t},eA=function(e,t){return~nn(e,t)},EG=function(e){return e.opcode},OG=function(e,t){return e.code=e.code&eA(Tl,ds)|t<<ds&nn(Tl,ds),Rl(e)},Oc=function(e,t,n,r){return e.code=e.code&eA(r,n)|t<<n&nn(r,n),Rl(e)},vG=function(e){return e.A},SG=function(e,t){return Oc(e,t,La,so)},TG=function(e){return e.B},RG=function(e,t){return Oc(e,t,kc,Xa)},NG=function(e){return e.C},IG=function(e,t){return Oc(e,t,ao,Ha)},CG=function(e){return e.Bx},tA=function(e,t){return Oc(e,t,ro,no)},BG=function(e){return e.Ax},MG=function(e,t){return Oc(e,t,Ac,xc)},UG=function(e){return e.sBx},DG=function(e,t){return tA(e,t+Ep)},Rl=function(e){if(typeof e=="number")return{code:e,opcode:e>>ds&nn(Tl,0),A:e>>La&nn(so,0),B:e>>kc&nn(Xa,0),C:e>>ao&nn(Ha,0),Bx:e>>ro&nn(no,0),Ax:e>>Ac&nn(xc,0),sBx:(e>>ro&nn(no,0))-Ep};{let t=e.code;return e.opcode=t>>ds&nn(Tl,0),e.A=t>>La&nn(so,0),e.B=t>>kc&nn(Xa,0),e.C=t>>ao&nn(Ha,0),e.Bx=t>>ro&nn(no,0),e.Ax=t>>Ac&nn(xc,0),e.sBx=(t>>ro&nn(no,0))-Ep,e}},PG=function(e,t,n,r){return Rl(e<<ds|t<<La|n<<kc|r<<ao)},FG=function(e,t,n){return Rl(e<<ds|t<<La|n<<ro)},GG=function(e,t){return Rl(e<<ds|t<<Ac)},$G=50;Z.exports.BITRK=Ec;Z.exports.CREATE_ABC=PG;Z.exports.CREATE_ABx=FG;Z.exports.CREATE_Ax=GG;Z.exports.GET_OPCODE=EG;Z.exports.GETARG_A=vG;Z.exports.GETARG_B=TG;Z.exports.GETARG_C=NG;Z.exports.GETARG_Bx=CG;Z.exports.GETARG_Ax=BG;Z.exports.GETARG_sBx=UG;Z.exports.INDEXK=AG;Z.exports.ISK=kG;Z.exports.LFIELDS_PER_FLUSH=$G;Z.exports.MAXARG_A=Zk;Z.exports.MAXARG_Ax=yG;Z.exports.MAXARG_B=gG;Z.exports.MAXARG_Bx=Jk;Z.exports.MAXARG_C=_G;Z.exports.MAXARG_sBx=Ep;Z.exports.MAXINDEXRK=bG;Z.exports.NO_REG=xG;Z.exports.OpArgK=Te;Z.exports.OpArgN=Et;Z.exports.OpArgR=En;Z.exports.OpArgU=mt;Z.exports.OpCodes=uG;Z.exports.OpCodesI=cG;Z.exports.POS_A=La;Z.exports.POS_Ax=Ac;Z.exports.POS_B=kc;Z.exports.POS_Bx=ro;Z.exports.POS_C=ao;Z.exports.POS_OP=ds;Z.exports.RKASK=wG;Z.exports.SETARG_A=SG;Z.exports.SETARG_Ax=MG;Z.exports.SETARG_B=RG;Z.exports.SETARG_Bx=tA;Z.exports.SETARG_C=IG;Z.exports.SETARG_sBx=DG;Z.exports.SET_OPCODE=OG;Z.exports.SIZE_A=so;Z.exports.SIZE_Ax=xc;Z.exports.SIZE_B=Xa;Z.exports.SIZE_Bx=no;Z.exports.SIZE_C=Ha;Z.exports.SIZE_OP=Tl;Z.exports.fullins=Rl;Z.exports.getBMode=pG;Z.exports.getCMode=dG;Z.exports.getOpMode=fG;Z.exports.iABC=Oe;Z.exports.iABx=wp;Z.exports.iAsBx=bc;Z.exports.iAx=Qk;Z.exports.testAMode=mG;Z.exports.testTMode=hG});var lo=T((Lie,Ct)=>{"use strict";var{LUA_MASKLINE:jG,LUA_MASKCOUNT:KG,LUA_MULTRET:qG,constant_types:{LUA_TBOOLEAN:VG,LUA_TLCF:HG,LUA_TLIGHTUSERDATA:XG,LUA_TLNGSTR:iA,LUA_TNIL:LG,LUA_TNUMBER:oA,LUA_TNUMFLT:zG,LUA_TNUMINT:WG,LUA_TSHRSTR:lA,LUA_TTABLE:uA,LUA_TUSERDATA:YG},to_luastring:ms}=Rt(),{INDEXK:cA,ISK:fA,LFIELDS_PER_FLUSH:QG,OpCodesI:{OP_ADD:pA,OP_BAND:dA,OP_BNOT:mA,OP_BOR:hA,OP_BXOR:yA,OP_CALL:xy,OP_CLOSURE:JG,OP_CONCAT:gA,OP_DIV:_A,OP_EQ:bA,OP_EXTRAARG:_y,OP_FORLOOP:ZG,OP_FORPREP:e3,OP_GETTABLE:xA,OP_GETTABUP:kA,OP_GETUPVAL:t3,OP_IDIV:AA,OP_JMP:wA,OP_LE:ky,OP_LEN:EA,OP_LOADBOOL:n3,OP_LOADK:r3,OP_LOADKX:s3,OP_LOADNIL:a3,OP_LT:OA,OP_MOD:vA,OP_MOVE:i3,OP_MUL:SA,OP_NEWTABLE:o3,OP_NOT:l3,OP_POW:TA,OP_RETURN:u3,OP_SELF:RA,OP_SETLIST:c3,OP_SETTABLE:f3,OP_SETTABUP:p3,OP_SETUPVAL:d3,OP_SHL:NA,OP_SHR:IA,OP_SUB:CA,OP_TAILCALL:m3,OP_TEST:h3,OP_TESTSET:y3,OP_TFORCALL:BA,OP_TFORLOOP:Ay,OP_UNM:MA,OP_VARARG:g3}}=io(),{LUA_MAXINTEGER:_3,LUA_MININTEGER:b3,lua_numbertointeger:x3}=Kn(),{lua_assert:qr,luai_nummod:k3}=Vn(),et=ar(),vp=co(),Wa=zs(),{luaS_bless:A3,luaS_eqlngstr:w3,luaS_hashlongstr:nA}=fs(),Lt=Vr(),re=uo(),oo=ps(),ir=Ws(),E3=function(e){let t=e.ci,n=t.l_base,r=t.l_code[t.l_savedpc-1],s=r.opcode;switch(s){case pA:case CA:case SA:case _A:case AA:case dA:case hA:case yA:case NA:case IA:case vA:case TA:case MA:case mA:case EA:case kA:case xA:case RA:{et.setobjs2s(e,n+r.A,e.top-1),delete e.stack[--e.top];break}case ky:case OA:case bA:{let a=!e.stack[e.top-1].l_isfalse();delete e.stack[--e.top],t.callstatus&Wa.CIST_LEQ&&(qr(s===ky),t.callstatus^=Wa.CIST_LEQ,a=!a),qr(t.l_code[t.l_savedpc].opcode===wA),a!==!!r.A&&t.l_savedpc++;break}case gA:{let a=e.top-1,i=r.B,o=a-1-(n+i);et.setobjs2s(e,a-2,a),o>1&&(e.top=a-1,Ty(e,o)),et.setobjs2s(e,t.l_base+r.A,e.top-1),Lt.adjust_top(e,t.top);break}case BA:{qr(t.l_code[t.l_savedpc].opcode===Ay),Lt.adjust_top(e,t.top);break}case xy:{r.C-1>=0&&Lt.adjust_top(e,t.top);break}}},rA=function(e,t,n){return t+n.A},za=function(e,t,n){return t+n.B},rn=function(e,t,n,r){return fA(r.B)?n[cA(r.B)]:e.stack[t+r.B]},Nt=function(e,t,n,r){return fA(r.C)?n[cA(r.C)]:e.stack[t+r.C]},O3=function(e){let t=e.ci;t.callstatus|=Wa.CIST_FRESH;e:for(;;){qr(t===e.ci);let n=t.func.value,r=n.p.k,s=t.l_base,a=t.l_code[t.l_savedpc++];e.hookmask&(jG|KG)&&ir.luaG_traceexec(e);let i=rA(e,s,a);switch(a.opcode){case i3:{et.setobjs2s(e,i,za(e,s,a));break}case r3:{let l=r[a.Bx];et.setobj2s(e,i,l);break}case s3:{qr(t.l_code[t.l_savedpc].opcode===_y);let l=r[t.l_code[t.l_savedpc++].Ax];et.setobj2s(e,i,l);break}case n3:{e.stack[i].setbvalue(a.B!==0),a.C!==0&&t.l_savedpc++;break}case a3:{for(let l=0;l<=a.B;l++)e.stack[i+l].setnilvalue();break}case t3:{let l=a.B;et.setobj2s(e,i,n.upvals[l]);break}case kA:{let l=n.upvals[a.B],u=Nt(e,s,r,a);Op(e,l,u,i);break}case xA:{let l=e.stack[za(e,s,a)],u=Nt(e,s,r,a);Op(e,l,u,i);break}case p3:{let l=n.upvals[a.A],u=rn(e,s,r,a),c=Nt(e,s,r,a);Ey(e,l,u,c);break}case d3:{n.upvals[a.B].setfrom(e.stack[i]);break}case f3:{let l=e.stack[i],u=rn(e,s,r,a),c=Nt(e,s,r,a);Ey(e,l,u,c);break}case o3:{e.stack[i].sethvalue(oo.luaH_new(e));break}case RA:{let l=za(e,s,a),u=Nt(e,s,r,a);et.setobjs2s(e,i+1,l),Op(e,e.stack[l],u,i);break}case pA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;l.ttisinteger()&&u.ttisinteger()?e.stack[i].setivalue(l.value+u.value|0):(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(c+f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_ADD);break}case CA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;l.ttisinteger()&&u.ttisinteger()?e.stack[i].setivalue(l.value-u.value|0):(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(c-f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_SUB);break}case SA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;l.ttisinteger()&&u.ttisinteger()?e.stack[i].setivalue($A(l.value,u.value)):(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(c*f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_MUL);break}case vA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;l.ttisinteger()&&u.ttisinteger()?e.stack[i].setivalue(KA(e,l.value,u.value)):(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(k3(e,c,f)):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_MOD);break}case TA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(Math.pow(c,f)):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_POW);break}case _A:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(c/f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_DIV);break}case AA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;l.ttisinteger()&&u.ttisinteger()?e.stack[i].setivalue(jA(e,l.value,u.value)):(c=It(l))!==!1&&(f=It(u))!==!1?e.stack[i].setfltvalue(Math.floor(c/f)):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_IDIV);break}case dA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=Kr(l))!==!1&&(f=Kr(u))!==!1?e.stack[i].setivalue(c&f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_BAND);break}case hA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=Kr(l))!==!1&&(f=Kr(u))!==!1?e.stack[i].setivalue(c|f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_BOR);break}case yA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=Kr(l))!==!1&&(f=Kr(u))!==!1?e.stack[i].setivalue(c^f):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_BXOR);break}case NA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=Kr(l))!==!1&&(f=Kr(u))!==!1?e.stack[i].setivalue(wy(c,f)):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_SHL);break}case IA:{let l=rn(e,s,r,a),u=Nt(e,s,r,a),c,f;(c=Kr(l))!==!1&&(f=Kr(u))!==!1?e.stack[i].setivalue(wy(c,-f)):re.luaT_trybinTM(e,l,u,e.stack[i],re.TMS.TM_SHR);break}case MA:{let l=e.stack[za(e,s,a)],u;l.ttisinteger()?e.stack[i].setivalue(-l.value|0):(u=It(l))!==!1?e.stack[i].setfltvalue(-u):re.luaT_trybinTM(e,l,l,e.stack[i],re.TMS.TM_UNM);break}case mA:{let l=e.stack[za(e,s,a)];l.ttisinteger()?e.stack[i].setivalue(~l.value):re.luaT_trybinTM(e,l,l,e.stack[i],re.TMS.TM_BNOT);break}case l3:{let l=e.stack[za(e,s,a)];e.stack[i].setbvalue(l.l_isfalse());break}case EA:{GA(e,e.stack[i],e.stack[za(e,s,a)]);break}case gA:{let l=a.B,u=a.C;e.top=s+u+1,Ty(e,u-l+1);let c=s+l;et.setobjs2s(e,i,c),Lt.adjust_top(e,t.top);break}case wA:{UA(e,t,a,0);break}case bA:{Oy(e,rn(e,s,r,a),Nt(e,s,r,a))!==a.A?t.l_savedpc++:vc(e,t);break}case OA:{DA(e,rn(e,s,r,a),Nt(e,s,r,a))!==a.A?t.l_savedpc++:vc(e,t);break}case ky:{PA(e,rn(e,s,r,a),Nt(e,s,r,a))!==a.A?t.l_savedpc++:vc(e,t);break}case h3:{(a.C?e.stack[i].l_isfalse():!e.stack[i].l_isfalse())?t.l_savedpc++:vc(e,t);break}case y3:{let l=za(e,s,a),u=e.stack[l];(a.C?u.l_isfalse():!u.l_isfalse())?t.l_savedpc++:(et.setobjs2s(e,i,l),vc(e,t));break}case xy:{let l=a.B,u=a.C-1;if(l!==0&&Lt.adjust_top(e,i+l),Lt.luaD_precall(e,i,u))u>=0&&Lt.adjust_top(e,t.top);else{t=e.ci;continue e}break}case m3:{let l=a.B;if(l!==0&&Lt.adjust_top(e,i+l),!Lt.luaD_precall(e,i,qG)){let u=e.ci,c=u.previous,f=u.func,m=u.funcOff,g=c.funcOff,y=u.l_base+f.value.p.numparams;n.p.p.length>0&&vp.luaF_close(e,c.l_base);for(let w=0;m+w<y;w++)et.setobjs2s(e,g+w,m+w);c.l_base=g+(u.l_base-m),c.top=g+(e.top-m),Lt.adjust_top(e,c.top),c.l_code=u.l_code,c.l_savedpc=u.l_savedpc,c.callstatus|=Wa.CIST_TAIL,c.next=null,t=e.ci=c,qr(e.top===c.l_base+e.stack[g].value.p.maxstacksize);continue e}break}case u3:{n.p.p.length>0&&vp.luaF_close(e,s);let l=Lt.luaD_poscall(e,t,i,a.B!==0?a.B-1:e.top-i);if(t.callstatus&Wa.CIST_FRESH)return;t=e.ci,l&&Lt.adjust_top(e,t.top),qr(t.callstatus&Wa.CIST_LUA),qr(t.l_code[t.l_savedpc-1].opcode===xy);continue e}case ZG:{if(e.stack[i].ttisinteger()){let l=e.stack[i+2].value,u=e.stack[i].value+l|0,c=e.stack[i+1].value;(0<l?u<=c:c<=u)&&(t.l_savedpc+=a.sBx,e.stack[i].chgivalue(u),e.stack[i+3].setivalue(u))}else{let l=e.stack[i+2].value,u=e.stack[i].value+l,c=e.stack[i+1].value;(0<l?u<=c:c<=u)&&(t.l_savedpc+=a.sBx,e.stack[i].chgfltvalue(u),e.stack[i+3].setfltvalue(u))}break}case e3:{let l=e.stack[i],u=e.stack[i+1],c=e.stack[i+2],f;if(l.ttisinteger()&&c.ttisinteger()&&(f=S3(u,c.value))){let m=f.stopnow?0:l.value;u.value=f.ilimit,l.value=m-c.value|0}else{let m,g,y;(m=It(u))===!1&&ir.luaG_runerror(e,ms("'for' limit must be a number",!0)),e.stack[i+1].setfltvalue(m),(g=It(c))===!1&&ir.luaG_runerror(e,ms("'for' step must be a number",!0)),e.stack[i+2].setfltvalue(g),(y=It(l))===!1&&ir.luaG_runerror(e,ms("'for' initial value must be a number",!0)),e.stack[i].setfltvalue(y-g)}t.l_savedpc+=a.sBx;break}case BA:{let l=i+3;et.setobjs2s(e,l+2,i+2),et.setobjs2s(e,l+1,i+1),et.setobjs2s(e,l,i),Lt.adjust_top(e,l+3),Lt.luaD_call(e,l,a.C),Lt.adjust_top(e,t.top),a=t.l_code[t.l_savedpc++],i=rA(e,s,a),qr(a.opcode===Ay)}case Ay:{e.stack[i+1].ttisnil()||(et.setobjs2s(e,i,i+1),t.l_savedpc+=a.sBx);break}case c3:{let l=a.B,u=a.C;l===0&&(l=e.top-i-1),u===0&&(qr(t.l_code[t.l_savedpc].opcode===_y),u=t.l_code[t.l_savedpc++].Ax);let c=e.stack[i].value,f=(u-1)*QG+l;for(;l>0;l--)oo.luaH_setint(c,f--,e.stack[i+l]);Lt.adjust_top(e,t.top);break}case JG:{let l=n.p.p[a.Bx],u=N3(l,n.upvals,e.stack,s);u===null?I3(e,l,n.upvals,s,i):e.stack[i].setclLvalue(u);break}case g3:{let l=a.B-1,u=s-t.funcOff-n.p.numparams-1,c;for(u<0&&(u=0),l<0&&(l=u,Lt.luaD_checkstack(e,u),Lt.adjust_top(e,i+u)),c=0;c<l&&c<u;c++)et.setobjs2s(e,i+c,s-u+c);for(;c<l;c++)e.stack[i+c].setnilvalue();break}case _y:throw Error("invalid opcode")}}},UA=function(e,t,n,r){let s=n.A;s!==0&&vp.luaF_close(e,t.l_base+s-1),t.l_savedpc+=n.sBx+r},vc=function(e,t){UA(e,t,t.l_code[t.l_savedpc],1)},DA=function(e,t,n){if(t.ttisnumber()&&n.ttisnumber())return T3(t,n)?1:0;if(t.ttisstring()&&n.ttisstring())return FA(t.tsvalue(),n.tsvalue())<0?1:0;{let r=re.luaT_callorderTM(e,t,n,re.TMS.TM_LT);return r===null&&ir.luaG_ordererror(e,t,n),r?1:0}},PA=function(e,t,n){let r;return t.ttisnumber()&&n.ttisnumber()?R3(t,n)?1:0:t.ttisstring()&&n.ttisstring()?FA(t.tsvalue(),n.tsvalue())<=0?1:0:(r=re.luaT_callorderTM(e,t,n,re.TMS.TM_LE),r!==null?r?1:0:(e.ci.callstatus|=Wa.CIST_LEQ,r=re.luaT_callorderTM(e,n,t,re.TMS.TM_LT),e.ci.callstatus^=Wa.CIST_LEQ,r===null&&ir.luaG_ordererror(e,t,n),r?0:1))},Oy=function(e,t,n){if(t.ttype()!==n.ttype())return t.ttnov()!==n.ttnov()||t.ttnov()!==oA?0:t.value===n.value?1:0;let r;switch(t.ttype()){case LG:return 1;case VG:return t.value==n.value?1:0;case XG:case WG:case zG:case HG:return t.value===n.value?1:0;case lA:case iA:return w3(t.tsvalue(),n.tsvalue())?1:0;case YG:case uA:if(t.value===n.value)return 1;if(e===null)return 0;r=re.fasttm(e,t.value.metatable,re.TMS.TM_EQ),r===null&&(r=re.fasttm(e,n.value.metatable,re.TMS.TM_EQ));break;default:return t.value===n.value?1:0}if(r===null)return 0;let s=new et.TValue;return re.luaT_callTM(e,r,t,n,s,1),s.l_isfalse()?0:1},v3=function(e,t){return Oy(null,e,t)},S3=function(e,t){let n=!1,r=Sp(e,t<0?2:1);if(r===!1){let s=It(e);if(s===!1)return!1;0<s?(r=_3,t<0&&(n=!0)):(r=b3,t>=0&&(n=!0))}return{stopnow:n,ilimit:r}},Sp=function(e,t){if(e.ttisfloat()){let n=e.value,r=Math.floor(n);if(n!==r){if(t===0)return!1;t>1&&(r+=1)}return x3(r)}else{if(e.ttisinteger())return e.value;if(Sy(e)){let n=new et.TValue;if(et.luaO_str2num(e.svalue(),n)===e.vslen()+1)return Sp(n,t)}}return!1},Kr=function(e){return e.ttisinteger()?e.value:Sp(e,0)},It=function(e){if(e.ttnov()===oA)return e.value;if(Sy(e)){let t=new et.TValue;if(et.luaO_str2num(e.svalue(),t)===e.vslen()+1)return t.value}return!1},T3=function(e,t){return e.value<t.value},R3=function(e,t){return e.value<=t.value},FA=function(e,t){let n=nA(e),r=nA(t);return n===r?0:n<r?-1:1},GA=function(e,t,n){let r;switch(n.ttype()){case uA:{let s=n.value;if(r=re.fasttm(e,s.metatable,re.TMS.TM_LEN),r!==null)break;t.setivalue(oo.luaH_getn(s));return}case lA:case iA:t.setivalue(n.vslen());return;default:{r=re.luaT_gettmbyobj(e,n,re.TMS.TM_LEN),r.ttisnil()&&ir.luaG_typeerror(e,n,ms("get length of",!0));break}}re.luaT_callTM(e,r,n,n,t,1)},$A=Math.imul||function(e,t){let n=e>>>16&65535,r=e&65535,s=t>>>16&65535,a=t&65535;return r*a+(n*a+r*s<<16>>>0)|0},jA=function(e,t,n){return n===0&&ir.luaG_runerror(e,ms("attempt to divide by zero")),Math.floor(t/n)|0},KA=function(e,t,n){return n===0&&ir.luaG_runerror(e,ms("attempt to perform 'n%%0'")),t-Math.floor(t/n)*n|0},sA=32,wy=function(e,t){return t<0?t<=-sA?0:e>>>-t:t>=sA?0:e<<t},N3=function(e,t,n,r){let s=e.cache;if(s!==null){let a=e.upvalues,i=a.length;for(let o=0;o<i;o++){let l=a[o].instack?n[r+a[o].idx]:t[a[o].idx];if(s.upvals[o]!==l)return null}}return s},I3=function(e,t,n,r,s){let a=t.upvalues.length,i=t.upvalues,o=new et.LClosure(e,a);o.p=t,e.stack[s].setclLvalue(o);for(let l=0;l<a;l++)i[l].instack?o.upvals[l]=vp.luaF_findupval(e,r+i[l].idx):o.upvals[l]=n[i[l].idx];t.cache=o},vy=function(e){return e.ttisnumber()},Sy=function(e){return e.ttisstring()},by=function(e,t){let n=e.stack[t];return n.ttisstring()?!0:vy(n)?(et.luaO_tostring(e,n),!0):!1},aA=function(e){return e.ttisstring()&&e.vslen()===0},C3=function(e,t,n,r){let s=0;do{let a=e.stack[t-n],i=a.vslen(),o=a.svalue();r.set(o,s),s+=i}while(--n>0)},Ty=function(e,t){qr(t>=2);do{let n=e.top,r=2;if(!(e.stack[n-2].ttisstring()||vy(e.stack[n-2]))||!by(e,n-1))re.luaT_trybinTM(e,e.stack[n-2],e.stack[n-1],e.stack[n-2],re.TMS.TM_CONCAT);else if(aA(e.stack[n-1]))by(e,n-2);else if(aA(e.stack[n-2]))et.setobjs2s(e,n-2,n-1);else{let s=e.stack[n-1].vslen();for(r=1;r<t&&by(e,n-r-1);r++){let o=e.stack[n-r-1].vslen();s+=o}let a=new Uint8Array(s);C3(e,n,r,a);let i=A3(e,a);et.setsvalue2s(e,n-r,i)}for(t-=r-1;e.top>n-(r-1);)delete e.stack[--e.top]}while(t>1)},qA=2e3,Op=function(e,t,n,r){for(let s=0;s<qA;s++){let a;if(!t.ttistable())a=re.luaT_gettmbyobj(e,t,re.TMS.TM_INDEX),a.ttisnil()&&ir.luaG_typeerror(e,t,ms("index",!0));else{let i=oo.luaH_get(e,t.value,n);if(i.ttisnil()){if(a=re.fasttm(e,t.value.metatable,re.TMS.TM_INDEX),a===null){e.stack[r].setnilvalue();return}}else{et.setobj2s(e,r,i);return}}if(a.ttisfunction()){re.luaT_callTM(e,a,t,n,e.stack[r],1);return}t=a}ir.luaG_runerror(e,ms("'__index' chain too long; possible loop",!0))},Ey=function(e,t,n,r){for(let s=0;s<qA;s++){let a;if(t.ttistable()){let i=t.value;if(!oo.luaH_get(e,i,n).ttisnil()||(a=re.fasttm(e,i.metatable,re.TMS.TM_NEWINDEX))===null){oo.luaH_setfrom(e,i,n,r),oo.invalidateTMcache(i);return}}else(a=re.luaT_gettmbyobj(e,t,re.TMS.TM_NEWINDEX)).ttisnil()&&ir.luaG_typeerror(e,t,ms("index",!0));if(a.ttisfunction()){re.luaT_callTM(e,a,t,n,r,0);return}t=a}ir.luaG_runerror(e,ms("'__newindex' chain too long; possible loop",!0))};Ct.exports.cvt2str=vy;Ct.exports.cvt2num=Sy;Ct.exports.luaV_gettable=Op;Ct.exports.luaV_concat=Ty;Ct.exports.luaV_div=jA;Ct.exports.luaV_equalobj=Oy;Ct.exports.luaV_execute=O3;Ct.exports.luaV_finishOp=E3;Ct.exports.luaV_imul=$A;Ct.exports.luaV_lessequal=PA;Ct.exports.luaV_lessthan=DA;Ct.exports.luaV_mod=KA;Ct.exports.luaV_objlen=GA;Ct.exports.luaV_rawequalobj=v3;Ct.exports.luaV_shiftl=wy;Ct.exports.luaV_tointeger=Sp;Ct.exports.settable=Ey;Ct.exports.tointeger=Kr;Ct.exports.tonumber=It});var uo=T((zie,wr)=>{"use strict";var{constant_types:{LUA_TTABLE:B3,LUA_TUSERDATA:M3},to_luastring:Le}=Rt(),{lua_assert:U3}=Vn(),Nl=ar(),VA=Vr(),D3=zs(),{luaS_bless:P3,luaS_new:pt}=fs(),Ny=ps(),Tp=Ws(),HA=lo(),F3=["no value","nil","boolean","userdata","number","string","table","function","userdata","thread","proto"].map(e=>Le(e)),XA=function(e){return F3[e+1]},Ue={TM_INDEX:0,TM_NEWINDEX:1,TM_GC:2,TM_MODE:3,TM_LEN:4,TM_EQ:5,TM_ADD:6,TM_SUB:7,TM_MUL:8,TM_MOD:9,TM_POW:10,TM_DIV:11,TM_IDIV:12,TM_BAND:13,TM_BOR:14,TM_BXOR:15,TM_SHL:16,TM_SHR:17,TM_UNM:18,TM_BNOT:19,TM_LT:20,TM_LE:21,TM_CONCAT:22,TM_CALL:23,TM_N:24},G3=function(e){e.l_G.tmname[Ue.TM_INDEX]=new pt(e,Le("__index",!0)),e.l_G.tmname[Ue.TM_NEWINDEX]=new pt(e,Le("__newindex",!0)),e.l_G.tmname[Ue.TM_GC]=new pt(e,Le("__gc",!0)),e.l_G.tmname[Ue.TM_MODE]=new pt(e,Le("__mode",!0)),e.l_G.tmname[Ue.TM_LEN]=new pt(e,Le("__len",!0)),e.l_G.tmname[Ue.TM_EQ]=new pt(e,Le("__eq",!0)),e.l_G.tmname[Ue.TM_ADD]=new pt(e,Le("__add",!0)),e.l_G.tmname[Ue.TM_SUB]=new pt(e,Le("__sub",!0)),e.l_G.tmname[Ue.TM_MUL]=new pt(e,Le("__mul",!0)),e.l_G.tmname[Ue.TM_MOD]=new pt(e,Le("__mod",!0)),e.l_G.tmname[Ue.TM_POW]=new pt(e,Le("__pow",!0)),e.l_G.tmname[Ue.TM_DIV]=new pt(e,Le("__div",!0)),e.l_G.tmname[Ue.TM_IDIV]=new pt(e,Le("__idiv",!0)),e.l_G.tmname[Ue.TM_BAND]=new pt(e,Le("__band",!0)),e.l_G.tmname[Ue.TM_BOR]=new pt(e,Le("__bor",!0)),e.l_G.tmname[Ue.TM_BXOR]=new pt(e,Le("__bxor",!0)),e.l_G.tmname[Ue.TM_SHL]=new pt(e,Le("__shl",!0)),e.l_G.tmname[Ue.TM_SHR]=new pt(e,Le("__shr",!0)),e.l_G.tmname[Ue.TM_UNM]=new pt(e,Le("__unm",!0)),e.l_G.tmname[Ue.TM_BNOT]=new pt(e,Le("__bnot",!0)),e.l_G.tmname[Ue.TM_LT]=new pt(e,Le("__lt",!0)),e.l_G.tmname[Ue.TM_LE]=new pt(e,Le("__le",!0)),e.l_G.tmname[Ue.TM_CONCAT]=new pt(e,Le("__concat",!0)),e.l_G.tmname[Ue.TM_CALL]=new pt(e,Le("__call",!0))},$3=Le("__name",!0),j3=function(e,t){let n;if(t.ttistable()&&(n=t.value.metatable)!==null||t.ttisfulluserdata()&&(n=t.value.metatable)!==null){let r=Ny.luaH_getstr(n,P3(e,$3));if(r.ttisstring())return r.svalue()}return XA(t.ttnov())},LA=function(e,t,n,r,s,a){let i=e.top;if(Nl.pushobj2s(e,t),Nl.pushobj2s(e,n),Nl.pushobj2s(e,r),a||Nl.pushobj2s(e,s),e.ci.callstatus&D3.CIST_LUA?VA.luaD_call(e,i,a):VA.luaD_callnoyield(e,i,a),a){let o=e.stack[e.top-1];delete e.stack[--e.top],s.setfrom(o)}},Iy=function(e,t,n,r,s){let a=Ry(e,t,s);return a.ttisnil()&&(a=Ry(e,n,s)),a.ttisnil()?!1:(LA(e,a,t,n,r,1),!0)},K3=function(e,t,n,r,s){if(!Iy(e,t,n,r,s))switch(s){case Ue.TM_CONCAT:return Tp.luaG_concaterror(e,t,n);case Ue.TM_BAND:case Ue.TM_BOR:case Ue.TM_BXOR:case Ue.TM_SHL:case Ue.TM_SHR:case Ue.TM_BNOT:{let a=HA.tonumber(t),i=HA.tonumber(n);return a!==!1&&i!==!1?Tp.luaG_tointerror(e,t,n):Tp.luaG_opinterror(e,t,n,Le("perform bitwise operation on",!0))}default:return Tp.luaG_opinterror(e,t,n,Le("perform arithmetic on",!0))}},q3=function(e,t,n,r){let s=new Nl.TValue;return Iy(e,t,n,s,r)?!s.l_isfalse():null},V3=function(e,t,n){return t===null||t.flags&1<<n?null:zA(t,n,e.l_G.tmname[n])},zA=function(e,t,n){let r=Ny.luaH_getstr(e,n);return U3(t<=Ue.TM_EQ),r.ttisnil()?(e.flags|=1<<t,null):r},Ry=function(e,t,n){let r;switch(t.ttnov()){case B3:case M3:r=t.value.metatable;break;default:r=e.l_G.mt[t.ttnov()]}return r?Ny.luaH_getstr(r,e.l_G.tmname[n]):Nl.luaO_nilobject};wr.exports.fasttm=V3;wr.exports.TMS=Ue;wr.exports.luaT_callTM=LA;wr.exports.luaT_callbinTM=Iy;wr.exports.luaT_trybinTM=K3;wr.exports.luaT_callorderTM=q3;wr.exports.luaT_gettm=zA;wr.exports.luaT_gettmbyobj=Ry;wr.exports.luaT_init=G3;wr.exports.luaT_objtypename=j3;wr.exports.ttypename=XA});var zs=T((Wie,Dt)=>{"use strict";var{LUA_MINSTACK:YA,LUA_RIDX_GLOBALS:H3,LUA_RIDX_MAINTHREAD:X3,constant_types:{LUA_NUMTAGS:L3,LUA_TNIL:QA,LUA_TTABLE:z3,LUA_TTHREAD:JA},thread_status:{LUA_OK:ZA}}=Rt(),Sc=ar(),W3=Vr(),ew=Nc(),Rp=ps(),tw=uo(),nw=5,WA=2*YA,Tc=class{constructor(){this.func=null,this.funcOff=NaN,this.top=NaN,this.previous=null,this.next=null,this.l_base=NaN,this.l_code=null,this.l_savedpc=NaN,this.c_k=null,this.c_old_errfunc=null,this.c_ctx=null,this.nresults=NaN,this.callstatus=NaN}},Rc=class{constructor(t){this.id=t.id_counter++,this.base_ci=new Tc,this.top=NaN,this.stack_last=NaN,this.oldpc=NaN,this.l_G=t,this.stack=null,this.ci=null,this.errorJmp=null,this.nCcalls=0,this.hook=null,this.hookmask=0,this.basehookcount=0,this.allowhook=1,this.hookcount=this.basehookcount,this.nny=1,this.status=ZA,this.errfunc=0}},Cy=class{constructor(){this.id_counter=1,this.ids=new WeakMap,this.mainthread=null,this.l_registry=new Sc.TValue(QA,null),this.panic=null,this.atnativeerror=null,this.version=null,this.tmname=new Array(tw.TMS.TM_N),this.mt=new Array(L3)}},Y3=function(e){let t=new Tc;return e.ci.next=t,t.previous=e.ci,t.next=null,e.ci=t,t},rw=function(e){let t=e.ci;t.next=null},sw=function(e,t){e.stack=new Array(WA),e.top=0,e.stack_last=WA-nw;let n=e.base_ci;n.next=n.previous=null,n.callstatus=0,n.funcOff=e.top,n.func=e.stack[e.top],e.stack[e.top++]=new Sc.TValue(QA,null),n.top=e.top+YA,e.ci=n},aw=function(e){e.ci=e.base_ci,rw(e),e.stack=null},Q3=function(e,t){let n=Rp.luaH_new(e);t.l_registry.sethvalue(n),Rp.luaH_setint(n,X3,new Sc.TValue(JA,e)),Rp.luaH_setint(n,H3,new Sc.TValue(z3,Rp.luaH_new(e)))},J3=function(e){let t=e.l_G;sw(e,e),Q3(e,t),tw.luaT_init(e),t.version=ew.lua_version(null)},Z3=function(e){let t=e.l_G,n=new Rc(t);return e.stack[e.top]=new Sc.TValue(JA,n),ew.api_incr_top(e),n.hookmask=e.hookmask,n.basehookcount=e.basehookcount,n.hook=e.hook,n.hookcount=n.basehookcount,sw(n,e),n},e$=function(e,t){aw(t)},t$=function(){let e=new Cy,t=new Rc(e);return e.mainthread=t,W3.luaD_rawrunprotected(t,J3,null)!==ZA&&(t=null),t},n$=function(e){aw(e)},r$=function(e){e=e.l_G.mainthread,n$(e)};Dt.exports.lua_State=Rc;Dt.exports.CallInfo=Tc;Dt.exports.CIST_OAH=1;Dt.exports.CIST_LUA=2;Dt.exports.CIST_HOOKED=4;Dt.exports.CIST_FRESH=8;Dt.exports.CIST_YPCALL=16;Dt.exports.CIST_TAIL=32;Dt.exports.CIST_HOOKYIELD=64;Dt.exports.CIST_LEQ=128;Dt.exports.CIST_FIN=256;Dt.exports.EXTRA_STACK=nw;Dt.exports.lua_close=r$;Dt.exports.lua_newstate=t$;Dt.exports.lua_newthread=Z3;Dt.exports.luaE_extendCI=Y3;Dt.exports.luaE_freeCI=rw;Dt.exports.luaE_freethread=e$});var ar=T((Yie,at)=>{"use strict";var{LUA_OPADD:qy,LUA_OPBAND:_w,LUA_OPBNOT:bw,LUA_OPBOR:xw,LUA_OPBXOR:kw,LUA_OPDIV:Aw,LUA_OPIDIV:ww,LUA_OPMOD:Ew,LUA_OPMUL:Ow,LUA_OPPOW:vw,LUA_OPSHL:Sw,LUA_OPSHR:Tw,LUA_OPSUB:Rw,LUA_OPUNM:Nw,constant_types:{LUA_NUMTAGS:Iw,LUA_TBOOLEAN:iw,LUA_TCCL:ow,LUA_TFUNCTION:lw,LUA_TLCF:uw,LUA_TLCL:cw,LUA_TLIGHTUSERDATA:fw,LUA_TLNGSTR:Py,LUA_TNIL:Ic,LUA_TNUMBER:s$,LUA_TNUMFLT:By,LUA_TNUMINT:My,LUA_TSHRSTR:a$,LUA_TSTRING:i$,LUA_TTABLE:pw,LUA_TTHREAD:dw,LUA_TUSERDATA:mw},from_userstring:o$,luastring_indexOf:Fy,luastring_of:l$,to_jsstring:Cw,to_luastring:sn}=Rt(),{lisdigit:Ip,lisprint:u$,lisspace:Cp,lisxdigit:Bw}=fy(),c$=Ws(),Np=Vr(),f$=zs(),{luaS_bless:p$,luaS_new:d$}=fs(),m$=ps(),{LUA_COMPAT_FLOATSTRING:h$,ldexp:y$,lua_integer2str:g$,lua_number2str:_$}=Kn(),Er=lo(),{MAX_INT:Mw,luai_nummod:b$,lua_assert:fo}=Vn(),hw=uo(),x$=Iw,Gy=Iw+1,Ya=class{constructor(t,n){this.type=t,this.value=n}ttype(){return this.type&63}ttnov(){return this.type&15}checktag(t){return this.type===t}checktype(t){return this.ttnov()===t}ttisnumber(){return this.checktype(s$)}ttisfloat(){return this.checktag(By)}ttisinteger(){return this.checktag(My)}ttisnil(){return this.checktag(Ic)}ttisboolean(){return this.checktag(iw)}ttislightuserdata(){return this.checktag(fw)}ttisstring(){return this.checktype(i$)}ttisshrstring(){return this.checktag(a$)}ttislngstring(){return this.checktag(Py)}ttistable(){return this.checktag(pw)}ttisfunction(){return this.checktype(lw)}ttisclosure(){return(this.type&31)===lw}ttisCclosure(){return this.checktag(ow)}ttisLclosure(){return this.checktag(cw)}ttislcf(){return this.checktag(uw)}ttisfulluserdata(){return this.checktag(mw)}ttisthread(){return this.checktag(dw)}ttisdeadkey(){return this.checktag(Gy)}l_isfalse(){return this.ttisnil()||this.ttisboolean()&&this.value===!1}setfltvalue(t){this.type=By,this.value=t}chgfltvalue(t){fo(this.type==By),this.value=t}setivalue(t){this.type=My,this.value=t}chgivalue(t){fo(this.type==My),this.value=t}setnilvalue(){this.type=Ic,this.value=null}setfvalue(t){this.type=uw,this.value=t}setpvalue(t){this.type=fw,this.value=t}setbvalue(t){this.type=iw,this.value=t}setsvalue(t){this.type=Py,this.value=t}setuvalue(t){this.type=mw,this.value=t}setthvalue(t){this.type=dw,this.value=t}setclLvalue(t){this.type=cw,this.value=t}setclCvalue(t){this.type=ow,this.value=t}sethvalue(t){this.type=pw,this.value=t}setdeadvalue(){this.type=Gy,this.value=null}setfrom(t){this.type=t.type,this.value=t.value}tsvalue(){return fo(this.ttisstring()),this.value}svalue(){return this.tsvalue().getstr()}vslen(){return this.tsvalue().tsslen()}jsstring(t,n){return Cw(this.svalue(),t,n,!0)}},k$=function(e,t){e.stack[e.top++]=new Ya(t.type,t.value)},A$=function(e,t){e.stack[e.top++]=new Ya(Py,t)},w$=function(e,t,n){e.stack[t].setfrom(e.stack[n])},E$=function(e,t,n){e.stack[t].setfrom(n)},Uw=function(e,t,n){e.stack[t].setsvalue(n)},Dw=new Ya(Ic,null);Object.freeze(Dw);at.exports.luaO_nilobject=Dw;var Bp=class{constructor(t,n){this.id=t.l_G.id_counter++,this.p=null,this.nupvalues=n,this.upvals=new Array(n)}},Mp=class{constructor(t,n,r){for(this.id=t.l_G.id_counter++,this.f=n,this.nupvalues=r,this.upvalue=new Array(r);r--;)this.upvalue[r]=new Ya(Ic,null)}},Up=class{constructor(t,n){this.id=t.l_G.id_counter++,this.metatable=null,this.uservalue=new Ya(Ic,null),this.len=n,this.data=Object.create(null)}},$y=class{constructor(){this.varname=null,this.startpc=NaN,this.endpc=NaN}},Il=sn("..."),Uy=sn('[string "'),Dy=sn('"]'),O$=function(e,t){let n=e.length,r;if(e[0]===61)n<t?(r=new Uint8Array(n-1),r.set(e.subarray(1))):(r=new Uint8Array(t),r.set(e.subarray(1,t+1)));else if(e[0]===64)n<=t?(r=new Uint8Array(n-1),r.set(e.subarray(1))):(r=new Uint8Array(t),r.set(Il),t-=Il.length,r.set(e.subarray(n-t),Il.length));else{r=new Uint8Array(t);let s=Fy(e,10);r.set(Uy);let a=Uy.length;t-=Uy.length+Il.length+Dy.length,n<t&&s===-1?(r.set(e,a),a+=e.length):(s!==-1&&(n=s),n>t&&(n=t),r.set(e.subarray(0,n),a),a+=n,r.set(Il,a),a+=Il.length),r.set(Dy,a),a+=Dy.length,r=r.subarray(0,a)}return r},Vy=function(e){return Ip(e)?e-48:(e&223)-55},Cl=8,Pw=function(e,t){let n=1;if(fo(t<=1114111),t<128)e[Cl-1]=t;else{let r=63;do e[Cl-n++]=128|t&63,t>>=6,r>>=1;while(t>r);e[Cl-n]=~r<<1|t}return n},v$=30,S$=function(e){let t=0,n=0,r=0,s=0,a=0,i,o=!1;for(;Cp(e[t]);)t++;if(((i=e[t]===45)||e[t]===43)&&t++,!(e[t]===48&&(e[t+1]===120||e[t+1]===88)))return null;for(t+=2;;t++)if(e[t]===46){if(o)break;o=!0}else if(Bw(e[t]))r===0&&e[t]===48?s++:++r<=v$?n=n*16+Vy(e[t]):a++,o&&a--;else break;if(s+r===0)return null;if(a*=4,e[t]===112||e[t]===80){let l=0,u;if(t++,((u=e[t]===45)||e[t]===43)&&t++,!Ip(e[t]))return null;for(;Ip(e[t]);)l=l*10+e[t++]-48;u&&(l=-l),a+=l}return i&&(n=-n),{n:y$(n,a),i:t}},T$=function(e){try{e=Cw(e)}catch{return null}let t=/^[\t\v\f \n\r]*[+-]?(?:[0-9]+\.?[0-9]*|\.[0-9]*)(?:[eE][+-]?[0-9]+)?/.exec(e);if(!t)return null;let n=parseFloat(t[0]);return isNaN(n)?null:{n,i:t[0].length}},R$=function(e,t){let n=t==="x"?S$(e):T$(e);if(n===null)return null;for(;Cp(e[n.i]);)n.i++;return n.i===e.length||e[n.i]===0?n:null},N$=[46,120,88,110,78],I$={[46]:".",[120]:"x",[88]:"x",[110]:"n",[78]:"n"},C$=function(e){let t=e.length,n=0;for(let a=0;a<t;a++){let i=e[a];if(N$.indexOf(i)!==-1){n=i;break}}let r=I$[n];return r==="n"?null:R$(e,r)},yw=Math.floor(Mw/10),B$=Mw%10,M$=function(e){let t=0,n=0,r=!0,s;for(;Cp(e[t]);)t++;if(((s=e[t]===45)||e[t]===43)&&t++,e[t]===48&&(e[t+1]===120||e[t+1]===88))for(t+=2;t<e.length&&Bw(e[t]);t++)n=n*16+Vy(e[t])|0,r=!1;else for(;t<e.length&&Ip(e[t]);t++){let a=e[t]-48;if(n>=yw&&(n>yw||a>B$+s))return null;n=n*10+a|0,r=!1}for(;t<e.length&&Cp(e[t]);)t++;return r||t!==e.length&&e[t]!==0?null:{n:(s?-n:n)|0,i:t}},U$=function(e,t){let n=M$(e);return n!==null?(t.setivalue(n.n),n.i+1):(n=C$(e),n!==null?(t.setfltvalue(n.n),n.i+1):0)},jy=function(e,t){let n;if(t.ttisinteger())n=sn(g$(t.value));else{let r=_$(t.value);!h$&&/^[-0123456789]+$/.test(r)&&(r+=".0"),n=sn(r)}t.setsvalue(p$(e,n))},Hn=function(e,t){Np.luaD_inctop(e),Uw(e,e.top-1,d$(e,t))},Fw=function(e,t,n){let r=0,s=0,a=0,i;for(;i=Fy(t,37,s),i!=-1;){switch(Hn(e,t.subarray(s,i)),t[i+1]){case 115:{let o=n[a++];if(o===null)o=sn("(null)",!0);else{o=o$(o);let l=Fy(o,0);l!==-1&&(o=o.subarray(0,l))}Hn(e,o);break}case 99:{let o=n[a++];u$(o)?Hn(e,l$(o)):Gw(e,sn("<\\%d>",!0),o);break}case 100:case 73:Np.luaD_inctop(e),e.stack[e.top-1].setivalue(n[a++]),jy(e,e.stack[e.top-1]);break;case 102:Np.luaD_inctop(e),e.stack[e.top-1].setfltvalue(n[a++]),jy(e,e.stack[e.top-1]);break;case 112:{let o=n[a++];if(o instanceof f$.lua_State||o instanceof m$.Table||o instanceof Up||o instanceof Bp||o instanceof Mp)Hn(e,sn("0x"+o.id.toString(16)));else switch(typeof o){case"undefined":Hn(e,sn("undefined"));break;case"number":Hn(e,sn("Number("+o+")"));break;case"string":Hn(e,sn("String("+JSON.stringify(o)+")"));break;case"boolean":Hn(e,sn(o?"Boolean(true)":"Boolean(false)"));break;case"object":if(o===null){Hn(e,sn("null"));break}case"function":{let l=e.l_G.ids.get(o);l||(l=e.l_G.id_counter++,e.l_G.ids.set(o,l)),Hn(e,sn("0x"+l.toString(16)));break}default:Hn(e,sn("<id NYI>"))}break}case 85:{let o=new Uint8Array(Cl),l=Pw(o,n[a++]);Hn(e,o.subarray(Cl-l));break}case 37:Hn(e,sn("%",!0));break;default:c$.luaG_runerror(e,sn("invalid option '%%%c' to 'lua_pushfstring'"),t[i+1])}r+=2,s=i+2}return Np.luaD_checkstack(e,1),Hn(e,t.subarray(s)),r>0&&Er.luaV_concat(e,r+1),e.stack[e.top-1].svalue()},Gw=function(e,t,...n){return Fw(e,t,n)},D$=function(e){let t=0;if(e<8)return e;for(;e>=128;)e=e+15>>4,t+=4;for(;e>=16;)e=e+1>>1,t++;return t+1<<3|e-8},gw=function(e,t,n,r){switch(t){case qy:return n+r|0;case Rw:return n-r|0;case Ow:return Er.luaV_imul(n,r);case Ew:return Er.luaV_mod(e,n,r);case ww:return Er.luaV_div(e,n,r);case _w:return n&r;case xw:return n|r;case kw:return n^r;case Sw:return Er.luaV_shiftl(n,r);case Tw:return Er.luaV_shiftl(n,-r);case Nw:return 0-n|0;case bw:return-1^n;default:fo(0)}},Ky=function(e,t,n,r){switch(t){case qy:return n+r;case Rw:return n-r;case Ow:return n*r;case Aw:return n/r;case vw:return Math.pow(n,r);case ww:return Math.floor(n/r);case Nw:return-n;case Ew:return b$(e,n,r);default:fo(0)}},P$=function(e,t,n,r,s){let a=typeof s=="number"?e.stack[s]:s;switch(t){case _w:case xw:case kw:case Sw:case Tw:case bw:{let i,o;if((i=Er.tointeger(n))!==!1&&(o=Er.tointeger(r))!==!1){a.setivalue(gw(e,t,i,o));return}else break}case Aw:case vw:{let i,o;if((i=Er.tonumber(n))!==!1&&(o=Er.tonumber(r))!==!1){a.setfltvalue(Ky(e,t,i,o));return}else break}default:{let i,o;if(n.ttisinteger()&&r.ttisinteger()){a.setivalue(gw(e,t,n.value,r.value));return}else if((i=Er.tonumber(n))!==!1&&(o=Er.tonumber(r))!==!1){a.setfltvalue(Ky(e,t,i,o));return}else break}}fo(e!==null),hw.luaT_trybinTM(e,n,r,s,t-qy+hw.TMS.TM_ADD)};at.exports.CClosure=Mp;at.exports.LClosure=Bp;at.exports.LUA_TDEADKEY=Gy;at.exports.LUA_TPROTO=x$;at.exports.LocVar=$y;at.exports.TValue=Ya;at.exports.Udata=Up;at.exports.UTF8BUFFSZ=Cl;at.exports.luaO_arith=P$;at.exports.luaO_chunkid=O$;at.exports.luaO_hexavalue=Vy;at.exports.luaO_int2fb=D$;at.exports.luaO_pushfstring=Gw;at.exports.luaO_pushvfstring=Fw;at.exports.luaO_str2num=U$;at.exports.luaO_tostring=jy;at.exports.luaO_utf8esc=Pw;at.exports.numarith=Ky;at.exports.pushobj2s=k$;at.exports.pushsvalue2s=A$;at.exports.setobjs2s=w$;at.exports.setobj2s=E$;at.exports.setsvalue2s=Uw});var co=T((Qie,Qa)=>{"use strict";var{constant_types:{LUA_TNIL:F$}}=Rt(),Xy=ar(),Hy=class{constructor(t){this.id=t.l_G.id_counter++,this.k=[],this.p=[],this.code=[],this.cache=null,this.lineinfo=[],this.upvalues=[],this.numparams=0,this.is_vararg=!1,this.maxstacksize=0,this.locvars=[],this.linedefined=0,this.lastlinedefined=0,this.source=null}},G$=function(e,t){return new Xy.LClosure(e,t)},$$=function(e,t){return e.stack[t]},j$=function(e,t){for(let n=t;n<e.top;n++){let r=e.stack[n];e.stack[n]=new Xy.TValue(r.type,r.value)}},K$=function(e,t){for(let n=0;n<t.nupvalues;n++)t.upvals[n]=new Xy.TValue(F$,null)},q$=function(e,t,n){for(let r=0;r<e.locvars.length&&e.locvars[r].startpc<=n;r++)if(n<e.locvars[r].endpc&&(t--,t===0))return e.locvars[r].varname.getstr();return null};Qa.exports.MAXUPVAL=255;Qa.exports.Proto=Hy;Qa.exports.luaF_findupval=$$;Qa.exports.luaF_close=j$;Qa.exports.luaF_getlocalname=q$;Qa.exports.luaF_initupvals=K$;Qa.exports.luaF_newLclosure=G$});var Cc=T((Jie,hs)=>{"use strict";var{lua_assert:$w}=Vn(),Ly=class{constructor(){this.buffer=null,this.n=0}},V$=function(e){return e.buffer.subarray(0,e.n)},H$=function(e,t){e.n-=t},X$=function(e){e.n=0},L$=function(e,t,n){let r=new Uint8Array(n);t.buffer&&r.set(t.buffer),t.buffer=r},zy=class{constructor(t,n,r){this.L=t,$w(typeof n=="function","ZIO requires a reader"),this.reader=n,this.data=r,this.n=0,this.buffer=null,this.off=0}zgetc(){return this.n-- >0?this.buffer[this.off++]:Wy(this)}},Dp=-1,Wy=function(e){let t=e.reader(e.L,e.data);if(t===null)return Dp;$w(t instanceof Uint8Array,"Should only load binary of array of bytes");let n=t.length;return n===0?Dp:(e.buffer=t,e.off=0,e.n=n-1,e.buffer[e.off++])},z$=function(e,t,n,r){for(;r;){if(e.n===0){if(Wy(e)===Dp)return r;e.n++,e.off--}let s=r<=e.n?r:e.n;for(let a=0;a<s;a++)t[n++]=e.buffer[e.off++];e.n-=s,e.n===0&&(e.buffer=null),r-=s}return 0};hs.exports.EOZ=Dp;hs.exports.luaZ_buffer=V$;hs.exports.luaZ_buffremove=H$;hs.exports.luaZ_fill=Wy;hs.exports.luaZ_read=z$;hs.exports.luaZ_resetbuffer=X$;hs.exports.luaZ_resizebuffer=L$;hs.exports.MBuffer=Ly;hs.exports.ZIO=zy});var qp=T((Zie,lr)=>{"use strict";var{constant_types:{LUA_TBOOLEAN:W$,LUA_TLNGSTR:Y$},thread_status:{LUA_ERRSYNTAX:Q$},to_luastring:Pt}=Rt(),{LUA_MINBUFFER:J$,MAX_INT:qw,lua_assert:Ml}=Vn(),Z$=Ws(),ej=Vr(),{lisdigit:$p,lislalnum:tj,lislalpha:nj,lisspace:rj,lisxdigit:eg}=fy(),or=ar(),{luaS_bless:sj,luaS_hash:aj,luaS_hashlongstr:tg,luaS_new:ij}=fs(),oj=ps(),{EOZ:Ul,luaZ_buffer:ng,luaZ_buffremove:Bc,luaZ_resetbuffer:Pp,luaZ_resizebuffer:Vw}=Cc(),ke=257,Hw=Pt("_ENV",!0),lj=ke,uj=ke+1,cj=ke+2,fj=ke+3,pj=ke+4,dj=ke+5,mj=ke+6,hj=ke+7,yj=ke+8,gj=ke+9,_j=ke+10,bj=ke+11,xj=ke+12,kj=ke+13,Aj=ke+14,wj=ke+15,Ej=ke+16,Oj=ke+17,vj=ke+18,Sj=ke+19,Tj=ke+20,Rj=ke+21,Xw=ke+22,Lw=ke+23,zw=ke+24,Ww=ke+25,Yw=ke+26,Qw=ke+27,Jw=ke+28,Zw=ke+29,eE=ke+30,tE=ke+31,Ys=ke+32,Fp=ke+33,rg=ke+34,sg=ke+35,po=ke+36,Nj={TK_AND:lj,TK_BREAK:uj,TK_DO:cj,TK_ELSE:fj,TK_ELSEIF:pj,TK_END:dj,TK_FALSE:mj,TK_FOR:hj,TK_FUNCTION:yj,TK_GOTO:gj,TK_IF:_j,TK_IN:bj,TK_LOCAL:xj,TK_NIL:kj,TK_NOT:Aj,TK_OR:wj,TK_REPEAT:Ej,TK_RETURN:Oj,TK_THEN:vj,TK_TRUE:Sj,TK_UNTIL:Tj,TK_WHILE:Rj,TK_IDIV:Xw,TK_CONCAT:Lw,TK_DOTS:zw,TK_EQ:Ww,TK_GE:Yw,TK_LE:Qw,TK_NE:Jw,TK_SHL:Zw,TK_SHR:eE,TK_DBCOLON:tE,TK_EOS:Ys,TK_FLT:Fp,TK_INT:rg,TK_NAME:sg,TK_STRING:po},ag=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","//","..","...","==",">=","<=","~=","<<",">>","::","<eof>","<number>","<integer>","<name>","<string>"].map((e,t)=>Pt(e)),Mc=class{constructor(){this.r=NaN,this.i=NaN,this.ts=null}},Gp=class{constructor(){this.token=NaN,this.seminfo=new Mc}},Qy=class{constructor(){this.current=NaN,this.linenumber=NaN,this.lastline=NaN,this.t=new Gp,this.lookahead=new Gp,this.fs=null,this.L=null,this.z=null,this.buff=null,this.h=null,this.dyd=null,this.source=null,this.envn=null}},jp=function(e,t){let n=e.buff;if(n.n+1>n.buffer.length){n.buffer.length>=qw/2&&Qs(e,Pt("lexical element too long",!0),0);let r=n.buffer.length*2;Vw(e.L,n,r)}n.buffer[n.n++]=t<0?255+t+1:t},nE=function(e,t){if(t<ke)return or.luaO_pushfstring(e.L,Pt("'%c'",!0),t);{let n=ag[t-ke];return t<Ys?or.luaO_pushfstring(e.L,Pt("'%s'",!0),n):n}},Uc=function(e){return e.current===10||e.current===13},Bt=function(e){e.current=e.z.zgetc()},Ot=function(e){jp(e,e.current),Bt(e)},Ij=new or.TValue(W$,!0),Kp=function(e,t){let n=e.L,r=ij(n,t),s=e.h.strong.get(tg(r));if(s)r=s.key.tsvalue();else{let a=new or.TValue(Y$,r);oj.luaH_setfrom(n,e.h,a,Ij)}return r},Dc=function(e){let t=e.current;Ml(Uc(e)),Bt(e),Uc(e)&&e.current!==t&&Bt(e),++e.linenumber>=qw&&Qs(e,Pt("chunk has too many lines",!0),0)},Cj=function(e,t,n,r,s){t.t={token:0,seminfo:new Mc},t.L=e,t.current=s,t.lookahead={token:Ys,seminfo:new Mc},t.z=n,t.fs=null,t.linenumber=1,t.lastline=1,t.source=r,t.envn=sj(e,Hw),Vw(e,t.buff,J$)},ys=function(e,t){return e.current===t?(Bt(e),!0):!1},Yy=function(e,t){return e.current===t[0].charCodeAt(0)||e.current===t[1].charCodeAt(0)?(Ot(e),!0):!1},jw=function(e,t){let n="Ee",r=e.current;for(Ml($p(e.current)),Ot(e),r===48&&Yy(e,"xX")&&(n="Pp");;)if(Yy(e,n)&&Yy(e,"-+"),eg(e.current))Ot(e);else if(e.current===46)Ot(e);else break;let s=new or.TValue;return or.luaO_str2num(ng(e.buff),s)===0&&Qs(e,Pt("malformed number",!0),Fp),s.ttisinteger()?(t.i=s.value,rg):(Ml(s.ttisfloat()),t.r=s.value,Fp)},Bj=function(e,t){switch(t){case sg:case po:case Fp:case rg:return or.luaO_pushfstring(e.L,Pt("'%s'",!0),ng(e.buff));default:return nE(e,t)}},Qs=function(e,t,n){t=Z$.luaG_addinfo(e.L,t,e.source,e.linenumber),n&&or.luaO_pushfstring(e.L,Pt("%s near %s"),t,Bj(e,n)),ej.luaD_throw(e.L,Q$)},Mj=function(e,t){Qs(e,t,e.t.token)},Jy=function(e){let t=0,n=e.current;for(Ml(n===91||n===93),Ot(e);e.current===61;)Ot(e),t++;return e.current===n?t:-t-1},Kw=function(e,t,n){let r=e.linenumber;Ot(e),Uc(e)&&Dc(e);let s=!1;for(;!s;)switch(e.current){case Ul:{let i=`unfinished long ${t?"string":"comment"} (starting at line ${r})`;Qs(e,Pt(i),Ys);break}case 93:{Jy(e)===n&&(Ot(e),s=!0);break}case 10:case 13:{jp(e,10),Dc(e),t||Pp(e.buff);break}default:t?Ot(e):Bt(e)}t&&(t.ts=Kp(e,e.buff.buffer.subarray(2+n,e.buff.n-(2+n))))},Bl=function(e,t,n){t||(e.current!==Ul&&Ot(e),Qs(e,n,po))},Zy=function(e){return Ot(e),Bl(e,eg(e.current),Pt("hexadecimal digit expected",!0)),or.luaO_hexavalue(e.current)},Uj=function(e){let t=Zy(e);return t=(t<<4)+Zy(e),Bc(e.buff,2),t},Dj=function(e){let t=4;Ot(e),Bl(e,e.current===123,Pt("missing '{'",!0));let n=Zy(e);for(Ot(e);eg(e.current);)t++,n=(n<<4)+or.luaO_hexavalue(e.current),Bl(e,n<=1114111,Pt("UTF-8 value too large",!0)),Ot(e);return Bl(e,e.current===125,Pt("missing '}'",!0)),Bt(e),Bc(e.buff,t),n},Pj=function(e){let t=new Uint8Array(or.UTF8BUFFSZ),n=or.luaO_utf8esc(t,Dj(e));for(;n>0;n--)jp(e,t[or.UTF8BUFFSZ-n])},Fj=function(e){let t=0,n;for(n=0;n<3&&$p(e.current);n++)t=10*t+e.current-48,Ot(e);return Bl(e,t<=255,Pt("decimal escape too large",!0)),Bc(e.buff,n),t},Gj=function(e,t,n){for(Ot(e);e.current!==t;)switch(e.current){case Ul:Qs(e,Pt("unfinished string",!0),Ys);break;case 10:case 13:Qs(e,Pt("unfinished string",!0),po);break;case 92:{Ot(e);let r,s;switch(e.current){case 97:s=7,r="read_save";break;case 98:s=8,r="read_save";break;case 102:s=12,r="read_save";break;case 110:s=10,r="read_save";break;case 114:s=13,r="read_save";break;case 116:s=9,r="read_save";break;case 118:s=11,r="read_save";break;case 120:s=Uj(e),r="read_save";break;case 117:Pj(e),r="no_save";break;case 10:case 13:Dc(e),s=10,r="only_save";break;case 92:case 34:case 39:s=e.current,r="read_save";break;case Ul:r="no_save";break;case 122:{for(Bc(e.buff,1),Bt(e);rj(e.current);)Uc(e)?Dc(e):Bt(e);r="no_save";break}default:{Bl(e,$p(e.current),Pt("invalid escape sequence",!0)),s=Fj(e),r="only_save";break}}r==="read_save"&&Bt(e),(r==="read_save"||r==="only_save")&&(Bc(e.buff,1),jp(e,s));break}default:Ot(e)}Ot(e),n.ts=Kp(e,e.buff.buffer.subarray(1,e.buff.n-1))},ig=Object.create(null);ag.forEach((e,t)=>ig[aj(e)]=t);var $j=function(e){let t=ig[tg(e)];return t!==void 0&&t<=22},rE=function(e,t){for(Pp(e.buff);;)switch(Ml(typeof e.current=="number"),e.current){case 10:case 13:{Dc(e);break}case 32:case 12:case 9:case 11:{Bt(e);break}case 45:{if(Bt(e),e.current!==45)return 45;if(Bt(e),e.current===91){let n=Jy(e);if(Pp(e.buff),n>=0){Kw(e,null,n),Pp(e.buff);break}}for(;!Uc(e)&&e.current!==Ul;)Bt(e);break}case 91:{let n=Jy(e);return n>=0?(Kw(e,t,n),po):(n!==-1&&Qs(e,Pt("invalid long string delimiter",!0),po),91)}case 61:return Bt(e),ys(e,61)?Ww:61;case 60:return Bt(e),ys(e,61)?Qw:ys(e,60)?Zw:60;case 62:return Bt(e),ys(e,61)?Yw:ys(e,62)?eE:62;case 47:return Bt(e),ys(e,47)?Xw:47;case 126:return Bt(e),ys(e,61)?Jw:126;case 58:return Bt(e),ys(e,58)?tE:58;case 34:case 39:return Gj(e,e.current,t),po;case 46:return Ot(e),ys(e,46)?ys(e,46)?zw:Lw:$p(e.current)?jw(e,t):46;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return jw(e,t);case Ul:return Ys;default:if(nj(e.current)){do Ot(e);while(tj(e.current));let n=Kp(e,ng(e.buff));t.ts=n;let r=ig[tg(n)];return r!==void 0&&r<=22?r+ke:sg}else{let n=e.current;return Bt(e),n}}},jj=function(e){e.lastline=e.linenumber,e.lookahead.token!==Ys?(e.t.token=e.lookahead.token,e.t.seminfo.i=e.lookahead.seminfo.i,e.t.seminfo.r=e.lookahead.seminfo.r,e.t.seminfo.ts=e.lookahead.seminfo.ts,e.lookahead.token=Ys):e.t.token=rE(e,e.t.seminfo)},Kj=function(e){return Ml(e.lookahead.token===Ys),e.lookahead.token=rE(e,e.lookahead.seminfo),e.lookahead.token};lr.exports.FIRST_RESERVED=ke;lr.exports.LUA_ENV=Hw;lr.exports.LexState=Qy;lr.exports.RESERVED=Nj;lr.exports.isreserved=$j;lr.exports.luaX_lookahead=Kj;lr.exports.luaX_newstring=Kp;lr.exports.luaX_next=jj;lr.exports.luaX_setinput=Cj;lr.exports.luaX_syntaxerror=Mj;lr.exports.luaX_token2str=nE;lr.exports.luaX_tokens=ag});var NE=T((eoe,_e)=>{"use strict";var{LUA_MULTRET:ug,LUA_OPADD:qj,LUA_OPBAND:Vj,LUA_OPBNOT:Hj,LUA_OPBOR:Xj,LUA_OPBXOR:Lj,LUA_OPDIV:zj,LUA_OPIDIV:Wj,LUA_OPMOD:Yj,LUA_OPSHL:Qj,LUA_OPSHR:Jj,LUA_OPUNM:Zj,constant_types:{LUA_TBOOLEAN:e4,LUA_TLIGHTUSERDATA:t4,LUA_TLNGSTR:n4,LUA_TNIL:r4,LUA_TNUMFLT:fE,LUA_TNUMINT:cg,LUA_TTABLE:s4},to_luastring:fg}=Rt(),{lua_assert:ht}=Vn(),pg=qp(),dg=ar(),ie=io(),ze=bg(),sE=ps(),aE=lo(),Be=ie.OpCodesI,gs=dg.TValue,a4=255,tt=-1,xe={OPR_ADD:0,OPR_SUB:1,OPR_MUL:2,OPR_MOD:3,OPR_POW:4,OPR_DIV:5,OPR_IDIV:6,OPR_BAND:7,OPR_BOR:8,OPR_BXOR:9,OPR_SHL:10,OPR_SHR:11,OPR_CONCAT:12,OPR_EQ:13,OPR_LT:14,OPR_LE:15,OPR_NE:16,OPR_GT:17,OPR_GE:18,OPR_AND:19,OPR_OR:20,OPR_NOBINOPR:21},Pc={OPR_MINUS:0,OPR_BNOT:1,OPR_NOT:2,OPR_LEN:3,OPR_NOUNOPR:4},Pl=function(e){return e.t!==e.f},og=function(e,t){let n=ze.expkind;if(Pl(e))return!1;switch(e.k){case n.VKINT:return t?new gs(cg,e.u.ival):!0;case n.VKFLT:return t?new gs(fE,e.u.nval):!0;default:return!1}},pE=function(e,t,n){let r,s=t+n-1;if(e.pc>e.lasttarget&&(r=e.f.code[e.pc-1],r.opcode===Be.OP_LOADNIL)){let a=r.A,i=a+r.B;if(a<=t&&t<=i+1||t<=a&&a<=s+1){a<t&&(t=a),i>s&&(s=i),ie.SETARG_A(r,t),ie.SETARG_B(r,s-t);return}}an(e,Be.OP_LOADNIL,t,n-1,0)},Js=function(e,t){return e.f.code[t.u.info]},Dl=function(e,t){let n=e.f.code[t].sBx;return n===tt?tt:t+1+n},lg=function(e,t,n){let r=e.f.code[t],s=n-(t+1);ht(n!==tt),Math.abs(s)>ie.MAXARG_sBx&&pg.luaX_syntaxerror(e.ls,fg("control structure too long",!0)),ie.SETARG_sBx(r,s)},Ja=function(e,t,n){if(n===tt)return t;if(t===tt)t=n;else{let r=t,s=Dl(e,r);for(;s!==tt;)r=s,s=Dl(e,r);lg(e,r,n)}return t},Lp=function(e){let t=e.jpc;e.jpc=tt;let n=gE(e,Be.OP_JMP,0,tt);return n=Ja(e,n,t),n},i4=function(e,t){return yE(e,Lp(e),t)},o4=function(e,t,n){an(e,Be.OP_RETURN,t,n+1,0)},Fc=function(e,t,n,r,s){return an(e,t,n,r,s),Lp(e)},zp=function(e){return e.lasttarget=e.pc,e.pc},dE=function(e,t){return t>=1&&ie.testTMode(e.f.code[t-1].opcode)?t-1:t},mE=function(e,t){return e.f.code[dE(e,t)]},hE=function(e,t,n){let r=dE(e,t),s=e.f.code[r];return s.opcode!==Be.OP_TESTSET?!1:(n!==ie.NO_REG&&n!==s.B?ie.SETARG_A(s,n):e.f.code[r]=ie.CREATE_ABC(Be.OP_TEST,s.B,0,s.C),!0)},iE=function(e,t){for(;t!==tt;t=Dl(e,t))hE(e,t,ie.NO_REG)},Hp=function(e,t,n,r,s){for(;t!==tt;){let a=Dl(e,t);hE(e,t,r)?lg(e,t,n):lg(e,t,s),t=a}},l4=function(e){Hp(e,e.jpc,e.pc,ie.NO_REG,e.pc),e.jpc=tt},Gc=function(e,t){zp(e),e.jpc=Ja(e,e.jpc,t)},yE=function(e,t,n){n===e.pc?Gc(e,t):(ht(n<e.pc),Hp(e,t,n,ie.NO_REG,n))},u4=function(e,t,n){for(n++;t!==tt;t=Dl(e,t)){let r=e.f.code[t];ht(r.opcode===Be.OP_JMP&&(r.A===0||r.A>=n)),ie.SETARG_A(r,n)}},Wp=function(e,t){let n=e.f;return l4(e),n.code[e.pc]=t,n.lineinfo[e.pc]=e.ls.lastline,e.pc++},an=function(e,t,n,r,s){return ht(ie.getOpMode(t)===ie.iABC),ht(ie.getBMode(t)!==ie.OpArgN||r===0),ht(ie.getCMode(t)!==ie.OpArgN||s===0),ht(n<=ie.MAXARG_A&&r<=ie.MAXARG_B&&s<=ie.MAXARG_C),Wp(e,ie.CREATE_ABC(t,n,r,s))},Xp=function(e,t,n,r){return ht(ie.getOpMode(t)===ie.iABx||ie.getOpMode(t)===ie.iAsBx),ht(ie.getCMode(t)===ie.OpArgN),ht(n<=ie.MAXARG_A&&r<=ie.MAXARG_Bx),Wp(e,ie.CREATE_ABx(t,n,r))},gE=function(e,t,n,r){return Xp(e,t,n,r+ie.MAXARG_sBx)},_E=function(e,t){return ht(t<=ie.MAXARG_Ax),Wp(e,ie.CREATE_Ax(Be.OP_EXTRAARG,t))},Vp=function(e,t,n){if(n<=ie.MAXARG_Bx)return Xp(e,Be.OP_LOADK,t,n);{let r=Xp(e,Be.OP_LOADKX,t,0);return _E(e,n),r}},bE=function(e,t){let n=e.freereg+t;n>e.f.maxstacksize&&(n>=a4&&pg.luaX_syntaxerror(e.ls,fg("function or expression needs too many registers",!0)),e.f.maxstacksize=n)},$c=function(e,t){bE(e,t),e.freereg+=t},mo=function(e,t){!ie.ISK(t)&&t>=e.nactvar&&(e.freereg--,ht(t===e.freereg))},Zs=function(e,t){t.k===ze.expkind.VNONRELOC&&mo(e,t.u.info)},xE=function(e,t,n){let r=t.k===ze.expkind.VNONRELOC?t.u.info:-1,s=n.k===ze.expkind.VNONRELOC?n.u.info:-1;r>s?(mo(e,r),mo(e,s)):(mo(e,s),mo(e,r))},jc=function(e,t,n){let r=e.f,s=sE.luaH_get(e.L,e.ls.h,t);if(s.ttisinteger()){let i=s.value;if(i<e.nk&&r.k[i].ttype()===n.ttype()&&r.k[i].value===n.value)return i}let a=e.nk;return sE.luaH_setfrom(e.L,e.ls.h,t,new dg.TValue(cg,a)),r.k[a]=n,e.nk++,a},c4=function(e,t){let n=new gs(n4,t);return jc(e,n,n)},mg=function(e,t){let n=new gs(t4,t),r=new gs(cg,t);return jc(e,n,r)},hg=function(e,t){let n=new gs(fE,t);return jc(e,n,n)},oE=function(e,t){let n=new gs(e4,t);return jc(e,n,n)},f4=function(e){let t=new gs(r4,null),n=new gs(s4,e.ls.h);return jc(e,n,t)},kE=function(e,t,n){let r=ze.expkind;if(t.k===r.VCALL)ie.SETARG_C(Js(e,t),n+1);else if(t.k===r.VVARARG){let s=Js(e,t);ie.SETARG_B(s,n+1),ie.SETARG_A(s,e.freereg),$c(e,1)}else ht(n===ug)},p4=function(e,t){kE(e,t,ug)},AE=function(e,t){let n=ze.expkind;t.k===n.VCALL?(ht(Js(e,t).C===2),t.k=n.VNONRELOC,t.u.info=Js(e,t).A):t.k===n.VVARARG&&(ie.SETARG_B(Js(e,t),2),t.k=n.VRELOCABLE)},_s=function(e,t){let n=ze.expkind;switch(t.k){case n.VLOCAL:{t.k=n.VNONRELOC;break}case n.VUPVAL:{t.u.info=an(e,Be.OP_GETUPVAL,0,t.u.info,0),t.k=n.VRELOCABLE;break}case n.VINDEXED:{let r;mo(e,t.u.ind.idx),t.u.ind.vt===n.VLOCAL?(mo(e,t.u.ind.t),r=Be.OP_GETTABLE):(ht(t.u.ind.vt===n.VUPVAL),r=Be.OP_GETTABUP),t.u.info=an(e,r,0,t.u.ind.t,t.u.ind.idx),t.k=n.VRELOCABLE;break}case n.VVARARG:case n.VCALL:{AE(e,t);break}default:break}},lE=function(e,t,n,r){return zp(e),an(e,Be.OP_LOADBOOL,t,n,r)},wE=function(e,t,n){let r=ze.expkind;switch(_s(e,t),t.k){case r.VNIL:{pE(e,n,1);break}case r.VFALSE:case r.VTRUE:{an(e,Be.OP_LOADBOOL,n,t.k===r.VTRUE,0);break}case r.VK:{Vp(e,n,t.u.info);break}case r.VKFLT:{Vp(e,n,hg(e,t.u.nval));break}case r.VKINT:{Vp(e,n,mg(e,t.u.ival));break}case r.VRELOCABLE:{let s=Js(e,t);ie.SETARG_A(s,n);break}case r.VNONRELOC:{n!==t.u.info&&an(e,Be.OP_MOVE,n,t.u.info,0);break}default:{ht(t.k===r.VJMP);return}}t.u.info=n,t.k=r.VNONRELOC},EE=function(e,t){t.k!==ze.expkind.VNONRELOC&&($c(e,1),wE(e,t,e.freereg-1))},uE=function(e,t){for(;t!==tt;t=Dl(e,t))if(mE(e,t).opcode!==Be.OP_TESTSET)return!0;return!1},yg=function(e,t,n){let r=ze.expkind;if(wE(e,t,n),t.k===r.VJMP&&(t.t=Ja(e,t.t,t.u.info)),Pl(t)){let s,a=tt,i=tt;if(uE(e,t.t)||uE(e,t.f)){let o=t.k===r.VJMP?tt:Lp(e);a=lE(e,n,0,1),i=lE(e,n,1,0),Gc(e,o)}s=zp(e),Hp(e,t.f,s,n,a),Hp(e,t.t,s,n,i)}t.f=t.t=tt,t.u.info=n,t.k=r.VNONRELOC},Yp=function(e,t){_s(e,t),Zs(e,t),$c(e,1),yg(e,t,e.freereg-1)},ho=function(e,t){if(_s(e,t),t.k===ze.expkind.VNONRELOC){if(!Pl(t))return t.u.info;if(t.u.info>=e.nactvar)return yg(e,t,t.u.info),t.u.info}return Yp(e,t),t.u.info},d4=function(e,t){(t.k!==ze.expkind.VUPVAL||Pl(t))&&ho(e,t)},gg=function(e,t){Pl(t)?ho(e,t):_s(e,t)},ea=function(e,t){let n=ze.expkind,r=!1;switch(gg(e,t),t.k){case n.VTRUE:t.u.info=oE(e,!0),r=!0;break;case n.VFALSE:t.u.info=oE(e,!1),r=!0;break;case n.VNIL:t.u.info=f4(e),r=!0;break;case n.VKINT:t.u.info=mg(e,t.u.ival),r=!0;break;case n.VKFLT:t.u.info=hg(e,t.u.nval),r=!0;break;case n.VK:r=!0;break;default:break}return r&&(t.k=n.VK,t.u.info<=ie.MAXINDEXRK)?ie.RKASK(t.u.info):ho(e,t)},m4=function(e,t,n){let r=ze.expkind;switch(t.k){case r.VLOCAL:{Zs(e,n),yg(e,n,t.u.info);return}case r.VUPVAL:{let s=ho(e,n);an(e,Be.OP_SETUPVAL,s,t.u.info,0);break}case r.VINDEXED:{let s=t.u.ind.vt===r.VLOCAL?Be.OP_SETTABLE:Be.OP_SETTABUP,a=ea(e,n);an(e,s,t.u.ind.t,t.u.ind.idx,a);break}}Zs(e,n)},h4=function(e,t,n){ho(e,t);let r=t.u.info;Zs(e,t),t.u.info=e.freereg,t.k=ze.expkind.VNONRELOC,$c(e,2),an(e,Be.OP_SELF,t.u.info,r,ea(e,n)),Zs(e,n)},OE=function(e,t){let n=mE(e,t.u.info);ht(ie.testTMode(n.opcode)&&n.opcode!==Be.OP_TESTSET&&n.opcode!==Be.OP_TEST),ie.SETARG_A(n,!n.A)},vE=function(e,t,n){if(t.k===ze.expkind.VRELOCABLE){let r=Js(e,t);if(r.opcode===Be.OP_NOT)return e.pc--,Fc(e,Be.OP_TEST,r.B,0,!n)}return EE(e,t),Zs(e,t),Fc(e,Be.OP_TESTSET,ie.NO_REG,t.u.info,n)},SE=function(e,t){let n=ze.expkind,r;switch(_s(e,t),t.k){case n.VJMP:{OE(e,t),r=t.u.info;break}case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:{r=tt;break}default:{r=vE(e,t,0);break}}t.f=Ja(e,t.f,r),Gc(e,t.t),t.t=tt},TE=function(e,t){let n=ze.expkind,r;switch(_s(e,t),t.k){case n.VJMP:{r=t.u.info;break}case n.VNIL:case n.VFALSE:{r=tt;break}default:{r=vE(e,t,1);break}}t.t=Ja(e,t.t,r),Gc(e,t.f),t.f=tt},y4=function(e,t){let n=ze.expkind;switch(_s(e,t),t.k){case n.VNIL:case n.VFALSE:{t.k=n.VTRUE;break}case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:{t.k=n.VFALSE;break}case n.VJMP:{OE(e,t);break}case n.VRELOCABLE:case n.VNONRELOC:{EE(e,t),Zs(e,t),t.u.info=an(e,Be.OP_NOT,0,t.u.info,0),t.k=n.VRELOCABLE;break}}{let r=t.f;t.f=t.t,t.t=r}iE(e,t.f),iE(e,t.t)},g4=function(e,t,n){let r=ze.expkind;ht(!Pl(t)&&(ze.vkisinreg(t.k)||t.k===r.VUPVAL)),t.u.ind.t=t.u.info,t.u.ind.idx=ea(e,n),t.u.ind.vt=t.k===r.VUPVAL?r.VUPVAL:r.VLOCAL,t.k=r.VINDEXED},_4=function(e,t,n){switch(e){case Vj:case Xj:case Lj:case Qj:case Jj:case Hj:return aE.tointeger(t)!==!1&&aE.tointeger(n)!==!1;case zj:case Wj:case Yj:return n.value!==0;default:return 1}},RE=function(e,t,n){let r=ze.expkind,s,a;if(!(s=og(t,!0))||!(a=og(n,!0))||!_4(e,s,a))return 0;let i=new gs;if(dg.luaO_arith(null,e,s,a,i),i.ttisinteger())t.k=r.VKINT,t.u.ival=i.value;else{let o=i.value;if(isNaN(o)||o===0)return!1;t.k=r.VKFLT,t.u.nval=o}return!0},b4=function(e,t,n,r){let s=ho(e,n);Zs(e,n),n.u.info=an(e,t,0,s,0),n.k=ze.expkind.VRELOCABLE,_g(e,r)},cE=function(e,t,n,r,s){let a=ea(e,r),i=ea(e,n);xE(e,n,r),n.u.info=an(e,t,0,i,a),n.k=ze.expkind.VRELOCABLE,_g(e,s)},x4=function(e,t,n,r){let s=ze.expkind,a;n.k===s.VK?a=ie.RKASK(n.u.info):(ht(n.k===s.VNONRELOC),a=n.u.info);let i=ea(e,r);switch(xE(e,n,r),t){case xe.OPR_NE:{n.u.info=Fc(e,Be.OP_EQ,0,a,i);break}case xe.OPR_GT:case xe.OPR_GE:{let o=t-xe.OPR_NE+Be.OP_EQ;n.u.info=Fc(e,o,1,i,a);break}default:{let o=t-xe.OPR_EQ+Be.OP_EQ;n.u.info=Fc(e,o,1,a,i);break}}n.k=s.VJMP},k4=function(e,t,n,r){let s=new ze.expdesc;switch(s.k=ze.expkind.VKINT,s.u.ival=s.u.nval=s.u.info=0,s.t=tt,s.f=tt,t){case Pc.OPR_MINUS:case Pc.OPR_BNOT:if(RE(t+Zj,n,s))break;case Pc.OPR_LEN:b4(e,t+Be.OP_UNM,n,r);break;case Pc.OPR_NOT:y4(e,n);break}},A4=function(e,t,n){switch(t){case xe.OPR_AND:{SE(e,n);break}case xe.OPR_OR:{TE(e,n);break}case xe.OPR_CONCAT:{Yp(e,n);break}case xe.OPR_ADD:case xe.OPR_SUB:case xe.OPR_MUL:case xe.OPR_DIV:case xe.OPR_IDIV:case xe.OPR_MOD:case xe.OPR_POW:case xe.OPR_BAND:case xe.OPR_BOR:case xe.OPR_BXOR:case xe.OPR_SHL:case xe.OPR_SHR:{og(n,!1)||ea(e,n);break}default:{ea(e,n);break}}},w4=function(e,t,n,r,s){let a=ze.expkind;switch(t){case xe.OPR_AND:{ht(n.t===tt),_s(e,r),r.f=Ja(e,r.f,n.f),n.to(r);break}case xe.OPR_OR:{ht(n.f===tt),_s(e,r),r.t=Ja(e,r.t,n.t),n.to(r);break}case xe.OPR_CONCAT:{gg(e,r);let i=Js(e,r);r.k===a.VRELOCABLE&&i.opcode===Be.OP_CONCAT?(ht(n.u.info===i.B-1),Zs(e,n),ie.SETARG_B(i,n.u.info),n.k=a.VRELOCABLE,n.u.info=r.u.info):(Yp(e,r),cE(e,Be.OP_CONCAT,n,r,s));break}case xe.OPR_ADD:case xe.OPR_SUB:case xe.OPR_MUL:case xe.OPR_DIV:case xe.OPR_IDIV:case xe.OPR_MOD:case xe.OPR_POW:case xe.OPR_BAND:case xe.OPR_BOR:case xe.OPR_BXOR:case xe.OPR_SHL:case xe.OPR_SHR:{RE(t+qj,n,r)||cE(e,t+Be.OP_ADD,n,r,s);break}case xe.OPR_EQ:case xe.OPR_LT:case xe.OPR_LE:case xe.OPR_NE:case xe.OPR_GT:case xe.OPR_GE:{x4(e,t,n,r);break}}return n},_g=function(e,t){e.f.lineinfo[e.pc-1]=t},E4=function(e,t,n,r){let s=(n-1)/ie.LFIELDS_PER_FLUSH+1,a=r===ug?0:r;ht(r!==0&&r<=ie.LFIELDS_PER_FLUSH),s<=ie.MAXARG_C?an(e,Be.OP_SETLIST,t,a,s):s<=ie.MAXARG_Ax?(an(e,Be.OP_SETLIST,t,a,0),_E(e,s)):pg.luaX_syntaxerror(e.ls,fg("constructor too long",!0)),e.freereg=t+1};_e.exports.BinOpr=xe;_e.exports.NO_JUMP=tt;_e.exports.UnOpr=Pc;_e.exports.getinstruction=Js;_e.exports.luaK_checkstack=bE;_e.exports.luaK_code=Wp;_e.exports.luaK_codeABC=an;_e.exports.luaK_codeABx=Xp;_e.exports.luaK_codeAsBx=gE;_e.exports.luaK_codek=Vp;_e.exports.luaK_concat=Ja;_e.exports.luaK_dischargevars=_s;_e.exports.luaK_exp2RK=ea;_e.exports.luaK_exp2anyreg=ho;_e.exports.luaK_exp2anyregup=d4;_e.exports.luaK_exp2nextreg=Yp;_e.exports.luaK_exp2val=gg;_e.exports.luaK_fixline=_g;_e.exports.luaK_getlabel=zp;_e.exports.luaK_goiffalse=TE;_e.exports.luaK_goiftrue=SE;_e.exports.luaK_indexed=g4;_e.exports.luaK_infix=A4;_e.exports.luaK_intK=mg;_e.exports.luaK_jump=Lp;_e.exports.luaK_jumpto=i4;_e.exports.luaK_nil=pE;_e.exports.luaK_numberK=hg;_e.exports.luaK_patchclose=u4;_e.exports.luaK_patchlist=yE;_e.exports.luaK_patchtohere=Gc;_e.exports.luaK_posfix=w4;_e.exports.luaK_prefix=k4;_e.exports.luaK_reserveregs=$c;_e.exports.luaK_ret=o4;_e.exports.luaK_self=h4;_e.exports.luaK_setlist=E4;_e.exports.luaK_setmultret=p4;_e.exports.luaK_setoneret=AE;_e.exports.luaK_setreturns=kE;_e.exports.luaK_storevar=m4;_e.exports.luaK_stringK=c4});var bg=T((toe,Vl)=>{"use strict";var{LUA_MULTRET:Bg,to_luastring:bt}=Rt(),{BinOpr:{OPR_ADD:O4,OPR_AND:v4,OPR_BAND:S4,OPR_BOR:T4,OPR_BXOR:R4,OPR_CONCAT:N4,OPR_DIV:I4,OPR_EQ:C4,OPR_GE:B4,OPR_GT:M4,OPR_IDIV:U4,OPR_LE:D4,OPR_LT:P4,OPR_MOD:F4,OPR_MUL:G4,OPR_NE:$4,OPR_NOBINOPR:FE,OPR_OR:j4,OPR_POW:K4,OPR_SHL:q4,OPR_SHR:V4,OPR_SUB:H4},UnOpr:{OPR_BNOT:X4,OPR_LEN:L4,OPR_MINUS:z4,OPR_NOT:W4,OPR_NOUNOPR:GE},NO_JUMP:Fl,getinstruction:Ag,luaK_checkstack:Y4,luaK_codeABC:jl,luaK_codeABx:Q4,luaK_codeAsBx:xg,luaK_codek:J4,luaK_concat:Z4,luaK_dischargevars:eK,luaK_exp2RK:IE,luaK_exp2anyreg:tK,luaK_exp2anyregup:$E,luaK_exp2nextreg:xs,luaK_exp2val:nK,luaK_fixline:Qp,luaK_getlabel:Mg,luaK_goiffalse:rK,luaK_goiftrue:jE,luaK_indexed:Ug,luaK_infix:sK,luaK_intK:aK,luaK_jump:Kc,luaK_jumpto:iK,luaK_nil:oK,luaK_patchclose:td,luaK_patchlist:Dg,luaK_patchtohere:qc,luaK_posfix:lK,luaK_prefix:uK,luaK_reserveregs:Gl,luaK_ret:KE,luaK_self:cK,luaK_setlist:wg,luaK_setmultret:Pg,luaK_setoneret:fK,luaK_setreturns:pK,luaK_storevar:Eg,luaK_stringK:dK}=NE(),CE=Vr(),Fg=co(),he=qp(),{LUAI_MAXCCALLS:qE,MAX_INT:VE,lua_assert:Xn}=Vn(),bs=ar(),{OpCodesI:{OP_CALL:mK,OP_CLOSURE:hK,OP_FORLOOP:yK,OP_FORPREP:gK,OP_GETUPVAL:_K,OP_MOVE:bK,OP_NEWTABLE:xK,OP_SETTABLE:kK,OP_TAILCALL:AK,OP_TFORCALL:wK,OP_TFORLOOP:EK,OP_VARARG:OK},LFIELDS_PER_FLUSH:vK,SETARG_B:SK,SETARG_C:HE,SET_OPCODE:TK}=io(),{luaS_eqlngstr:RK,luaS_new:NK,luaS_newliteral:XE}=fs(),IK=ps(),LE=Fg.Proto,K=he.RESERVED,CK=200,nd=function(e){return e===de.VCALL||e===de.VVARARG},Kl=function(e,t){return RK(e,t)},Hr=class{constructor(){this.previous=null,this.firstlabel=NaN,this.firstgoto=NaN,this.nactvar=NaN,this.upval=NaN,this.isloop=NaN}},de={VVOID:0,VNIL:1,VTRUE:2,VFALSE:3,VK:4,VKFLT:5,VKINT:6,VNONRELOC:7,VLOCAL:8,VUPVAL:9,VINDEXED:10,VJMP:11,VRELOCABLE:12,VCALL:13,VVARARG:14},BK=function(e){return de.VLOCAL<=e&&e<=de.VINDEXED},MK=function(e){return e===de.VNONRELOC||e===de.VLOCAL},it=class{constructor(){this.k=NaN,this.u={ival:NaN,nval:NaN,info:NaN,ind:{idx:NaN,t:NaN,vt:NaN}},this.t=NaN,this.f=NaN}to(t){this.k=t.k,this.u=t.u,this.t=t.t,this.f=t.f}},Jp=class{constructor(){this.f=null,this.prev=null,this.ls=null,this.bl=null,this.pc=NaN,this.lasttarget=NaN,this.jpc=NaN,this.nk=NaN,this.np=NaN,this.firstlocal=NaN,this.nlocvars=NaN,this.nactvar=NaN,this.nups=NaN,this.freereg=NaN}},Og=class{constructor(){this.idx=NaN}},vg=class{constructor(){this.name=null,this.pc=NaN,this.line=NaN,this.nactvar=NaN}},Zp=class{constructor(){this.arr=[],this.n=NaN,this.size=NaN}},Sg=class{constructor(){this.actvar={arr:[],n:NaN,size:NaN},this.gt=new Zp,this.label=new Zp}},Gg=function(e,t){e.t.token=0,he.luaX_syntaxerror(e,t)},zE=function(e,t){he.luaX_syntaxerror(e,bs.luaO_pushfstring(e.L,bt("%s expected",!0),he.luaX_token2str(e,t)))},UK=function(e,t,n){let r=e.ls.L,s=e.f.linedefined,a=s===0?bt("main function",!0):bs.luaO_pushfstring(r,bt("function at line %d",!0),s),i=bs.luaO_pushfstring(r,bt("too many %s (limit is %d) in %s",!0),n,t,a);he.luaX_syntaxerror(e.ls,i)},ql=function(e,t,n,r){t>n&&UK(e,n,r)},On=function(e,t){return e.t.token===t?(he.luaX_next(e),!0):!1},$g=function(e,t){e.t.token!==t&&zE(e,t)},ur=function(e,t){$g(e,t),he.luaX_next(e)},jg=function(e,t,n){t||he.luaX_syntaxerror(e,n)},sa=function(e,t,n,r){On(e,t)||(r===e.linenumber?zE(e,t):he.luaX_syntaxerror(e,bs.luaO_pushfstring(e.L,bt("%s expected (to close %s at line %d)"),he.luaX_token2str(e,t),he.luaX_token2str(e,n),r)))},aa=function(e){$g(e,K.TK_NAME);let t=e.t.seminfo.ts;return he.luaX_next(e),t},cn=function(e,t,n){e.f=e.t=Fl,e.k=t,e.u.info=n},rd=function(e,t,n){cn(t,de.VK,dK(e.fs,n))},Kg=function(e,t){rd(e,t,aa(e))},DK=function(e,t){let n=e.fs,r=n.f;return r.locvars[n.nlocvars]=new bs.LocVar,r.locvars[n.nlocvars].varname=t,n.nlocvars++},go=function(e,t){let n=e.fs,r=e.dyd,s=DK(e,t);ql(n,r.actvar.n+1-n.firstlocal,CK,bt("local variables",!0)),r.actvar.arr[r.actvar.n]=new Og,r.actvar.arr[r.actvar.n].idx=s,r.actvar.n++},yo=function(e,t){go(e,he.luaX_newstring(e,bt(t,!0)))},Vc=function(e,t){let n=e.ls.dyd.actvar.arr[e.firstlocal+t].idx;return Xn(n<e.nlocvars),e.f.locvars[n]},$l=function(e,t){let n=e.fs;for(n.nactvar=n.nactvar+t;t;t--)Vc(n,n.nactvar-t).startpc=n.pc},PK=function(e,t){for(e.ls.dyd.actvar.n-=e.nactvar-t;e.nactvar>t;)Vc(e,--e.nactvar).endpc=e.pc},FK=function(e,t){let n=e.f.upvalues;for(let r=0;r<e.nups;r++)if(Kl(n[r].name,t))return r;return-1},WE=function(e,t,n){let r=e.f;return ql(e,e.nups+1,Fg.MAXUPVAL,bt("upvalues",!0)),r.upvalues[e.nups]={instack:n.k===de.VLOCAL,idx:n.u.info,name:t},e.nups++},GK=function(e,t){for(let n=e.nactvar-1;n>=0;n--)if(Kl(t,Vc(e,n).varname))return n;return-1},$K=function(e,t){let n=e.bl;for(;n.nactvar>t;)n=n.previous;n.upval=1},Tg=function(e,t,n,r){if(e===null)cn(n,de.VVOID,0);else{let s=GK(e,t);if(s>=0)cn(n,de.VLOCAL,s),r||$K(e,s);else{let a=FK(e,t);if(a<0){if(Tg(e.prev,t,n,0),n.k===de.VVOID)return;a=WE(e,t,n)}cn(n,de.VUPVAL,a)}}},YE=function(e,t){let n=aa(e),r=e.fs;if(Tg(r,n,t,1),t.k===de.VVOID){let s=new it;Tg(r,e.envn,t,1),Xn(t.k!==de.VVOID),rd(e,s,n),Ug(r,t,s)}},qg=function(e,t,n,r){let s=e.fs,a=t-n;if(nd(r.k))a++,a<0&&(a=0),pK(s,r,a),a>1&&Gl(s,a-1);else if(r.k!==de.VVOID&&xs(s,r),a>0){let i=s.freereg;Gl(s,a),oK(s,i,a)}n>t&&(e.fs.freereg-=n-t)},QE=function(e){let t=e.L;++t.nCcalls,ql(e.fs,t.nCcalls,qE,bt("JS levels",!0))},JE=function(e){return e.L.nCcalls--},ZE=function(e,t,n){let r=e.fs,s=e.dyd.gt,a=s.arr[t];if(Xn(Kl(a.name,n.name)),a.nactvar<n.nactvar){let i=Vc(r,a.nactvar).varname,o=bs.luaO_pushfstring(e.L,bt("<goto %s> at line %d jumps into the scope of local '%s'"),a.name.getstr(),a.line,i.getstr());Gg(e,o)}Dg(r,a.pc,n.pc);for(let i=t;i<s.n-1;i++)s.arr[i]=s.arr[i+1];s.n--},eO=function(e,t){let n=e.fs.bl,r=e.dyd,s=r.gt.arr[t];for(let a=n.firstlabel;a<r.label.n;a++){let i=r.label.arr[a];if(Kl(i.name,s.name))return s.nactvar>i.nactvar&&(n.upval||r.label.n>n.firstlabel)&&td(e.fs,s.pc,i.nactvar),ZE(e,t,i),!0}return!1},Vg=function(e,t,n,r,s){let a=t.n;return t.arr[a]=new vg,t.arr[a].name=n,t.arr[a].line=r,t.arr[a].nactvar=e.fs.nactvar,t.arr[a].pc=s,t.n=a+1,a},tO=function(e,t){let n=e.dyd.gt,r=e.fs.bl.firstgoto;for(;r<n.n;)Kl(n.arr[r].name,t.name)?ZE(e,r,t):r++},jK=function(e,t){let n=t.firstgoto,r=e.ls.dyd.gt;for(;n<r.n;){let s=r.arr[n];s.nactvar>t.nactvar&&(t.upval&&td(e,s.pc,t.nactvar),s.nactvar=t.nactvar),eO(e.ls,n)||n++}},ta=function(e,t,n){t.isloop=n,t.nactvar=e.nactvar,t.firstlabel=e.ls.dyd.label.n,t.firstgoto=e.ls.dyd.gt.n,t.upval=0,t.previous=e.bl,e.bl=t,Xn(e.freereg===e.nactvar)},KK=function(e){let t=XE(e.L,"break"),n=Vg(e,e.dyd.label,t,0,e.fs.pc);tO(e,e.dyd.label.arr[n])},qK=function(e,t){let n=he.isreserved(t.name)?"<%s> at line %d not inside a loop":"no visible label '%s' for <goto> at line %d";n=bs.luaO_pushfstring(e.L,bt(n),t.name.getstr(),t.line),Gg(e,n)},VK=function(e){let t=e.L,n=new LE(t),r=e.fs,s=r.f;return s.p[r.np++]=n,n},HK=function(e,t){let n=e.fs.prev;cn(t,de.VRELOCABLE,Q4(n,hK,0,n.np-1)),xs(n,t)},nO=function(e,t,n){t.prev=e.fs,t.ls=e,e.fs=t,t.pc=0,t.lasttarget=0,t.jpc=Fl,t.freereg=0,t.nk=0,t.np=0,t.nups=0,t.nlocvars=0,t.nactvar=0,t.firstlocal=e.dyd.actvar.n,t.bl=null;let r=t.f;r.source=e.source,r.maxstacksize=2,ta(t,n,!1)},na=function(e){let t=e.bl,n=e.ls;if(t.previous&&t.upval){let r=Kc(e);td(e,r,t.nactvar),qc(e,r)}t.isloop&&KK(n),e.bl=t.previous,PK(e,t.nactvar),Xn(t.nactvar===e.nactvar),e.freereg=e.nactvar,n.dyd.label.n=t.firstlabel,t.previous?jK(e,t):t.firstgoto<n.dyd.gt.n&&qK(n,n.dyd.gt.arr[t.firstgoto])},rO=function(e){let t=e.fs;KE(t,0,0),na(t),Xn(t.bl===null),e.fs=t.prev},sd=function(e,t){switch(e.t.token){case K.TK_ELSE:case K.TK_ELSEIF:case K.TK_END:case K.TK_EOS:return!0;case K.TK_UNTIL:return t;default:return!1}},Hc=function(e){for(;!sd(e,1);){if(e.t.token===K.TK_RETURN){Cg(e);return}Cg(e)}},Rg=function(e,t){let n=e.fs,r=new it;$E(n,t),he.luaX_next(e),Kg(e,r),Ug(n,t,r)},sO=function(e,t){he.luaX_next(e),ra(e,t),nK(e.fs,t),ur(e,93)},Ng=class{constructor(){this.v=new it,this.t=new it,this.nh=NaN,this.na=NaN,this.tostore=NaN}},BE=function(e,t){let n=e.fs,r=e.fs.freereg,s=new it,a=new it;e.t.token===K.TK_NAME?(ql(n,t.nh,VE,bt("items in a constructor",!0)),Kg(e,s)):sO(e,s),t.nh++,ur(e,61);let i=IE(n,s);ra(e,a),jl(n,kK,t.t.u.info,i,IE(n,a)),n.freereg=r},XK=function(e,t){t.v.k!==de.VVOID&&(xs(e,t.v),t.v.k=de.VVOID,t.tostore===vK&&(wg(e,t.t.u.info,t.na,t.tostore),t.tostore=0))},LK=function(e,t){t.tostore!==0&&(nd(t.v.k)?(Pg(e,t.v),wg(e,t.t.u.info,t.na,Bg),t.na--):(t.v.k!==de.VVOID&&xs(e,t.v),wg(e,t.t.u.info,t.na,t.tostore)))},ME=function(e,t){ra(e,t.v),ql(e.fs,t.na,VE,bt("items in a constructor",!0)),t.na++,t.tostore++},zK=function(e,t){switch(e.t.token){case K.TK_NAME:{he.luaX_lookahead(e)!==61?ME(e,t):BE(e,t);break}case 91:{BE(e,t);break}default:{ME(e,t);break}}},aO=function(e,t){let n=e.fs,r=e.linenumber,s=jl(n,xK,0,0,0),a=new Ng;a.na=a.nh=a.tostore=0,a.t=t,cn(t,de.VRELOCABLE,s),cn(a.v,de.VVOID,0),xs(e.fs,t),ur(e,123);do{if(Xn(a.v.k===de.VVOID||a.tostore>0),e.t.token===125)break;XK(n,a),zK(e,a)}while(On(e,44)||On(e,59));sa(e,125,123,r),LK(n,a),SK(n.f.code[s],bs.luaO_int2fb(a.na)),HE(n.f.code[s],bs.luaO_int2fb(a.nh))},WK=function(e){let t=e.fs,n=t.f,r=0;if(n.is_vararg=!1,e.t.token!==41)do switch(e.t.token){case K.TK_NAME:{go(e,aa(e)),r++;break}case K.TK_DOTS:{he.luaX_next(e),n.is_vararg=!0;break}default:he.luaX_syntaxerror(e,bt("<name> or '...' expected",!0))}while(!n.is_vararg&&On(e,44));$l(e,r),n.numparams=t.nactvar,Gl(t,t.nactvar)},Hg=function(e,t,n,r){let s=new Jp,a=new Hr;s.f=VK(e),s.f.linedefined=r,nO(e,s,a),ur(e,40),n&&(yo(e,"self"),$l(e,1)),WK(e),ur(e,41),Hc(e),s.f.lastlinedefined=e.linenumber,sa(e,K.TK_END,K.TK_FUNCTION,r),HK(e,t),rO(e)},Xc=function(e,t){let n=1;for(ra(e,t);On(e,44);)xs(e.fs,t),ra(e,t),n++;return n},UE=function(e,t,n){let r=e.fs,s=new it;switch(e.t.token){case 40:{he.luaX_next(e),e.t.token===41?s.k=de.VVOID:(Xc(e,s),Pg(r,s)),sa(e,41,40,n);break}case 123:{aO(e,s);break}case K.TK_STRING:{rd(e,s,e.t.seminfo.ts),he.luaX_next(e);break}default:he.luaX_syntaxerror(e,bt("function arguments expected",!0))}Xn(t.k===de.VNONRELOC);let a,i=t.u.info;nd(s.k)?a=Bg:(s.k!==de.VVOID&&xs(r,s),a=r.freereg-(i+1)),cn(t,de.VCALL,jl(r,mK,i,a+1,2)),Qp(r,n),r.freereg=i+1},YK=function(e,t){switch(e.t.token){case 40:{let n=e.linenumber;he.luaX_next(e),ra(e,t),sa(e,41,40,n),eK(e.fs,t);return}case K.TK_NAME:{YE(e,t);return}default:he.luaX_syntaxerror(e,bt("unexpected symbol",!0))}},Xg=function(e,t){let n=e.fs,r=e.linenumber;for(YK(e,t);;)switch(e.t.token){case 46:{Rg(e,t);break}case 91:{let s=new it;$E(n,t),sO(e,s),Ug(n,t,s);break}case 58:{let s=new it;he.luaX_next(e),Kg(e,s),cK(n,t,s),UE(e,t,r);break}case 40:case K.TK_STRING:case 123:{xs(n,t),UE(e,t,r);break}default:return}},QK=function(e,t){switch(e.t.token){case K.TK_FLT:{cn(t,de.VKFLT,0),t.u.nval=e.t.seminfo.r;break}case K.TK_INT:{cn(t,de.VKINT,0),t.u.ival=e.t.seminfo.i;break}case K.TK_STRING:{rd(e,t,e.t.seminfo.ts);break}case K.TK_NIL:{cn(t,de.VNIL,0);break}case K.TK_TRUE:{cn(t,de.VTRUE,0);break}case K.TK_FALSE:{cn(t,de.VFALSE,0);break}case K.TK_DOTS:{let n=e.fs;jg(e,n.f.is_vararg,bt("cannot use '...' outside a vararg function",!0)),cn(t,de.VVARARG,jl(n,OK,0,1,0));break}case 123:{aO(e,t);return}case K.TK_FUNCTION:{he.luaX_next(e),Hg(e,t,0,e.linenumber);return}default:{Xg(e,t);return}}he.luaX_next(e)},JK=function(e){switch(e){case K.TK_NOT:return W4;case 45:return z4;case 126:return X4;case 35:return L4;default:return GE}},ZK=function(e){switch(e){case 43:return O4;case 45:return H4;case 42:return G4;case 37:return F4;case 94:return K4;case 47:return I4;case K.TK_IDIV:return U4;case 38:return S4;case 124:return T4;case 126:return R4;case K.TK_SHL:return q4;case K.TK_SHR:return V4;case K.TK_CONCAT:return N4;case K.TK_NE:return $4;case K.TK_EQ:return C4;case 60:return P4;case K.TK_LE:return D4;case 62:return M4;case K.TK_GE:return B4;case K.TK_AND:return v4;case K.TK_OR:return j4;default:return FE}},DE=[{left:10,right:10},{left:10,right:10},{left:11,right:11},{left:11,right:11},{left:14,right:13},{left:11,right:11},{left:11,right:11},{left:6,right:6},{left:4,right:4},{left:5,right:5},{left:7,right:7},{left:7,right:7},{left:9,right:8},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:2,right:2},{left:1,right:1}],eq=12,Ig=function(e,t,n){QE(e);let r=JK(e.t.token);if(r!==GE){let a=e.linenumber;he.luaX_next(e),Ig(e,t,eq),uK(e.fs,r,t,a)}else QK(e,t);let s=ZK(e.t.token);for(;s!==FE&&DE[s].left>n;){let a=new it,i=e.linenumber;he.luaX_next(e),sK(e.fs,s,t);let o=Ig(e,a,DE[s].right);lK(e.fs,s,t,a,i),s=o}return JE(e),s},ra=function(e,t){Ig(e,t,0)},ad=function(e){let t=e.fs,n=new Hr;ta(t,n,0),Hc(e),na(t)},ed=class{constructor(){this.prev=null,this.v=new it}},tq=function(e,t,n){let r=e.fs,s=r.freereg,a=!1;for(;t;t=t.prev)t.v.k===de.VINDEXED&&(t.v.u.ind.vt===n.k&&t.v.u.ind.t===n.u.info&&(a=!0,t.v.u.ind.vt=de.VLOCAL,t.v.u.ind.t=s),n.k===de.VLOCAL&&t.v.u.ind.idx===n.u.info&&(a=!0,t.v.u.ind.idx=s));if(a){let i=n.k===de.VLOCAL?bK:_K;jl(r,i,s,n.u.info,0),Gl(r,1)}},iO=function(e,t,n){let r=new it;if(jg(e,BK(t.v.k),bt("syntax error",!0)),On(e,44)){let s=new ed;s.prev=t,Xg(e,s.v),s.v.k!==de.VINDEXED&&tq(e,t,s.v),ql(e.fs,n+e.L.nCcalls,qE,bt("JS levels",!0)),iO(e,s,n+1)}else{ur(e,61);let s=Xc(e,r);if(s!==n)qg(e,n,s,r);else{fK(e.fs,r),Eg(e.fs,t.v,r);return}}cn(r,de.VNONRELOC,e.fs.freereg-1),Eg(e.fs,t.v,r)},oO=function(e){let t=new it;return ra(e,t),t.k===de.VNIL&&(t.k=de.VFALSE),jE(e.fs,t),t.f},lO=function(e,t){let n=e.linenumber,r;On(e,K.TK_GOTO)?r=aa(e):(he.luaX_next(e),r=XE(e.L,"break"));let s=Vg(e,e.dyd.gt,r,n,t);eO(e,s)},nq=function(e,t,n){for(let r=e.bl.firstlabel;r<t.n;r++)if(Kl(n,t.arr[r].name)){let s=bs.luaO_pushfstring(e.ls.L,bt("label '%s' already defined on line %d",!0),n.getstr(),t.arr[r].line);Gg(e.ls,s)}},rq=function(e){for(;e.t.token===59||e.t.token===K.TK_DBCOLON;)Cg(e)},sq=function(e,t,n){let r=e.fs,s=e.dyd.label,a;nq(r,s,t),ur(e,K.TK_DBCOLON),a=Vg(e,s,t,n,Mg(r)),rq(e),sd(e,0)&&(s.arr[a].nactvar=r.bl.nactvar),tO(e,s.arr[a])},aq=function(e,t){let n=e.fs,r=new Hr;he.luaX_next(e);let s=Mg(n),a=oO(e);ta(n,r,1),ur(e,K.TK_DO),ad(e),iK(n,s),sa(e,K.TK_END,K.TK_WHILE,t),na(n),qc(n,a)},iq=function(e,t){let n=e.fs,r=Mg(n),s=new Hr,a=new Hr;ta(n,s,1),ta(n,a,0),he.luaX_next(e),Hc(e),sa(e,K.TK_UNTIL,K.TK_REPEAT,t);let i=oO(e);a.upval&&td(n,i,a.nactvar),na(n),Dg(n,i,r),na(n)},kg=function(e){let t=new it;return ra(e,t),xs(e.fs,t),Xn(t.k===de.VNONRELOC),t.u.info},uO=function(e,t,n,r,s){let a=new Hr,i=e.fs,o;$l(e,3),ur(e,K.TK_DO);let l=s?xg(i,gK,t,Fl):Kc(i);ta(i,a,0),$l(e,r),Gl(i,r),ad(e),na(i),qc(i,l),s?o=xg(i,yK,t,Fl):(jl(i,wK,t,0,r),Qp(i,n),o=xg(i,EK,t+2,Fl)),Dg(i,o,l+1),Qp(i,n)},oq=function(e,t,n){let r=e.fs,s=r.freereg;yo(e,"(for index)"),yo(e,"(for limit)"),yo(e,"(for step)"),go(e,t),ur(e,61),kg(e),ur(e,44),kg(e),On(e,44)?kg(e):(J4(r,r.freereg,aK(r,1)),Gl(r,1)),uO(e,s,n,1,1)},lq=function(e,t){let n=e.fs,r=new it,s=4,a=n.freereg;for(yo(e,"(for generator)"),yo(e,"(for state)"),yo(e,"(for control)"),go(e,t);On(e,44);)go(e,aa(e)),s++;ur(e,K.TK_IN);let i=e.linenumber;qg(e,3,Xc(e,r),r),Y4(n,3),uO(e,a,i,s-3,0)},uq=function(e,t){let n=e.fs,r=new Hr;ta(n,r,1),he.luaX_next(e);let s=aa(e);switch(e.t.token){case 61:oq(e,s,t);break;case 44:case K.TK_IN:lq(e,s);break;default:he.luaX_syntaxerror(e,bt("'=' or 'in' expected",!0))}sa(e,K.TK_END,K.TK_FOR,t),na(n)},PE=function(e,t){let n=new Hr,r=e.fs,s=new it,a;if(he.luaX_next(e),ra(e,s),ur(e,K.TK_THEN),e.t.token===K.TK_GOTO||e.t.token===K.TK_BREAK){for(rK(e.fs,s),ta(r,n,!1),lO(e,s.t);On(e,59););if(sd(e,0))return na(r),t;a=Kc(r)}else jE(e.fs,s),ta(r,n,!1),a=s.f;return Hc(e),na(r),(e.t.token===K.TK_ELSE||e.t.token===K.TK_ELSEIF)&&(t=Z4(r,t,Kc(r))),qc(r,a),t},cq=function(e,t){let n=e.fs,r=Fl;for(r=PE(e,r);e.t.token===K.TK_ELSEIF;)r=PE(e,r);On(e,K.TK_ELSE)&&ad(e),sa(e,K.TK_END,K.TK_IF,t),qc(n,r)},fq=function(e){let t=new it,n=e.fs;go(e,aa(e)),$l(e,1),Hg(e,t,0,e.linenumber),Vc(n,t.u.info).startpc=n.pc},pq=function(e){let t=0,n,r=new it;do go(e,aa(e)),t++;while(On(e,44));On(e,61)?n=Xc(e,r):(r.k=de.VVOID,n=0),qg(e,t,n,r),$l(e,t)},dq=function(e,t){let n=0;for(YE(e,t);e.t.token===46;)Rg(e,t);return e.t.token===58&&(n=1,Rg(e,t)),n},mq=function(e,t){let n=new it,r=new it;he.luaX_next(e);let s=dq(e,n);Hg(e,r,s,t),Eg(e.fs,n,r),Qp(e.fs,t)},hq=function(e){let t=e.fs,n=new ed;Xg(e,n.v),e.t.token===61||e.t.token===44?(n.prev=null,iO(e,n,1)):(jg(e,n.v.k===de.VCALL,bt("syntax error",!0)),HE(Ag(t,n.v),1))},yq=function(e){let t=e.fs,n=new it,r,s;sd(e,1)||e.t.token===59?r=s=0:(s=Xc(e,n),nd(n.k)?(Pg(t,n),n.k===de.VCALL&&s===1&&(TK(Ag(t,n),AK),Xn(Ag(t,n).A===t.nactvar)),r=t.nactvar,s=Bg):s===1?r=tK(t,n):(xs(t,n),r=t.nactvar,Xn(s===t.freereg-r))),KE(t,r,s),On(e,59)},Cg=function(e){let t=e.linenumber;switch(QE(e),e.t.token){case 59:{he.luaX_next(e);break}case K.TK_IF:{cq(e,t);break}case K.TK_WHILE:{aq(e,t);break}case K.TK_DO:{he.luaX_next(e),ad(e),sa(e,K.TK_END,K.TK_DO,t);break}case K.TK_FOR:{uq(e,t);break}case K.TK_REPEAT:{iq(e,t);break}case K.TK_FUNCTION:{mq(e,t);break}case K.TK_LOCAL:{he.luaX_next(e),On(e,K.TK_FUNCTION)?fq(e):pq(e);break}case K.TK_DBCOLON:{he.luaX_next(e),sq(e,aa(e),t);break}case K.TK_RETURN:{he.luaX_next(e),yq(e);break}case K.TK_BREAK:case K.TK_GOTO:{lO(e,Kc(e.fs));break}default:{hq(e);break}}Xn(e.fs.f.maxstacksize>=e.fs.freereg&&e.fs.freereg>=e.fs.nactvar),e.fs.freereg=e.fs.nactvar,JE(e)},gq=function(e,t){let n=new Hr,r=new it;nO(e,t,n),t.f.is_vararg=!0,cn(r,de.VLOCAL,0),WE(t,e.envn,r),he.luaX_next(e),Hc(e),$g(e,K.TK_EOS),rO(e)},_q=function(e,t,n,r,s,a){let i=new he.LexState,o=new Jp,l=Fg.luaF_newLclosure(e,1);return CE.luaD_inctop(e),e.stack[e.top-1].setclLvalue(l),i.h=IK.luaH_new(e),CE.luaD_inctop(e),e.stack[e.top-1].sethvalue(i.h),o.f=l.p=new LE(e),o.f.source=NK(e,s),i.buff=n,i.dyd=r,r.actvar.n=r.gt.n=r.label.n=0,he.luaX_setinput(e,i,t,o.f.source,a),gq(i,o),Xn(!o.prev&&o.nups===1&&!i.fs),Xn(r.actvar.n===0&&r.gt.n===0&&r.label.n===0),delete e.stack[--e.top],l};Vl.exports.Dyndata=Sg;Vl.exports.expkind=de;Vl.exports.expdesc=it;Vl.exports.luaY_parser=_q;Vl.exports.vkisinreg=MK});var xO=T((noe,bO)=>{"use strict";var{LUA_SIGNATURE:cO,constant_types:{LUA_TBOOLEAN:fO,LUA_TLNGSTR:pO,LUA_TNIL:dO,LUA_TNUMFLT:mO,LUA_TNUMINT:hO,LUA_TSHRSTR:bq},thread_status:{LUA_ERRSYNTAX:xq},is_luastring:kq,luastring_eq:Aq,to_luastring:Lg}=Rt(),_O=Vr(),zg=co(),Hl=ar(),{MAXARG_sBx:wq,POS_A:Eq,POS_Ax:Oq,POS_B:vq,POS_Bx:yO,POS_C:Sq,POS_OP:Tq,SIZE_A:Rq,SIZE_Ax:Nq,SIZE_B:Iq,SIZE_Bx:gO,SIZE_C:Cq,SIZE_OP:Bq}=io(),{lua_assert:Wg}=Vn(),{luaS_bless:Mq}=fs(),{luaZ_read:Xl,ZIO:Uq}=Cc(),Dq=[25,147,13,10,26,10],Lc=class{constructor(t,n,r){this.intSize=4,this.size_tSize=4,this.instructionSize=4,this.integerSize=4,this.numberSize=8,Wg(n instanceof Uq,"BytecodeParser only operates on a ZIO"),Wg(kq(r)),r[0]===64||r[0]===61?this.name=r.subarray(1):r[0]==cO[0]?this.name=Lg("binary string",!0):this.name=r,this.L=t,this.Z=n,this.arraybuffer=new ArrayBuffer(Math.max(this.intSize,this.size_tSize,this.instructionSize,this.integerSize,this.numberSize)),this.dv=new DataView(this.arraybuffer),this.u8=new Uint8Array(this.arraybuffer)}read(t){let n=new Uint8Array(t);return Xl(this.Z,n,0,t)!==0&&this.error("truncated"),n}LoadByte(){return Xl(this.Z,this.u8,0,1)!==0&&this.error("truncated"),this.u8[0]}LoadInt(){return Xl(this.Z,this.u8,0,this.intSize)!==0&&this.error("truncated"),this.dv.getInt32(0,!0)}LoadNumber(){return Xl(this.Z,this.u8,0,this.numberSize)!==0&&this.error("truncated"),this.dv.getFloat64(0,!0)}LoadInteger(){return Xl(this.Z,this.u8,0,this.integerSize)!==0&&this.error("truncated"),this.dv.getInt32(0,!0)}LoadSize_t(){return this.LoadInteger()}LoadString(){let t=this.LoadByte();return t===255&&(t=this.LoadSize_t()),t===0?null:Mq(this.L,this.read(t-1))}static MASK1(t,n){return~(-1<<t)<<n}LoadCode(t){let n=this.LoadInt(),r=Lc;for(let s=0;s<n;s++){Xl(this.Z,this.u8,0,this.instructionSize)!==0&&this.error("truncated");let a=this.dv.getUint32(0,!0);t.code[s]={code:a,opcode:a>>Tq&r.MASK1(Bq,0),A:a>>Eq&r.MASK1(Rq,0),B:a>>vq&r.MASK1(Iq,0),C:a>>Sq&r.MASK1(Cq,0),Bx:a>>yO&r.MASK1(gO,0),Ax:a>>Oq&r.MASK1(Nq,0),sBx:(a>>yO&r.MASK1(gO,0))-wq}}}LoadConstants(t){let n=this.LoadInt();for(let r=0;r<n;r++){let s=this.LoadByte();switch(s){case dO:t.k.push(new Hl.TValue(dO,null));break;case fO:t.k.push(new Hl.TValue(fO,this.LoadByte()!==0));break;case mO:t.k.push(new Hl.TValue(mO,this.LoadNumber()));break;case hO:t.k.push(new Hl.TValue(hO,this.LoadInteger()));break;case bq:case pO:t.k.push(new Hl.TValue(pO,this.LoadString()));break;default:this.error(`unrecognized constant '${s}'`)}}}LoadProtos(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.p[r]=new zg.Proto(this.L),this.LoadFunction(t.p[r],t.source)}LoadUpvalues(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.upvalues[r]={name:null,instack:this.LoadByte(),idx:this.LoadByte()}}LoadDebug(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.lineinfo[r]=this.LoadInt();n=this.LoadInt();for(let r=0;r<n;r++)t.locvars[r]={varname:this.LoadString(),startpc:this.LoadInt(),endpc:this.LoadInt()};n=this.LoadInt();for(let r=0;r<n;r++)t.upvalues[r].name=this.LoadString()}LoadFunction(t,n){t.source=this.LoadString(),t.source===null&&(t.source=n),t.linedefined=this.LoadInt(),t.lastlinedefined=this.LoadInt(),t.numparams=this.LoadByte(),t.is_vararg=this.LoadByte()!==0,t.maxstacksize=this.LoadByte(),this.LoadCode(t),this.LoadConstants(t),this.LoadUpvalues(t),this.LoadProtos(t),this.LoadDebug(t)}checkliteral(t,n){let r=this.read(t.length);Aq(r,t)||this.error(n)}checkHeader(){this.checkliteral(cO.subarray(1),"not a"),this.LoadByte()!==83&&this.error("version mismatch in"),this.LoadByte()!==0&&this.error("format mismatch in"),this.checkliteral(Dq,"corrupted"),this.intSize=this.LoadByte(),this.size_tSize=this.LoadByte(),this.instructionSize=this.LoadByte(),this.integerSize=this.LoadByte(),this.numberSize=this.LoadByte(),this.checksize(this.intSize,4,"int"),this.checksize(this.size_tSize,4,"size_t"),this.checksize(this.instructionSize,4,"instruction"),this.checksize(this.integerSize,4,"integer"),this.checksize(this.numberSize,8,"number"),this.LoadInteger()!==22136&&this.error("endianness mismatch in"),this.LoadNumber()!==370.5&&this.error("float format mismatch in")}error(t){Hl.luaO_pushfstring(this.L,Lg("%s: %s precompiled chunk"),this.name,Lg(t)),_O.luaD_throw(this.L,xq)}checksize(t,n,r){t!==n&&this.error(`${r} size mismatch in`)}},Pq=function(e,t,n){let r=new Lc(e,t,n);r.checkHeader();let s=zg.luaF_newLclosure(e,r.LoadByte());return _O.luaD_inctop(e),e.stack[e.top-1].setclLvalue(s),s.p=new zg.Proto(e),r.LoadFunction(s.p,null),Wg(s.nupvalues===s.p.upvalues.length),s};bO.exports.luaU_undump=Pq});var Vr=T((roe,Ft)=>{"use strict";var{LUA_HOOKCALL:SO,LUA_HOOKRET:Fq,LUA_HOOKTAILCALL:Gq,LUA_MASKCALL:kO,LUA_MASKLINE:$q,LUA_MASKRET:AO,LUA_MINSTACK:id,LUA_MULTRET:e_,LUA_SIGNATURE:jq,constant_types:{LUA_TCCL:wO,LUA_TLCF:Kq,LUA_TLCL:qq,LUA_TNIL:zl},thread_status:{LUA_ERRMEM:Vq,LUA_ERRERR:t_,LUA_ERRRUN:n_,LUA_ERRSYNTAX:Hq,LUA_OK:ia,LUA_YIELD:oa},lua_Debug:Xq,luastring_indexOf:Lq,to_luastring:Za}=Rt(),_o=Nc(),Wc=Ws(),r_=co(),{api_check:TO,lua_assert:cr,LUAI_MAXCCALLS:zc}=Vn(),xt=ar(),zq=io(),RO=bg(),kt=zs(),{luaS_newliteral:Qg}=fs(),EO=uo(),{LUAI_MAXSTACK:ks}=Kn(),Wq=xO(),Yc=lo(),{MBuffer:Yq}=Cc(),s_=function(e,t){if(e.top<t)for(;e.top<t;)e.stack[e.top++]=new xt.TValue(zl,null);else for(;e.top>t;)delete e.stack[--e.top]},ud=function(e,t,n){let r=e.top;for(;e.top<n+1;)e.stack[e.top++]=new xt.TValue(zl,null);switch(t){case Vq:{xt.setsvalue2s(e,n,Qg(e,"not enough memory"));break}case t_:{xt.setsvalue2s(e,n,Qg(e,"error in error handling"));break}default:xt.setobjs2s(e,n,r-1)}for(;e.top>n+1;)delete e.stack[--e.top]},NO=ks+200,od=function(e,t){cr(t<=ks||t==NO),cr(e.stack_last==e.stack.length-kt.EXTRA_STACK),e.stack.length=t,e.stack_last=t-kt.EXTRA_STACK},IO=function(e,t){let n=e.stack.length;if(n>ks)Wl(e,t_);else{let r=e.top+t+kt.EXTRA_STACK,s=2*n;s>ks&&(s=ks),s<r&&(s=r),s>ks?(od(e,NO),Wc.luaG_runerror(e,Za("stack overflow",!0))):od(e,s)}},Ll=function(e,t){e.stack_last-e.top<=t&&IO(e,t)},Qq=function(e){let t=e.top;for(let n=e.ci;n!==null;n=n.previous)t<n.top&&(t=n.top);return cr(t<=e.stack_last),t+1},CO=function(e){let t=Qq(e),n=t+Math.floor(t/8)+2*kt.EXTRA_STACK;n>ks&&(n=ks),e.stack.length>ks&&kt.luaE_freeCI(e),t<=ks-kt.EXTRA_STACK&&n<e.stack.length&&od(e,n)},Jq=function(e){Ll(e,1),e.stack[e.top++]=new xt.TValue(zl,null)},cd=function(e,t,n){let r=e.stack[t];switch(r.type){case wO:case Kq:{let s=r.type===wO?r.value.f:r.value;Ll(e,id);let a=kt.luaE_extendCI(e);a.funcOff=t,a.nresults=n,a.func=r,a.top=e.top+id,cr(a.top<=e.stack_last),a.callstatus=0,e.hookmask&kO&&pd(e,SO,-1);let i=s(e);if(typeof i!="number"||i<0||(i|0)!==i)throw Error("invalid return value from JS function (expected integer)");return _o.api_checknelems(e,i),fd(e,a,e.top-i,i),!0}case qq:{let s,a=r.value.p,i=e.top-t-1,o=a.maxstacksize;if(Ll(e,o),a.is_vararg)s=t8(e,a,i);else{for(;i<a.numparams;i++)e.stack[e.top++]=new xt.TValue(zl,null);s=t+1}let l=kt.luaE_extendCI(e);return l.funcOff=t,l.nresults=n,l.func=r,l.l_base=s,l.top=s+o,s_(e,l.top),l.l_code=a.code,l.l_savedpc=0,l.callstatus=kt.CIST_LUA,e.hookmask&kO&&e8(e,l),!1}default:return Ll(e,1),n8(e,t,r),cd(e,t,n)}},fd=function(e,t,n,r){let s=t.nresults;e.hookmask&(AO|$q)&&(e.hookmask&AO&&pd(e,Fq,-1),e.oldpc=t.previous.l_savedpc);let a=t.funcOff;return e.ci=t.previous,e.ci.next=null,Zq(e,n,a,r,s)},Zq=function(e,t,n,r,s){switch(s){case 0:break;case 1:{r===0?e.stack[n].setnilvalue():xt.setobjs2s(e,n,t);break}case e_:{for(let i=0;i<r;i++)xt.setobjs2s(e,n+i,t+i);for(let i=e.top;i>=n+r;i--)delete e.stack[i];return e.top=n+r,!1}default:{let i;if(s<=r)for(i=0;i<s;i++)xt.setobjs2s(e,n+i,t+i);else{for(i=0;i<r;i++)xt.setobjs2s(e,n+i,t+i);for(;i<s;i++)n+i>=e.top?e.stack[n+i]=new xt.TValue(zl,null):e.stack[n+i].setnilvalue()}break}}let a=n+s;for(let i=e.top;i>=a;i--)delete e.stack[i];return e.top=a,!0},pd=function(e,t,n){let r=e.hook;if(r&&e.allowhook){let s=e.ci,a=e.top,i=s.top,o=new Xq;o.event=t,o.currentline=n,o.i_ci=s,Ll(e,id),s.top=e.top+id,cr(s.top<=e.stack_last),e.allowhook=0,s.callstatus|=kt.CIST_HOOKED,r(e,o),cr(!e.allowhook),e.allowhook=1,s.top=i,s_(e,a),s.callstatus&=~kt.CIST_HOOKED}},e8=function(e,t){let n=SO;t.l_savedpc++,t.previous.callstatus&kt.CIST_LUA&&t.previous.l_code[t.previous.l_savedpc-1].opcode==zq.OpCodesI.OP_TAILCALL&&(t.callstatus|=kt.CIST_TAIL,n=Gq),pd(e,n,-1),t.l_savedpc--},t8=function(e,t,n){let r=t.numparams,s=e.top-n,a=e.top,i;for(i=0;i<r&&i<n;i++)xt.pushobj2s(e,e.stack[s+i]),e.stack[s+i].setnilvalue();for(;i<r;i++)e.stack[e.top++]=new xt.TValue(zl,null);return a},n8=function(e,t,n){let r=EO.luaT_gettmbyobj(e,n,EO.TMS.TM_CALL);r.ttisfunction(r)||Wc.luaG_typeerror(e,n,Za("call",!0)),xt.pushobj2s(e,e.stack[e.top-1]);for(let s=e.top-2;s>t;s--)xt.setobjs2s(e,s,s-1);xt.setobj2s(e,t,r)},r8=function(e){e.nCcalls===zc?Wc.luaG_runerror(e,Za("JS stack overflow",!0)):e.nCcalls>=zc+(zc>>3)&&Wl(e,t_)},BO=function(e,t,n){++e.nCcalls>=zc&&r8(e),cd(e,t,n)||Yc.luaV_execute(e),e.nCcalls--},Wl=function(e,t){if(e.errorJmp)throw e.errorJmp.status=t,e.errorJmp;{let n=e.l_G;if(e.status=t,n.mainthread.errorJmp)n.mainthread.stack[n.mainthread.top++]=e.stack[e.top-1],Wl(n.mainthread,t);else{let r=n.panic;throw r&&(ud(e,t,e.top),e.ci.top<e.top&&(e.ci.top=e.top),r(e)),new Error(`Aborted ${t}`)}}},ld=function(e,t,n){let r=e.nCcalls,s={status:ia,previous:e.errorJmp};e.errorJmp=s;try{t(e,n)}catch(a){if(s.status===ia){let i=e.l_G.atnativeerror;if(i)try{if(s.status=ia,_o.lua_pushcfunction(e,i),_o.lua_pushlightuserdata(e,a),Jg(e,e.top-2,1),e.errfunc!==0){let o=e.errfunc;xt.pushobj2s(e,e.stack[e.top-1]),xt.setobjs2s(e,e.top-2,o),Jg(e,e.top-2,1)}s.status=n_}catch{s.status===ia&&(s.status=-1)}else s.status=-1}}return e.errorJmp=s.previous,e.nCcalls=r,s.status},OO=function(e,t){let n=e.ci;cr(n.c_k!==null&&e.nny===0),cr(n.callstatus&kt.CIST_YPCALL||t===oa),n.callstatus&kt.CIST_YPCALL&&(n.callstatus&=~kt.CIST_YPCALL,e.errfunc=n.c_old_errfunc),n.nresults===e_&&e.ci.top<e.top&&(e.ci.top=e.top);let r=n.c_k,s=r(e,t,n.c_ctx);_o.api_checknelems(e,s),fd(e,n,e.top-s,s)},MO=function(e,t){for(t!==null&&OO(e,t);e.ci!==e.base_ci;)e.ci.callstatus&kt.CIST_LUA?(Yc.luaV_finishOp(e),Yc.luaV_execute(e)):OO(e,oa)},s8=function(e){for(let t=e.ci;t!==null;t=t.previous)if(t.callstatus&kt.CIST_YPCALL)return t;return null},a8=function(e,t){let n=s8(e);if(n===null)return 0;let r=n.extra;return r_.luaF_close(e,r),ud(e,t,r),e.ci=n,e.allowhook=n.callstatus&kt.CIST_OAH,e.nny=0,CO(e),e.errfunc=n.c_old_errfunc,1},Yg=function(e,t,n){let r=Qg(e,t);if(n===0)xt.pushsvalue2s(e,r),TO(e,e.top<=e.ci.top,"stack overflow");else{for(let s=1;s<n;s++)delete e.stack[--e.top];xt.setsvalue2s(e,e.top-1,r)}return n_},i8=function(e,t){let n=e.top-t,r=e.ci;e.status===ia?cd(e,n-1,e_)||Yc.luaV_execute(e):(cr(e.status===oa),e.status=ia,r.funcOff=r.extra,r.func=e.stack[r.funcOff],r.callstatus&kt.CIST_LUA?Yc.luaV_execute(e):(r.c_k!==null&&(t=r.c_k(e,oa,r.c_ctx),_o.api_checknelems(e,t),n=e.top-t),fd(e,r,n,t)),MO(e,null))},o8=function(e,t,n){let r=e.nny;if(e.status===ia){if(e.ci!==e.base_ci)return Yg(e,"cannot resume non-suspended coroutine",n)}else if(e.status!==oa)return Yg(e,"cannot resume dead coroutine",n);if(e.nCcalls=t?t.nCcalls+1:1,e.nCcalls>=zc)return Yg(e,"JS stack overflow",n);e.nny=0,_o.api_checknelems(e,e.status===ia?n+1:n);let s=ld(e,i8,n);if(s===-1)s=n_;else{for(;s>oa&&a8(e,s);)s=ld(e,MO,s);s>oa?(e.status=s,ud(e,s,e.top),e.ci.top=e.top):cr(s===e.status)}return e.nny=r,e.nCcalls--,cr(e.nCcalls===(t?t.nCcalls:0)),s},l8=function(e){return e.nny===0},UO=function(e,t,n,r){let s=e.ci;return _o.api_checknelems(e,t),e.nny>0&&(e!==e.l_G.mainthread?Wc.luaG_runerror(e,Za("attempt to yield across a JS-call boundary",!0)):Wc.luaG_runerror(e,Za("attempt to yield from outside a coroutine",!0))),e.status=oa,s.extra=s.funcOff,s.callstatus&kt.CIST_LUA?TO(e,r===null,"hooks cannot continue after yielding"):(s.c_k=r,r!==null&&(s.c_ctx=n),s.funcOff=e.top-t-1,s.func=e.stack[s.funcOff],Wl(e,oa)),cr(s.callstatus&kt.CIST_HOOKED),0},u8=function(e,t){UO(e,t,0,null)},DO=function(e,t,n,r,s){let a=e.ci,i=e.allowhook,o=e.nny,l=e.errfunc;e.errfunc=s;let u=ld(e,t,n);return u!==ia&&(r_.luaF_close(e,r),ud(e,u,r),e.ci=a,e.allowhook=i,e.nny=o,CO(e)),e.errfunc=l,u},Jg=function(e,t,n){e.nny++,BO(e,t,n),e.nny--},Zg=class{constructor(t,n,r){this.z=t,this.buff=new Yq,this.dyd=new RO.Dyndata,this.mode=r,this.name=n}},vO=function(e,t,n){t&&Lq(t,n[0])===-1&&(xt.luaO_pushfstring(e,Za("attempt to load a %s chunk (mode is '%s')"),n,t),Wl(e,Hq))},c8=function(e,t){let n,r=t.z.zgetc();r===jq[0]?(vO(e,t.mode,Za("binary",!0)),n=Wq.luaU_undump(e,t.z,t.name)):(vO(e,t.mode,Za("text",!0)),n=RO.luaY_parser(e,t.z,t.buff,t.dyd,t.name,r)),cr(n.nupvalues===n.p.upvalues.length),r_.luaF_initupvals(e,n)},f8=function(e,t,n,r){let s=new Zg(t,n,r);e.nny++;let a=DO(e,c8,s,e.top,e.errfunc);return e.nny--,a};Ft.exports.adjust_top=s_;Ft.exports.luaD_call=BO;Ft.exports.luaD_callnoyield=Jg;Ft.exports.luaD_checkstack=Ll;Ft.exports.luaD_growstack=IO;Ft.exports.luaD_hook=pd;Ft.exports.luaD_inctop=Jq;Ft.exports.luaD_pcall=DO;Ft.exports.luaD_poscall=fd;Ft.exports.luaD_precall=cd;Ft.exports.luaD_protectedparser=f8;Ft.exports.luaD_rawrunprotected=ld;Ft.exports.luaD_reallocstack=od;Ft.exports.luaD_throw=Wl;Ft.exports.lua_isyieldable=l8;Ft.exports.lua_resume=o8;Ft.exports.lua_yield=u8;Ft.exports.lua_yieldk=UO});var Ws=T((soe,zt)=>{"use strict";var{LUA_HOOKCOUNT:p8,LUA_HOOKLINE:d8,LUA_MASKCOUNT:m8,LUA_MASKLINE:PO,constant_types:{LUA_TBOOLEAN:h8,LUA_TNIL:y8,LUA_TTABLE:g8},thread_status:{LUA_ERRRUN:_8,LUA_YIELD:a_},from_userstring:b8,luastring_eq:KO,luastring_indexOf:FO,to_luastring:De}=Rt(),{api_check:i_,lua_assert:l_}=Vn(),{LUA_IDSIZE:qO}=Kn(),GO=Nc(),Qc=Vr(),md=co(),x8=qp(),fn=ar(),Yl=io(),Ln=zs(),$O=ps(),dt=uo(),u_=lo(),hd=function(e){return l_(e.callstatus&Ln.CIST_LUA),e.l_savedpc-1},VO=function(e){return e.func.value.p.lineinfo.length!==0?e.func.value.p.lineinfo[hd(e)]:-1},Ql=function(e){if(e.status===a_){let t=e.ci,n=t.funcOff;t.func=e.stack[t.extra],t.funcOff=t.extra,t.extra=n}},k8=function(e,t,n,r){(t===null||n===0)&&(n=0,t=null),e.ci.callstatus&Ln.CIST_LUA&&(e.oldpc=e.ci.l_savedpc),e.hook=t,e.basehookcount=r,e.hookcount=e.basehookcount,e.hookmask=n},A8=function(e){return e.hook},w8=function(e){return e.hookmask},E8=function(e){return e.basehookcount},O8=function(e,t,n){let r,s;if(t<0)return 0;for(r=e.ci;t>0&&r!==e.base_ci;r=r.previous)t--;return t===0&&r!==e.base_ci?(s=1,n.i_ci=r):s=0,s},o_=function(e,t){l_(t<e.upvalues.length);let n=e.upvalues[t].name;return n===null?De("?",!0):n.getstr()},v8=function(e,t){let n=e.func.value.p.numparams;return t>=e.l_base-e.funcOff-n?null:{pos:e.funcOff+n+t,name:De("(*vararg)",!0)}},HO=function(e,t,n){let r,s=null;if(t.callstatus&Ln.CIST_LUA){if(n<0)return v8(t,-n);r=t.l_base,s=md.luaF_getlocalname(t.func.value.p,n,hd(t))}else r=t.funcOff+1;if(s===null)if((t===e.ci?e.top:t.next.funcOff)-r>=n&&n>0)s=De("(*temporary)",!0);else return null;return{pos:r+(n-1),name:s}},S8=function(e,t,n){let r;if(Ql(e),t===null)e.stack[e.top-1].ttisLclosure()?r=md.luaF_getlocalname(e.stack[e.top-1].value.p,n,0):r=null;else{let s=HO(e,t.i_ci,n);s?(r=s.name,fn.pushobj2s(e,e.stack[s.pos]),i_(e,e.top<=e.ci.top,"stack overflow")):r=null}return Ql(e),r},T8=function(e,t,n){let r;Ql(e);let s=HO(e,t.i_ci,n);return s?(r=s.name,fn.setobjs2s(e,s.pos,e.top-1),delete e.stack[--e.top]):r=null,Ql(e),r},R8=function(e,t){if(t===null||t instanceof fn.CClosure)e.source=De("=[JS]",!0),e.linedefined=-1,e.lastlinedefined=-1,e.what=De("J",!0);else{let n=t.p;e.source=n.source?n.source.getstr():De("=?",!0),e.linedefined=n.linedefined,e.lastlinedefined=n.lastlinedefined,e.what=e.linedefined===0?De("main",!0):De("Lua",!0)}e.short_src=fn.luaO_chunkid(e.source,qO)},N8=function(e,t){if(t===null||t instanceof fn.CClosure)e.stack[e.top]=new fn.TValue(y8,null),GO.api_incr_top(e);else{let n=t.p.lineinfo,r=$O.luaH_new(e);e.stack[e.top]=new fn.TValue(g8,r),GO.api_incr_top(e);let s=new fn.TValue(h8,!0);for(let a=0;a<n.length;a++)$O.luaH_setint(r,n[a],s)}},I8=function(e,t){let n={name:null,funcname:null};return t===null?null:t.callstatus&Ln.CIST_FIN?(n.name=De("__gc",!0),n.funcname=De("metamethod",!0),n):!(t.callstatus&Ln.CIST_TAIL)&&t.previous.callstatus&Ln.CIST_LUA?U8(e,t.previous):null},C8=function(e,t,n,r,s){let a=1;for(;t.length>0;t=t.subarray(1))switch(t[0]){case 83:{R8(n,r);break}case 108:{n.currentline=s&&s.callstatus&Ln.CIST_LUA?VO(s):-1;break}case 117:{n.nups=r===null?0:r.nupvalues,r===null||r instanceof fn.CClosure?(n.isvararg=!0,n.nparams=0):(n.isvararg=r.p.is_vararg,n.nparams=r.p.numparams);break}case 116:{n.istailcall=s?s.callstatus&Ln.CIST_TAIL:0;break}case 110:{let i=I8(e,s);i===null?(n.namewhat=De("",!0),n.name=null):(n.namewhat=i.funcname,n.name=i.name);break}case 76:case 102:break;default:a=0}return a},B8=function(e,t,n){t=b8(t);let r,s,a,i;return Ql(e),t[0]===62?(a=null,i=e.stack[e.top-1],i_(e,i.ttisfunction(),"function expected"),t=t.subarray(1),e.top--):(a=n.i_ci,i=a.func,l_(a.func.ttisfunction())),s=i.ttisclosure()?i.value:null,r=C8(e,t,n,s,a),FO(t,102)>=0&&(fn.pushobj2s(e,i),i_(e,e.top<=e.ci.top,"stack overflow")),Ql(e),FO(t,76)>=0&&N8(e,s),r},jO=function(e,t,n){let r={name:null,funcname:null};if(Yl.ISK(n)){let s=e.k[Yl.INDEXK(n)];if(s.ttisstring())return r.name=s.svalue(),r}else{let s=yd(e,t,n);if(s&&s.funcname[0]===99)return s}return r.name=De("?",!0),r},dd=function(e,t){return e<t?-1:e},M8=function(e,t,n){let r=-1,s=0,a=Yl.OpCodesI;for(let i=0;i<t;i++){let o=e.code[i],l=o.A;switch(o.opcode){case a.OP_LOADNIL:{let u=o.B;l<=n&&n<=l+u&&(r=dd(i,s));break}case a.OP_TFORCALL:{n>=l+2&&(r=dd(i,s));break}case a.OP_CALL:case a.OP_TAILCALL:{n>=l&&(r=dd(i,s));break}case a.OP_JMP:{let u=o.sBx,c=i+1+u;i<c&&c<=t&&c>s&&(s=c);break}default:Yl.testAMode(o.opcode)&&n===l&&(r=dd(i,s));break}}return r},yd=function(e,t,n){let r={name:md.luaF_getlocalname(e,n+1,t),funcname:null};if(r.name)return r.funcname=De("local",!0),r;let s=M8(e,t,n),a=Yl.OpCodesI;if(s!==-1){let i=e.code[s];switch(i.opcode){case a.OP_MOVE:{let o=i.B;if(o<i.A)return yd(e,s,o);break}case a.OP_GETTABUP:case a.OP_GETTABLE:{let o=i.C,l=i.B,u=i.opcode===a.OP_GETTABLE?md.luaF_getlocalname(e,l+1,s):o_(e,l);return r.name=jO(e,s,o).name,r.funcname=u&&KO(u,x8.LUA_ENV)?De("global",!0):De("field",!0),r}case a.OP_GETUPVAL:return r.name=o_(e,i.B),r.funcname=De("upvalue",!0),r;case a.OP_LOADK:case a.OP_LOADKX:{let o=i.opcode===a.OP_LOADK?i.Bx:e.code[s+1].Ax;if(e.k[o].ttisstring())return r.name=e.k[o].svalue(),r.funcname=De("constant",!0),r;break}case a.OP_SELF:{let o=i.C;return r.name=jO(e,s,o).name,r.funcname=De("method",!0),r}default:break}}return null},U8=function(e,t){let n={name:null,funcname:null},r=0,s=t.func.value.p,a=hd(t),i=s.code[a],o=Yl.OpCodesI;if(t.callstatus&Ln.CIST_HOOKED)return n.name=De("?",!0),n.funcname=De("hook",!0),n;switch(i.opcode){case o.OP_CALL:case o.OP_TAILCALL:return yd(s,a,i.A);case o.OP_TFORCALL:return n.name=De("for iterator",!0),n.funcname=De("for iterator",!0),n;case o.OP_SELF:case o.OP_GETTABUP:case o.OP_GETTABLE:r=dt.TMS.TM_INDEX;break;case o.OP_SETTABUP:case o.OP_SETTABLE:r=dt.TMS.TM_NEWINDEX;break;case o.OP_ADD:r=dt.TMS.TM_ADD;break;case o.OP_SUB:r=dt.TMS.TM_SUB;break;case o.OP_MUL:r=dt.TMS.TM_MUL;break;case o.OP_MOD:r=dt.TMS.TM_MOD;break;case o.OP_POW:r=dt.TMS.TM_POW;break;case o.OP_DIV:r=dt.TMS.TM_DIV;break;case o.OP_IDIV:r=dt.TMS.TM_IDIV;break;case o.OP_BAND:r=dt.TMS.TM_BAND;break;case o.OP_BOR:r=dt.TMS.TM_BOR;break;case o.OP_BXOR:r=dt.TMS.TM_BXOR;break;case o.OP_SHL:r=dt.TMS.TM_SHL;break;case o.OP_SHR:r=dt.TMS.TM_SHR;break;case o.OP_UNM:r=dt.TMS.TM_UNM;break;case o.OP_BNOT:r=dt.TMS.TM_BNOT;break;case o.OP_LEN:r=dt.TMS.TM_LEN;break;case o.OP_CONCAT:r=dt.TMS.TM_CONCAT;break;case o.OP_EQ:r=dt.TMS.TM_EQ;break;case o.OP_LT:r=dt.TMS.TM_LT;break;case o.OP_LE:r=dt.TMS.TM_LE;break;default:return null}return n.name=e.l_G.tmname[r].getstr(),n.funcname=De("metamethod",!0),n},D8=function(e,t,n){for(let r=t.l_base;r<t.top;r++)if(e.stack[r]===n)return r;return!1},P8=function(e,t,n){let r=t.func.value;for(let s=0;s<r.nupvalues;s++)if(r.upvals[s]===n)return{name:o_(r.p,s),funcname:De("upvalue",!0)};return null},XO=function(e,t){let n=e.ci,r=null;if(n.callstatus&Ln.CIST_LUA){r=P8(e,n,t);let s=D8(e,n,t);!r&&s&&(r=yd(n.func.value.p,hd(n),s-n.l_base))}return r?fn.luaO_pushfstring(e,De(" (%s '%s')",!0),r.funcname,r.name):De("",!0)},c_=function(e,t,n){let r=dt.luaT_objtypename(e,t);Jc(e,De("attempt to %s a %s value%s",!0),n,r,XO(e,t))},F8=function(e,t,n){(t.ttisstring()||u_.cvt2str(t))&&(t=n),c_(e,t,De("concatenate",!0))},G8=function(e,t,n,r){u_.tonumber(t)===!1&&(n=t),c_(e,n,r)},$8=function(e,t,n){let r=dt.luaT_objtypename(e,t),s=dt.luaT_objtypename(e,n);KO(r,s)?Jc(e,De("attempt to compare two %s values",!0),r):Jc(e,De("attempt to compare %s with %s",!0),r,s)},LO=function(e,t,n,r){let s;return n?s=fn.luaO_chunkid(n.getstr(),qO):s=De("?",!0),fn.luaO_pushfstring(e,De("%s:%d: %s",!0),s,r,t)},Jc=function(e,t,...n){let r=e.ci,s=fn.luaO_pushvfstring(e,t,n);r.callstatus&Ln.CIST_LUA&&LO(e,s,r.func.value.p.source,VO(r)),zO(e)},zO=function(e){if(e.errfunc!==0){let t=e.errfunc;fn.pushobj2s(e,e.stack[e.top-1]),fn.setobjs2s(e,e.top-2,t),Qc.luaD_callnoyield(e,e.top-2,1)}Qc.luaD_throw(e,_8)},j8=function(e,t,n){u_.tointeger(t)===!1&&(n=t),Jc(e,De("number%s has no integer representation",!0),XO(e,n))},K8=function(e){let t=e.ci,n=e.hookmask,r=--e.hookcount===0&&n&m8;if(r)e.hookcount=e.basehookcount;else if(!(n&PO))return;if(t.callstatus&Ln.CIST_HOOKYIELD){t.callstatus&=~Ln.CIST_HOOKYIELD;return}if(r&&Qc.luaD_hook(e,p8,-1),n&PO){let s=t.func.value.p,a=t.l_savedpc-1,i=s.lineinfo.length!==0?s.lineinfo[a]:-1;(a===0||t.l_savedpc<=e.oldpc||i!==(s.lineinfo.length!==0?s.lineinfo[e.oldpc-1]:-1))&&Qc.luaD_hook(e,d8,i)}e.oldpc=t.l_savedpc,e.status===a_&&(r&&(e.hookcount=1),t.l_savedpc--,t.callstatus|=Ln.CIST_HOOKYIELD,t.funcOff=e.top-1,t.func=e.stack[t.funcOff],Qc.luaD_throw(e,a_))};zt.exports.luaG_addinfo=LO;zt.exports.luaG_concaterror=F8;zt.exports.luaG_errormsg=zO;zt.exports.luaG_opinterror=G8;zt.exports.luaG_ordererror=$8;zt.exports.luaG_runerror=Jc;zt.exports.luaG_tointerror=j8;zt.exports.luaG_traceexec=K8;zt.exports.luaG_typeerror=c_;zt.exports.lua_gethook=A8;zt.exports.lua_gethookcount=E8;zt.exports.lua_gethookmask=w8;zt.exports.lua_getinfo=B8;zt.exports.lua_getlocal=S8;zt.exports.lua_getstack=O8;zt.exports.lua_sethook=k8;zt.exports.lua_setlocal=T8});var tv=T((aoe,ev)=>{"use strict";var{LUA_SIGNATURE:WO,LUA_VERSION_MAJOR:q8,LUA_VERSION_MINOR:V8,constant_types:{LUA_TBOOLEAN:H8,LUA_TLNGSTR:X8,LUA_TNIL:L8,LUA_TNUMFLT:z8,LUA_TNUMINT:W8,LUA_TSHRSTR:Y8},luastring_of:QO}=Rt(),YO=QO(25,147,13,10,26,10),Q8=22136,J8=370.5,Z8=Number(q8)*16+Number(V8),eV=0,f_=class{constructor(){this.L=null,this.write=null,this.data=null,this.strip=NaN,this.status=NaN}},bo=function(e,t,n){n.status===0&&t>0&&(n.status=n.writer(n.L,e,t,n.data))},Wt=function(e,t){bo(QO(e),1,t)},fr=function(e,t){let n=new ArrayBuffer(4);new DataView(n).setInt32(0,e,!0);let s=new Uint8Array(n);bo(s,4,t)},p_=function(e,t){let n=new ArrayBuffer(4);new DataView(n).setInt32(0,e,!0);let s=new Uint8Array(n);bo(s,4,t)},JO=function(e,t){let n=new ArrayBuffer(8);new DataView(n).setFloat64(0,e,!0);let s=new Uint8Array(n);bo(s,8,t)},Zc=function(e,t){if(e===null)Wt(0,t);else{let n=e.tsslen()+1,r=e.getstr();n<255?Wt(n,t):(Wt(255,t),p_(n,t)),bo(r,n-1,t)}},tV=function(e,t){let n=e.code.map(r=>r.code);fr(n.length,t);for(let r=0;r<n.length;r++)fr(n[r],t)},nV=function(e,t){let n=e.k.length;fr(n,t);for(let r=0;r<n;r++){let s=e.k[r];switch(Wt(s.ttype(),t),s.ttype()){case L8:break;case H8:Wt(s.value?1:0,t);break;case z8:JO(s.value,t);break;case W8:p_(s.value,t);break;case Y8:case X8:Zc(s.tsvalue(),t);break}}},rV=function(e,t){let n=e.p.length;fr(n,t);for(let r=0;r<n;r++)ZO(e.p[r],e.source,t)},sV=function(e,t){let n=e.upvalues.length;fr(n,t);for(let r=0;r<n;r++)Wt(e.upvalues[r].instack?1:0,t),Wt(e.upvalues[r].idx,t)},aV=function(e,t){let n=t.strip?0:e.lineinfo.length;fr(n,t);for(let r=0;r<n;r++)fr(e.lineinfo[r],t);n=t.strip?0:e.locvars.length,fr(n,t);for(let r=0;r<n;r++)Zc(e.locvars[r].varname,t),fr(e.locvars[r].startpc,t),fr(e.locvars[r].endpc,t);n=t.strip?0:e.upvalues.length,fr(n,t);for(let r=0;r<n;r++)Zc(e.upvalues[r].name,t)},ZO=function(e,t,n){n.strip||e.source===t?Zc(null,n):Zc(e.source,n),fr(e.linedefined,n),fr(e.lastlinedefined,n),Wt(e.numparams,n),Wt(e.is_vararg?1:0,n),Wt(e.maxstacksize,n),tV(e,n),nV(e,n),sV(e,n),rV(e,n),aV(e,n)},iV=function(e){bo(WO,WO.length,e),Wt(Z8,e),Wt(eV,e),bo(YO,YO.length,e),Wt(4,e),Wt(4,e),Wt(4,e),Wt(4,e),Wt(8,e),p_(Q8,e),JO(J8,e)},oV=function(e,t,n,r,s){let a=new f_;return a.L=e,a.writer=n,a.data=r,a.strip=s,a.status=0,iV(a),Wt(t.upvalues.length,a),ZO(t,null,a),a.status};ev.exports.luaU_dump=oV});var Nc=T((ioe,N)=>{"use strict";var{LUA_MULTRET:h_,LUA_OPBNOT:lV,LUA_OPEQ:uV,LUA_OPLE:cV,LUA_OPLT:fV,LUA_OPUNM:pV,LUA_REGISTRYINDEX:ko,LUA_RIDX_GLOBALS:_d,LUA_VERSION_NUM:dV,constant_types:{LUA_NUMTAGS:mV,LUA_TBOOLEAN:nv,LUA_TCCL:y_,LUA_TFUNCTION:hV,LUA_TLCF:rv,LUA_TLCL:g_,LUA_TLIGHTUSERDATA:eu,LUA_TLNGSTR:yV,LUA_TNIL:bd,LUA_TNONE:__,LUA_TNUMFLT:gV,LUA_TNUMINT:b_,LUA_TSHRSTR:_V,LUA_TTABLE:Jl,LUA_TTHREAD:x_,LUA_TUSERDATA:tu},thread_status:{LUA_OK:gd},from_userstring:ei,to_luastring:ef}=Rt(),{api_check:ue}=Vn(),bV=Ws(),ti=Vr(),{luaU_dump:xV}=tv(),sv=co(),Ke=ar(),xo=zs(),{luaS_bless:av,luaS_new:xd,luaS_newliteral:kV}=fs(),AV=uo(),{LUAI_MAXSTACK:wV}=Kn(),Yt=lo(),pr=ps(),{ZIO:EV}=Cc(),Mt=Ke.TValue,OV=Ke.CClosure,Qt=function(e){e.top++,ue(e,e.top<=e.ci.top,"stack overflow")},Gt=function(e,t){ue(e,t<e.top-e.ci.funcOff,"not enough elements in the stack")},kd=function(e){if(!e)throw TypeError("invalid argument")},la=function(e){kd(typeof e=="number"&&(e|0)===e)},Zl=function(e){return e!==Ke.luaO_nilobject},vV=function(e){return e===null?dV:e.l_G.version},SV=function(e,t){let n=e.l_G.panic;return e.l_G.panic=t,n},TV=function(e,t){let n=e.l_G.atnativeerror;return e.l_G.atnativeerror=t,n},ce=function(e,t){let n=e.ci;if(t>0){let r=n.funcOff+t;return ue(e,t<=n.top-(n.funcOff+1),"unacceptable index"),r>=e.top?Ke.luaO_nilobject:e.stack[r]}else return t>ko?(ue(e,t!==0&&-t<=e.top,"invalid index"),e.stack[e.top+t]):t===ko?e.l_G.l_registry:(t=ko-t,ue(e,t<=sv.MAXUPVAL+1,"upvalue index too large"),n.func.ttislcf()?Ke.luaO_nilobject:t<=n.func.value.nupvalues?n.func.value.upvalue[t-1]:Ke.luaO_nilobject)},iv=function(e,t){let n=e.ci;if(t>0){let r=n.funcOff+t;return ue(e,t<=n.top-(n.funcOff+1),"unacceptable index"),r>=e.top?null:r}else{if(t>ko)return ue(e,t!==0&&-t<=e.top,"invalid index"),e.top+t;throw Error("attempt to use pseudo-index")}},RV=function(e,t){let n,r=e.ci;return ue(e,t>=0,"negative 'n'"),e.stack_last-e.top>t?n=!0:e.top+xo.EXTRA_STACK>wV-t?n=!1:(ti.luaD_growstack(e,t),n=!0),n&&r.top<e.top+t&&(r.top=e.top+t),n},NV=function(e,t,n){if(e!==t){Gt(e,n),ue(e,e.l_G===t.l_G,"moving among independent states"),ue(e,t.ci.top-t.top>=n,"stack overflow"),e.top-=n;for(let r=0;r<n;r++)t.stack[t.top]=new Ke.TValue,Ke.setobj2s(t,t.top,e.stack[e.top+r]),delete e.stack[e.top+r],t.top++}},IV=function(e,t){return t>0||t<=ko?t:e.top-e.ci.funcOff+t},CV=function(e){return e.top-(e.ci.funcOff+1)},BV=function(e,t){Ke.pushobj2s(e,ce(e,t)),ue(e,e.top<=e.ci.top,"stack overflow")},ov=function(e,t){let n=e.ci.funcOff,r;t>=0?(ue(e,t<=e.stack_last-(n+1),"new top too large"),r=n+1+t):(ue(e,-(t+1)<=e.top-(n+1),"invalid new top"),r=e.top+t+1),ti.adjust_top(e,r)},k_=function(e,t){ov(e,-t-1)},d_=function(e,t,n){for(;t<n;t++,n--){let r=e.stack[t],s=new Mt(r.type,r.value);Ke.setobjs2s(e,t,n),Ke.setobj2s(e,n,s)}},A_=function(e,t,n){let r=e.top-1,s=iv(e,t),a=e.stack[s];ue(e,Zl(a)&&t>ko,"index not in the stack"),ue(e,(n>=0?n:-n)<=r-s+1,"invalid 'n'");let i=n>=0?r-n:s-n-1;d_(e,s,i),d_(e,i+1,e.top-1),d_(e,s,e.top-1)},lv=function(e,t,n){let r=ce(e,t);ce(e,n).setfrom(r)},MV=function(e,t){A_(e,t,-1),k_(e,1)},UV=function(e,t){A_(e,t,1)},DV=function(e,t){lv(e,-1,t),k_(e,1)},PV=function(e){e.stack[e.top]=new Mt(bd,null),Qt(e)},FV=function(e,t){kd(typeof t=="number"),e.stack[e.top]=new Mt(gV,t),Qt(e)},GV=function(e,t){la(t),e.stack[e.top]=new Mt(b_,t),Qt(e)},$V=function(e,t,n){la(n);let r;return n===0?(t=ef("",!0),r=av(e,t)):(t=ei(t),ue(e,t.length>=n,"invalid length to lua_pushlstring"),r=xd(e,t.subarray(0,n))),Ke.pushsvalue2s(e,r),ue(e,e.top<=e.ci.top,"stack overflow"),r.value},jV=function(e,t){if(t==null)e.stack[e.top]=new Mt(bd,null),e.top++;else{let n=xd(e,ei(t));Ke.pushsvalue2s(e,n),t=n.getstr()}return ue(e,e.top<=e.ci.top,"stack overflow"),t},KV=function(e,t,n){return t=ei(t),Ke.luaO_pushvfstring(e,t,n)},qV=function(e,t,...n){return t=ei(t),Ke.luaO_pushvfstring(e,t,n)},VV=function(e,t){if(t==null)e.stack[e.top]=new Mt(bd,null),e.top++;else{kd(typeof t=="string");let n=kV(e,t);Ke.pushsvalue2s(e,n),t=n.getstr()}return ue(e,e.top<=e.ci.top,"stack overflow"),t},w_=function(e,t,n){if(kd(typeof t=="function"),la(n),n===0)e.stack[e.top]=new Mt(rv,t);else{Gt(e,n),ue(e,n<=sv.MAXUPVAL,"upvalue index too large");let r=new OV(e,t,n);for(let s=0;s<n;s++)r.upvalue[s].setfrom(e.stack[e.top-n+s]);for(let s=1;s<n;s++)delete e.stack[--e.top];n>0&&--e.top,e.stack[e.top].setclCvalue(r)}Qt(e)},HV=w_,E_=function(e,t){w_(e,t,0)},XV=E_,LV=function(e,t){e.stack[e.top]=new Mt(nv,!!t),Qt(e)},zV=function(e,t){e.stack[e.top]=new Mt(eu,t),Qt(e)},WV=function(e){return e.stack[e.top]=new Mt(x_,e),Qt(e),e.l_G.mainthread===e},YV=function(e){pv(e,ko,_d)},uv=function(e,t,n){let r=xd(e,ei(n));Gt(e,1),Ke.pushsvalue2s(e,r),ue(e,e.top<=e.ci.top,"stack overflow"),Yt.settable(e,t,e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top],delete e.stack[--e.top]},cv=function(e,t){uv(e,pr.luaH_getint(e.l_G.l_registry.value,_d),t)},QV=function(e,t){Gt(e,1);let n,r=ce(e,t);switch(e.stack[e.top-1].ttisnil()?n=null:(ue(e,e.stack[e.top-1].ttistable(),"table expected"),n=e.stack[e.top-1].value),r.ttnov()){case tu:case Jl:{r.value.metatable=n;break}default:{e.l_G.mt[r.ttnov()]=n;break}}return delete e.stack[--e.top],!0},JV=function(e,t){Gt(e,2);let n=ce(e,t);Yt.settable(e,n,e.stack[e.top-2],e.stack[e.top-1]),delete e.stack[--e.top],delete e.stack[--e.top]},ZV=function(e,t,n){uv(e,ce(e,t),n)},e6=function(e,t,n){la(n),Gt(e,1);let r=ce(e,t);e.stack[e.top]=new Mt(b_,n),Qt(e),Yt.settable(e,r,e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top],delete e.stack[--e.top]},t6=function(e,t){Gt(e,2);let n=ce(e,t);ue(e,n.ttistable(),"table expected");let r=e.stack[e.top-2],s=e.stack[e.top-1];pr.luaH_setfrom(e,n.value,r,s),pr.invalidateTMcache(n.value),delete e.stack[--e.top],delete e.stack[--e.top]},n6=function(e,t,n){la(n),Gt(e,1);let r=ce(e,t);ue(e,r.ttistable(),"table expected"),pr.luaH_setint(r.value,n,e.stack[e.top-1]),delete e.stack[--e.top]},r6=function(e,t,n){Gt(e,1);let r=ce(e,t);ue(e,r.ttistable(),"table expected");let s=new Mt(eu,n),a=e.stack[e.top-1];pr.luaH_setfrom(e,r.value,s,a),delete e.stack[--e.top]},fv=function(e,t,n){let r=xd(e,ei(n));return Ke.pushsvalue2s(e,r),ue(e,e.top<=e.ci.top,"stack overflow"),Yt.luaV_gettable(e,t,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},pv=function(e,t,n){let r=ce(e,t);return la(n),ue(e,r.ttistable(),"table expected"),Ke.pushobj2s(e,pr.luaH_getint(r.value,n)),ue(e,e.top<=e.ci.top,"stack overflow"),e.stack[e.top-1].ttnov()},s6=function(e,t,n){let r=ce(e,t);ue(e,r.ttistable(),"table expected");let s=new Mt(eu,n);return Ke.pushobj2s(e,pr.luaH_get(e,r.value,s)),ue(e,e.top<=e.ci.top,"stack overflow"),e.stack[e.top-1].ttnov()},a6=function(e,t){let n=ce(e,t);return ue(e,n.ttistable(n),"table expected"),Ke.setobj2s(e,e.top-1,pr.luaH_get(e,n.value,e.stack[e.top-1])),e.stack[e.top-1].ttnov()},dv=function(e,t,n){let r=new Ke.TValue(Jl,pr.luaH_new(e));e.stack[e.top]=r,Qt(e)},i6=function(e,t){return new Ke.Udata(e,t)},o6=function(e,t){let n=i6(e,t);return e.stack[e.top]=new Ke.TValue(tu,n),Qt(e),n.data},mv=function(e,t,n){switch(la(n),t.ttype()){case y_:{let r=t.value;return 1<=n&&n<=r.nupvalues?{name:ef("",!0),val:r.upvalue[n-1]}:null}case g_:{let r=t.value,s=r.p;if(!(1<=n&&n<=s.upvalues.length))return null;let a=s.upvalues[n-1].name;return{name:a?a.getstr():ef("(*no name)",!0),val:r.upvals[n-1]}}default:return null}},l6=function(e,t,n){let r=mv(e,ce(e,t),n);if(r){let s=r.name,a=r.val;return Ke.pushobj2s(e,a),ue(e,e.top<=e.ci.top,"stack overflow"),s}return null},u6=function(e,t,n){let r=ce(e,t);Gt(e,1);let s=mv(e,r,n);if(s){let a=s.name;return s.val.setfrom(e.stack[e.top-1]),delete e.stack[--e.top],a}return null},c6=function(e){dv(e,0,0)},f6=function(e,t,n){E_(e,n),cv(e,t)},p6=function(e,t){let n=ce(e,t),r,s=!1;switch(n.ttnov()){case Jl:case tu:r=n.value.metatable;break;default:r=e.l_G.mt[n.ttnov()];break}return r!=null&&(e.stack[e.top]=new Mt(Jl,r),Qt(e),s=!0),s},d6=function(e,t){let n=ce(e,t);ue(e,n.ttisfulluserdata(),"full userdata expected");let r=n.value.uservalue;return e.stack[e.top]=new Mt(r.type,r.value),Qt(e),e.stack[e.top-1].ttnov()},m6=function(e,t){let n=ce(e,t);return Yt.luaV_gettable(e,n,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},h6=function(e,t,n){return fv(e,ce(e,t),n)},y6=function(e,t,n){let r=ce(e,t);return la(n),e.stack[e.top]=new Mt(b_,n),Qt(e),Yt.luaV_gettable(e,r,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},g6=function(e,t){return fv(e,pr.luaH_getint(e.l_G.l_registry.value,_d),t)},_6=function(e,t){return!ce(e,t).l_isfalse()},O_=function(e,t){let n=ce(e,t);if(!n.ttisstring()){if(!Yt.cvt2str(n))return null;Ke.luaO_tostring(e,n)}return n.svalue()},b6=O_,x6=function(e,t){let n=ce(e,t);if(!n.ttisstring()){if(!Yt.cvt2str(n))return null;Ke.luaO_tostring(e,n)}return n.jsstring()},k6=function(e,t){let n=O_(e,t);return new DataView(n.buffer,n.byteOffset,n.byteLength)},A6=function(e,t){let n=ce(e,t);switch(n.ttype()){case _V:case yV:return n.vslen();case tu:return n.value.len;case Jl:return pr.luaH_getn(n.value);default:return 0}},w6=function(e,t){let n=ce(e,t);return n.ttislcf()||n.ttisCclosure()?n.value:null},E6=function(e,t){let n=hv(e,t);return n===!1?0:n},hv=function(e,t){return Yt.tointeger(ce(e,t))},O6=function(e,t){let n=yv(e,t);return n===!1?0:n},yv=function(e,t){return Yt.tonumber(ce(e,t))},v6=function(e,t){let n=ce(e,t);switch(n.ttnov()){case tu:return n.value.data;case eu:return n.value;default:return null}},S6=function(e,t){let n=ce(e,t);return n.ttisthread()?n.value:null},T6=function(e,t){let n=ce(e,t);switch(n.ttype()){case Jl:case g_:case y_:case rv:case x_:case tu:case eu:return n.value;default:return null}},gv=new WeakMap,R6=function(e,t){let n=gv.get(e);return n?t===null||t.l_G===n:!1},N6=function(e,t,n){let r=function(s){ue(s,s instanceof xo.lua_State&&e===s.l_G,"must be from same global state"),s.stack[s.top]=new Mt(t,n),Qt(s)};return gv.set(r,e),r},I6=function(e,t){let n=ce(e,t);return N6(e.l_G,n.type,n.value)},C6=function(e,t,n,r){let s=ce(e,t),a=ce(e,n),i=0;if(Zl(s)&&Zl(a))switch(r){case uV:i=Yt.luaV_equalobj(e,s,a);break;case fV:i=Yt.luaV_lessthan(e,s,a);break;case cV:i=Yt.luaV_lessequal(e,s,a);break;default:ue(e,!1,"invalid option")}return i},B6=function(e,t){let n=new Mt,r=Ke.luaO_str2num(t,n);return r!==0&&(e.stack[e.top]=n,Qt(e)),r},M6=function(e,t){ti.luaD_callnoyield(e,t.funcOff,t.nresults)},ni=function(e,t){let n=ce(e,t);return Zl(n)?n.ttnov():__},U6=function(e,t){return ue(e,__<=t&&t<mV,"invalid tag"),AV.ttypename(t)},D6=function(e,t){let n=ce(e,t);return n.ttislcf(n)||n.ttisCclosure()},P6=function(e,t){return ni(e,t)===bd},F6=function(e,t){return ni(e,t)===nv},G6=function(e,t){return ni(e,t)===__},$6=function(e,t){return ni(e,t)<=0},j6=function(e,t){return ce(e,t).ttistable()},K6=function(e,t){return ce(e,t).ttisinteger()},q6=function(e,t){return Yt.tonumber(ce(e,t))!==!1},V6=function(e,t){let n=ce(e,t);return n.ttisstring()||Yt.cvt2str(n)},H6=function(e,t){let n=ce(e,t);return n.ttisfulluserdata(n)||n.ttislightuserdata()},X6=function(e,t){return ni(e,t)===x_},L6=function(e,t){return ni(e,t)===hV},z6=function(e,t){return ni(e,t)===eu},W6=function(e,t,n){let r=ce(e,t),s=ce(e,n);return Zl(r)&&Zl(s)?Yt.luaV_equalobj(null,r,s):0},Y6=function(e,t){t!==pV&&t!==lV?Gt(e,2):(Gt(e,1),Ke.pushobj2s(e,e.stack[e.top-1]),ue(e,e.top<=e.ci.top,"stack overflow")),Ke.luaO_arith(e,t,e.stack[e.top-2],e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top]},Q6=ef("?"),J6=function(e,t,n,r,s){r?r=ei(r):r=Q6,s!==null&&(s=ei(s));let a=new EV(e,t,n),i=ti.luaD_protectedparser(e,a,r,s);if(i===gd){let o=e.stack[e.top-1].value;if(o.nupvalues>=1){let l=pr.luaH_getint(e.l_G.l_registry.value,_d);o.upvals[0].setfrom(l)}}return i},Z6=function(e,t,n,r){Gt(e,1);let s=e.stack[e.top-1];return s.ttisLclosure()?xV(e,s.value.p,t,n,r):1},eH=function(e){return e.status},tH=function(e,t){Gt(e,1);let n=ce(e,t);ue(e,n.ttisfulluserdata(),"full userdata expected"),n.value.uservalue.setfrom(e.stack[e.top-1]),delete e.stack[--e.top]},_v=function(e,t,n){ue(e,n===h_||e.ci.top-e.top>=n-t,"results from function overflow current stack size")},bv=function(e,t,n,r,s){ue(e,s===null||!(e.ci.callstatus&xo.CIST_LUA),"cannot use continuations inside hooks"),Gt(e,t+1),ue(e,e.status===gd,"cannot do calls on non-normal thread"),_v(e,t,n);let a=e.top-(t+1);s!==null&&e.nny===0?(e.ci.c_k=s,e.ci.c_ctx=r,ti.luaD_call(e,a,n)):ti.luaD_callnoyield(e,a,n),n===h_&&e.ci.top<e.top&&(e.ci.top=e.top)},nH=function(e,t,n){bv(e,t,n,0,null)},xv=function(e,t,n,r,s,a){ue(e,a===null||!(e.ci.callstatus&xo.CIST_LUA),"cannot use continuations inside hooks"),Gt(e,t+1),ue(e,e.status===gd,"cannot do calls on non-normal thread"),_v(e,t,n);let i,o;r===0?o=0:o=iv(e,r);let l=e.top-(t+1);if(a===null||e.nny>0){let u={funcOff:l,nresults:n};i=ti.luaD_pcall(e,M6,u,l,o)}else{let u=e.ci;u.c_k=a,u.c_ctx=s,u.extra=l,u.c_old_errfunc=e.errfunc,e.errfunc=o,u.callstatus&=~xo.CIST_OAH|e.allowhook,u.callstatus|=xo.CIST_YPCALL,ti.luaD_call(e,l,n),u.callstatus&=~xo.CIST_YPCALL,e.errfunc=u.c_old_errfunc,i=gd}return n===h_&&e.ci.top<e.top&&(e.ci.top=e.top),i},rH=function(e,t,n,r){return xv(e,t,n,r,0,null)},sH=function(e){Gt(e,1),bV.luaG_errormsg(e)},aH=function(e,t){let n=ce(e,t);return ue(e,n.ttistable(),"table expected"),e.stack[e.top]=new Mt,pr.luaH_next(e,n.value,e.top-1)?(Qt(e),1):(delete e.stack[e.top],delete e.stack[--e.top],0)},iH=function(e,t){Gt(e,t),t>=2?Yt.luaV_concat(e,t):t===0&&(Ke.pushsvalue2s(e,av(e,ef("",!0))),ue(e,e.top<=e.ci.top,"stack overflow"))},oH=function(e,t){let n=ce(e,t),r=new Mt;Yt.luaV_objlen(e,r,n),e.stack[e.top]=r,Qt(e)},m_=function(e,t,n){let r=ce(e,t);ue(e,r.ttisLclosure(),"Lua function expected");let s=r.value;return la(n),ue(e,1<=n&&n<=s.p.upvalues.length,"invalid upvalue index"),{f:s,i:n-1}},lH=function(e,t,n){let r=ce(e,t);switch(r.ttype()){case g_:{let s=m_(e,t,n);return s.f.upvals[s.i]}case y_:{let s=r.value;return ue(e,(n|0)===n&&n>0&&n<=s.nupvalues,"invalid upvalue index"),s.upvalue[n-1]}default:return ue(e,!1,"closure expected"),null}},uH=function(e,t,n,r,s){let a=m_(e,t,n),i=m_(e,r,s),o=i.f.upvals[i.i];a.f.upvals[a.i]=o},cH=function(){},fH=function(){return console.warn("lua_getallocf is not available"),0},pH=function(){return console.warn("lua_setallocf is not available"),0},dH=function(){return console.warn("lua_getextraspace is not available"),0};N.exports.api_incr_top=Qt;N.exports.api_checknelems=Gt;N.exports.lua_absindex=IV;N.exports.lua_arith=Y6;N.exports.lua_atpanic=SV;N.exports.lua_atnativeerror=TV;N.exports.lua_call=nH;N.exports.lua_callk=bv;N.exports.lua_checkstack=RV;N.exports.lua_compare=C6;N.exports.lua_concat=iH;N.exports.lua_copy=lv;N.exports.lua_createtable=dv;N.exports.lua_dump=Z6;N.exports.lua_error=sH;N.exports.lua_gc=cH;N.exports.lua_getallocf=fH;N.exports.lua_getextraspace=dH;N.exports.lua_getfield=h6;N.exports.lua_getglobal=g6;N.exports.lua_geti=y6;N.exports.lua_getmetatable=p6;N.exports.lua_gettable=m6;N.exports.lua_gettop=CV;N.exports.lua_getupvalue=l6;N.exports.lua_getuservalue=d6;N.exports.lua_insert=UV;N.exports.lua_isboolean=F6;N.exports.lua_iscfunction=D6;N.exports.lua_isfunction=L6;N.exports.lua_isinteger=K6;N.exports.lua_islightuserdata=z6;N.exports.lua_isnil=P6;N.exports.lua_isnone=G6;N.exports.lua_isnoneornil=$6;N.exports.lua_isnumber=q6;N.exports.lua_isproxy=R6;N.exports.lua_isstring=V6;N.exports.lua_istable=j6;N.exports.lua_isthread=X6;N.exports.lua_isuserdata=H6;N.exports.lua_len=oH;N.exports.lua_load=J6;N.exports.lua_newtable=c6;N.exports.lua_newuserdata=o6;N.exports.lua_next=aH;N.exports.lua_pcall=rH;N.exports.lua_pcallk=xv;N.exports.lua_pop=k_;N.exports.lua_pushboolean=LV;N.exports.lua_pushcclosure=w_;N.exports.lua_pushcfunction=E_;N.exports.lua_pushfstring=qV;N.exports.lua_pushglobaltable=YV;N.exports.lua_pushinteger=GV;N.exports.lua_pushjsclosure=HV;N.exports.lua_pushjsfunction=XV;N.exports.lua_pushlightuserdata=zV;N.exports.lua_pushliteral=VV;N.exports.lua_pushlstring=$V;N.exports.lua_pushnil=PV;N.exports.lua_pushnumber=FV;N.exports.lua_pushstring=jV;N.exports.lua_pushthread=WV;N.exports.lua_pushvalue=BV;N.exports.lua_pushvfstring=KV;N.exports.lua_rawequal=W6;N.exports.lua_rawget=a6;N.exports.lua_rawgeti=pv;N.exports.lua_rawgetp=s6;N.exports.lua_rawlen=A6;N.exports.lua_rawset=t6;N.exports.lua_rawseti=n6;N.exports.lua_rawsetp=r6;N.exports.lua_register=f6;N.exports.lua_remove=MV;N.exports.lua_replace=DV;N.exports.lua_rotate=A_;N.exports.lua_setallocf=pH;N.exports.lua_setfield=ZV;N.exports.lua_setglobal=cv;N.exports.lua_seti=e6;N.exports.lua_setmetatable=QV;N.exports.lua_settable=JV;N.exports.lua_settop=ov;N.exports.lua_setupvalue=u6;N.exports.lua_setuservalue=tH;N.exports.lua_status=eH;N.exports.lua_stringtonumber=B6;N.exports.lua_toboolean=_6;N.exports.lua_tocfunction=w6;N.exports.lua_todataview=k6;N.exports.lua_tointeger=E6;N.exports.lua_tointegerx=hv;N.exports.lua_tojsstring=x6;N.exports.lua_tolstring=O_;N.exports.lua_tonumber=O6;N.exports.lua_tonumberx=yv;N.exports.lua_topointer=T6;N.exports.lua_toproxy=I6;N.exports.lua_tostring=b6;N.exports.lua_tothread=S6;N.exports.lua_touserdata=v6;N.exports.lua_type=ni;N.exports.lua_typename=U6;N.exports.lua_upvalueid=lH;N.exports.lua_upvaluejoin=uH;N.exports.lua_version=vV;N.exports.lua_xmove=NV});var pn=T((ooe,k)=>{"use strict";var Q=Rt(),I=Nc(),ri=Ws(),tf=Vr(),v_=zs();k.exports.LUA_AUTHORS=Q.LUA_AUTHORS;k.exports.LUA_COPYRIGHT=Q.LUA_COPYRIGHT;k.exports.LUA_ERRERR=Q.thread_status.LUA_ERRERR;k.exports.LUA_ERRGCMM=Q.thread_status.LUA_ERRGCMM;k.exports.LUA_ERRMEM=Q.thread_status.LUA_ERRMEM;k.exports.LUA_ERRRUN=Q.thread_status.LUA_ERRRUN;k.exports.LUA_ERRSYNTAX=Q.thread_status.LUA_ERRSYNTAX;k.exports.LUA_HOOKCALL=Q.LUA_HOOKCALL;k.exports.LUA_HOOKCOUNT=Q.LUA_HOOKCOUNT;k.exports.LUA_HOOKLINE=Q.LUA_HOOKLINE;k.exports.LUA_HOOKRET=Q.LUA_HOOKRET;k.exports.LUA_HOOKTAILCALL=Q.LUA_HOOKTAILCALL;k.exports.LUA_MASKCALL=Q.LUA_MASKCALL;k.exports.LUA_MASKCOUNT=Q.LUA_MASKCOUNT;k.exports.LUA_MASKLINE=Q.LUA_MASKLINE;k.exports.LUA_MASKRET=Q.LUA_MASKRET;k.exports.LUA_MINSTACK=Q.LUA_MINSTACK;k.exports.LUA_MULTRET=Q.LUA_MULTRET;k.exports.LUA_NUMTAGS=Q.constant_types.LUA_NUMTAGS;k.exports.LUA_OK=Q.thread_status.LUA_OK;k.exports.LUA_OPADD=Q.LUA_OPADD;k.exports.LUA_OPBAND=Q.LUA_OPBAND;k.exports.LUA_OPBNOT=Q.LUA_OPBNOT;k.exports.LUA_OPBOR=Q.LUA_OPBOR;k.exports.LUA_OPBXOR=Q.LUA_OPBXOR;k.exports.LUA_OPDIV=Q.LUA_OPDIV;k.exports.LUA_OPEQ=Q.LUA_OPEQ;k.exports.LUA_OPIDIV=Q.LUA_OPIDIV;k.exports.LUA_OPLE=Q.LUA_OPLE;k.exports.LUA_OPLT=Q.LUA_OPLT;k.exports.LUA_OPMOD=Q.LUA_OPMOD;k.exports.LUA_OPMUL=Q.LUA_OPMUL;k.exports.LUA_OPPOW=Q.LUA_OPPOW;k.exports.LUA_OPSHL=Q.LUA_OPSHL;k.exports.LUA_OPSHR=Q.LUA_OPSHR;k.exports.LUA_OPSUB=Q.LUA_OPSUB;k.exports.LUA_OPUNM=Q.LUA_OPUNM;k.exports.LUA_REGISTRYINDEX=Q.LUA_REGISTRYINDEX;k.exports.LUA_RELEASE=Q.LUA_RELEASE;k.exports.LUA_RIDX_GLOBALS=Q.LUA_RIDX_GLOBALS;k.exports.LUA_RIDX_LAST=Q.LUA_RIDX_LAST;k.exports.LUA_RIDX_MAINTHREAD=Q.LUA_RIDX_MAINTHREAD;k.exports.LUA_SIGNATURE=Q.LUA_SIGNATURE;k.exports.LUA_TNONE=Q.constant_types.LUA_TNONE;k.exports.LUA_TNIL=Q.constant_types.LUA_TNIL;k.exports.LUA_TBOOLEAN=Q.constant_types.LUA_TBOOLEAN;k.exports.LUA_TLIGHTUSERDATA=Q.constant_types.LUA_TLIGHTUSERDATA;k.exports.LUA_TNUMBER=Q.constant_types.LUA_TNUMBER;k.exports.LUA_TSTRING=Q.constant_types.LUA_TSTRING;k.exports.LUA_TTABLE=Q.constant_types.LUA_TTABLE;k.exports.LUA_TFUNCTION=Q.constant_types.LUA_TFUNCTION;k.exports.LUA_TUSERDATA=Q.constant_types.LUA_TUSERDATA;k.exports.LUA_TTHREAD=Q.constant_types.LUA_TTHREAD;k.exports.LUA_VERSION=Q.LUA_VERSION;k.exports.LUA_VERSION_MAJOR=Q.LUA_VERSION_MAJOR;k.exports.LUA_VERSION_MINOR=Q.LUA_VERSION_MINOR;k.exports.LUA_VERSION_NUM=Q.LUA_VERSION_NUM;k.exports.LUA_VERSION_RELEASE=Q.LUA_VERSION_RELEASE;k.exports.LUA_YIELD=Q.thread_status.LUA_YIELD;k.exports.lua_Debug=Q.lua_Debug;k.exports.lua_upvalueindex=Q.lua_upvalueindex;k.exports.lua_absindex=I.lua_absindex;k.exports.lua_arith=I.lua_arith;k.exports.lua_atpanic=I.lua_atpanic;k.exports.lua_atnativeerror=I.lua_atnativeerror;k.exports.lua_call=I.lua_call;k.exports.lua_callk=I.lua_callk;k.exports.lua_checkstack=I.lua_checkstack;k.exports.lua_close=v_.lua_close;k.exports.lua_compare=I.lua_compare;k.exports.lua_concat=I.lua_concat;k.exports.lua_copy=I.lua_copy;k.exports.lua_createtable=I.lua_createtable;k.exports.lua_dump=I.lua_dump;k.exports.lua_error=I.lua_error;k.exports.lua_gc=I.lua_gc;k.exports.lua_getallocf=I.lua_getallocf;k.exports.lua_getextraspace=I.lua_getextraspace;k.exports.lua_getfield=I.lua_getfield;k.exports.lua_getglobal=I.lua_getglobal;k.exports.lua_gethook=ri.lua_gethook;k.exports.lua_gethookcount=ri.lua_gethookcount;k.exports.lua_gethookmask=ri.lua_gethookmask;k.exports.lua_geti=I.lua_geti;k.exports.lua_getinfo=ri.lua_getinfo;k.exports.lua_getlocal=ri.lua_getlocal;k.exports.lua_getmetatable=I.lua_getmetatable;k.exports.lua_getstack=ri.lua_getstack;k.exports.lua_gettable=I.lua_gettable;k.exports.lua_gettop=I.lua_gettop;k.exports.lua_getupvalue=I.lua_getupvalue;k.exports.lua_getuservalue=I.lua_getuservalue;k.exports.lua_insert=I.lua_insert;k.exports.lua_isboolean=I.lua_isboolean;k.exports.lua_iscfunction=I.lua_iscfunction;k.exports.lua_isfunction=I.lua_isfunction;k.exports.lua_isinteger=I.lua_isinteger;k.exports.lua_islightuserdata=I.lua_islightuserdata;k.exports.lua_isnil=I.lua_isnil;k.exports.lua_isnone=I.lua_isnone;k.exports.lua_isnoneornil=I.lua_isnoneornil;k.exports.lua_isnumber=I.lua_isnumber;k.exports.lua_isproxy=I.lua_isproxy;k.exports.lua_isstring=I.lua_isstring;k.exports.lua_istable=I.lua_istable;k.exports.lua_isthread=I.lua_isthread;k.exports.lua_isuserdata=I.lua_isuserdata;k.exports.lua_isyieldable=tf.lua_isyieldable;k.exports.lua_len=I.lua_len;k.exports.lua_load=I.lua_load;k.exports.lua_newstate=v_.lua_newstate;k.exports.lua_newtable=I.lua_newtable;k.exports.lua_newthread=v_.lua_newthread;k.exports.lua_newuserdata=I.lua_newuserdata;k.exports.lua_next=I.lua_next;k.exports.lua_pcall=I.lua_pcall;k.exports.lua_pcallk=I.lua_pcallk;k.exports.lua_pop=I.lua_pop;k.exports.lua_pushboolean=I.lua_pushboolean;k.exports.lua_pushcclosure=I.lua_pushcclosure;k.exports.lua_pushcfunction=I.lua_pushcfunction;k.exports.lua_pushfstring=I.lua_pushfstring;k.exports.lua_pushglobaltable=I.lua_pushglobaltable;k.exports.lua_pushinteger=I.lua_pushinteger;k.exports.lua_pushjsclosure=I.lua_pushjsclosure;k.exports.lua_pushjsfunction=I.lua_pushjsfunction;k.exports.lua_pushlightuserdata=I.lua_pushlightuserdata;k.exports.lua_pushliteral=I.lua_pushliteral;k.exports.lua_pushlstring=I.lua_pushlstring;k.exports.lua_pushnil=I.lua_pushnil;k.exports.lua_pushnumber=I.lua_pushnumber;k.exports.lua_pushstring=I.lua_pushstring;k.exports.lua_pushthread=I.lua_pushthread;k.exports.lua_pushvalue=I.lua_pushvalue;k.exports.lua_pushvfstring=I.lua_pushvfstring;k.exports.lua_rawequal=I.lua_rawequal;k.exports.lua_rawget=I.lua_rawget;k.exports.lua_rawgeti=I.lua_rawgeti;k.exports.lua_rawgetp=I.lua_rawgetp;k.exports.lua_rawlen=I.lua_rawlen;k.exports.lua_rawset=I.lua_rawset;k.exports.lua_rawseti=I.lua_rawseti;k.exports.lua_rawsetp=I.lua_rawsetp;k.exports.lua_register=I.lua_register;k.exports.lua_remove=I.lua_remove;k.exports.lua_replace=I.lua_replace;k.exports.lua_resume=tf.lua_resume;k.exports.lua_rotate=I.lua_rotate;k.exports.lua_setallof=tf.lua_setallof;k.exports.lua_setfield=I.lua_setfield;k.exports.lua_setglobal=I.lua_setglobal;k.exports.lua_sethook=ri.lua_sethook;k.exports.lua_seti=I.lua_seti;k.exports.lua_setlocal=ri.lua_setlocal;k.exports.lua_setmetatable=I.lua_setmetatable;k.exports.lua_settable=I.lua_settable;k.exports.lua_settop=I.lua_settop;k.exports.lua_setupvalue=I.lua_setupvalue;k.exports.lua_setuservalue=I.lua_setuservalue;k.exports.lua_status=I.lua_status;k.exports.lua_stringtonumber=I.lua_stringtonumber;k.exports.lua_toboolean=I.lua_toboolean;k.exports.lua_todataview=I.lua_todataview;k.exports.lua_tointeger=I.lua_tointeger;k.exports.lua_tointegerx=I.lua_tointegerx;k.exports.lua_tojsstring=I.lua_tojsstring;k.exports.lua_tolstring=I.lua_tolstring;k.exports.lua_tonumber=I.lua_tonumber;k.exports.lua_tonumberx=I.lua_tonumberx;k.exports.lua_topointer=I.lua_topointer;k.exports.lua_toproxy=I.lua_toproxy;k.exports.lua_tostring=I.lua_tostring;k.exports.lua_tothread=I.lua_tothread;k.exports.lua_touserdata=I.lua_touserdata;k.exports.lua_type=I.lua_type;k.exports.lua_typename=I.lua_typename;k.exports.lua_upvalueid=I.lua_upvalueid;k.exports.lua_upvaluejoin=I.lua_upvaluejoin;k.exports.lua_version=I.lua_version;k.exports.lua_xmove=I.lua_xmove;k.exports.lua_yield=tf.lua_yield;k.exports.lua_yieldk=tf.lua_yieldk;k.exports.lua_tocfunction=I.lua_tocfunction});var zn=T((loe,H)=>{"use strict";var{LUAL_BUFFERSIZE:mH}=Kn(),{LUA_ERRERR:hH,LUA_MULTRET:Sv,LUA_REGISTRYINDEX:Td,LUA_SIGNATURE:kv,LUA_TBOOLEAN:yH,LUA_TLIGHTUSERDATA:gH,LUA_TNIL:ru,LUA_TNONE:_H,LUA_TNUMBER:I_,LUA_TSTRING:nf,LUA_TTABLE:bH,LUA_VERSION_NUM:xH,lua_Debug:Rd,lua_absindex:Nd,lua_atpanic:kH,lua_call:Tv,lua_checkstack:AH,lua_concat:wd,lua_copy:wH,lua_createtable:C_,lua_error:EH,lua_getfield:Id,lua_getinfo:Cd,lua_getmetatable:Rv,lua_getstack:rf,lua_gettop:nu,lua_insert:OH,lua_isinteger:vH,lua_isnil:SH,lua_isnumber:TH,lua_isstring:RH,lua_istable:NH,lua_len:IH,lua_load:S_,lua_newstate:CH,lua_newtable:BH,lua_next:MH,lua_pcall:Nv,lua_pop:mr,lua_pushboolean:Iv,lua_pushcclosure:UH,lua_pushcfunction:DH,lua_pushfstring:vn,lua_pushinteger:Ed,lua_pushliteral:dr,lua_pushlstring:PH,lua_pushnil:B_,lua_pushstring:au,lua_pushvalue:Ao,lua_pushvfstring:FH,lua_rawequal:Cv,lua_rawget:GH,lua_rawgeti:T_,lua_rawlen:$H,lua_rawseti:Od,lua_remove:ua,lua_setfield:sf,lua_setglobal:jH,lua_setmetatable:KH,lua_settop:R_,lua_toboolean:Bv,lua_tointeger:Mv,lua_tointegerx:Uv,lua_tojsstring:qH,lua_tolstring:Dv,lua_tonumber:VH,lua_tonumberx:HH,lua_topointer:XH,lua_tostring:As,lua_touserdata:LH,lua_type:si,lua_typename:Pv,lua_version:Av}=pn(),{from_userstring:M_,luastring_eq:Fv,to_luastring:fe,to_uristring:zH}=qn(),Gv=hH+1,U_=fe("_LOADED"),WH=fe("_PRELOAD"),YH=fe("FILE*"),$v=4*16+8,D_=fe("__name"),QH=fe("__tostring"),P_=new Uint8Array(0),vd=class{constructor(){this.L=null,this.b=P_,this.n=0}},wv=10,Ev=11,jv=function(e,t,n){if(n===0||!NH(e,-1))return 0;for(B_(e);MH(e,-2);){if(si(e,-2)===nf){if(Cv(e,t,-1))return mr(e,1),1;if(jv(e,t,n-1))return ua(e,-2),dr(e,"."),OH(e,-2),wd(e,3),1}mr(e,1)}return 0},Kv=function(e,t){let n=nu(e);if(Cd(e,fe("f"),t),Id(e,Td,U_),jv(e,n+1,2)){let r=As(e,-1);return r[0]===95&&r[1]===71&&r[2]===46&&(au(e,r.subarray(3)),ua(e,-2)),wH(e,-1,n+1),mr(e,2),1}else return R_(e,n),0},JH=function(e,t){Kv(e,t)?(vn(e,fe("function '%s'"),As(e,-1)),ua(e,-2)):t.namewhat.length!==0?vn(e,fe("%s '%s'"),t.namewhat,t.name):t.what&&t.what[0]===109?dr(e,"main chunk"):t.what&&t.what[0]===76?vn(e,fe("function <%s:%d>"),t.short_src,t.linedefined):dr(e,"?")},ZH=function(e){let t=new Rd,n=1,r=1;for(;rf(e,r,t);)n=r,r*=2;for(;n<r;){let s=Math.floor((n+r)/2);rf(e,s,t)?n=s+1:r=s}return r-1},eX=function(e,t,n,r){let s=new Rd,a=nu(e),i=ZH(t),o=i-r>wv+Ev?wv:-1;for(n&&vn(e,fe(`%s
`),n),V_(e,10,null),dr(e,"stack traceback:");rf(t,r++,s);)o--===0?(dr(e,`
	...`),r=i-Ev+1):(Cd(t,fe("Slnt",!0),s),vn(e,fe(`
	%s:`),s.short_src),s.currentline>0&&dr(e,`${s.currentline}:`),dr(e," in "),JH(e,s),s.istailcall&&dr(e,`
	(...tail calls..)`),wd(e,nu(e)-a));wd(e,nu(e)-a)},tX=function(e){let t="PANIC: unprotected error in call to Lua API ("+qH(e,-1)+")";throw new Error(t)},iu=function(e,t,n){let r=new Rd;return rf(e,0,r)?(Cd(e,fe("n"),r),Fv(r.namewhat,fe("method"))&&(t--,t===0)?Xr(e,fe("calling '%s' on bad self (%s)"),r.name,n):(r.name===null&&(r.name=Kv(e,r)?As(e,-1):fe("?")),Xr(e,fe("bad argument #%d to '%s' (%s)"),t,r.name,n))):Xr(e,fe("bad argument #%d (%s)"),t,n)},qv=function(e,t,n){let r;Dd(e,t,D_)===nf?r=As(e,-1):si(e,t)===gH?r=fe("light userdata",!0):r=F_(e,t);let s=vn(e,fe("%s expected, got %s"),n,r);return iu(e,t,s)},Vv=function(e,t){let n=new Rd;if(rf(e,t,n)&&(Cd(e,fe("Sl",!0),n),n.currentline>0)){vn(e,fe("%s:%d: "),n.short_src,n.currentline);return}au(e,fe(""))},Xr=function(e,t,...n){return Vv(e,1),FH(e,t,n),wd(e,2),EH(e)},Hv=function(e,t,n,r){if(t)return Iv(e,1),1;{B_(e);let s,a;return r?(s=r.message,a=-r.errno):(s="Success",a=0),n?vn(e,fe("%s: %s"),n,fe(s)):au(e,fe(s)),Ed(e,a),3}},nX=function(e,t){let n,r;if(t===null)return Iv(e,1),dr(e,"exit"),Ed(e,0),3;if(t.status)n="exit",r=t.status;else if(t.signal)n="signal",r=t.signal;else return Hv(e,0,null,t);return B_(e),dr(e,n),Ed(e,r),3},Bd=function(e,t){return Id(e,Td,t)},rX=function(e,t){return Bd(e,t)!==ru?0:(mr(e,1),C_(e,0,2),au(e,t),sf(e,-2,D_),Ao(e,-1),sf(e,Td,t),1)},sX=function(e,t){Bd(e,t),KH(e,-2)},Xv=function(e,t,n){let r=LH(e,t);return r!==null&&Rv(e,t)?(Bd(e,n),Cv(e,-1,-2)||(r=null),mr(e,2),r):null},aX=function(e,t,n){let r=Xv(e,t,n);return r===null&&qv(e,t,n),r},iX=function(e,t,n,r){let s=n!==null?Wv(e,t,n):Lv(e,t);for(let a=0;r[a];a++)if(Fv(r[a],s))return a;return iu(e,t,vn(e,fe("invalid option '%s'"),s))},Md=function(e,t,n){qv(e,t,Pv(e,n))},oX=function(){let e=CH();return e&&kH(e,tX),e},F_=function(e,t){return Pv(e,si(e,t))},lX=function(e,t,n,r){t||iu(e,n,r)},uX=function(e,t){si(e,t)===_H&&iu(e,t,fe("value expected",!0))},cX=function(e,t,n){si(e,t)!==n&&Md(e,t,n)},G_=function(e,t){let n=Dv(e,t);return n==null&&Md(e,t,nf),n},Lv=G_,zv=function(e,t,n){return si(e,t)<=0?n===null?null:M_(n):G_(e,t)},Wv=zv,fX=function(e,t){TH(e,t)?iu(e,t,fe("number has no integer representation",!0)):Md(e,t,I_)},Yv=function(e,t){let n=HH(e,t);return n===!1&&Md(e,t,I_),n},pX=function(e,t,n){return q_(e,Yv,t,n)},Qv=function(e,t){let n=Uv(e,t);return n===!1&&fX(e,t),n},dX=function(e,t,n){return q_(e,Qv,t,n)},af=function(e,t){let n=e.n+t;if(e.b.length<n){let r=Math.max(e.b.length*2,n),s=new Uint8Array(r);s.set(e.b),e.b=s}return e.b.subarray(e.n,n)},$_=function(e,t){t.L=e,t.b=P_},mX=function(e,t,n){return $_(e,t),af(t,n)},hX=function(e){return af(e,mH)},Ud=function(e,t,n){n>0&&(t=M_(t),af(e,n).set(t.subarray(0,n)),K_(e,n))},N_=function(e,t){t=M_(t),Ud(e,t,t.length)},j_=function(e){PH(e.L,e.b,e.n),e.n=0,e.b=P_},yX=function(e,t){af(e,1),e.b[e.n++]=t},K_=function(e,t){e.n+=t},gX=function(e,t){K_(e,t),j_(e)},_X=function(e){let t=e.L,n=As(t,-1);Ud(e,n,n.length),mr(t,1)},q_=function(e,t,n,r){return si(e,n)<=0?r:t(e,n)},bX=function(e,t){let n=t.string;return t.string=null,n},Jv=function(e,t,n,r,s){return S_(e,bX,{string:t},r,s)},Zv=function(e,t,n,r){return Jv(e,t,n,r,null)},eS=function(e,t){return Zv(e,t,t.length,t)},xX=function(e,t){return eS(e,t)||Nv(e,0,Sv,0)},Dd=function(e,t,n){if(Rv(e,t)){au(e,n);let r=GH(e,-2);return r===ru?mr(e,2):ua(e,-2),r}else return ru},tS=function(e,t,n){return t=Nd(e,t),Dd(e,t,n)===ru?!1:(Ao(e,t),Tv(e,1,1),!0)},kX=function(e,t){IH(e,t);let n=Uv(e,-1);return n===!1&&Xr(e,fe("object length is not an integer",!0)),mr(e,1),n},AX=fe("%I"),wX=fe("%f"),EX=function(e,t){if(tS(e,t,QH))RH(e,-1)||Xr(e,fe("'__tostring' must return a string"));else switch(si(e,t)){case I_:{vH(e,t)?vn(e,AX,Mv(e,t)):vn(e,wX,VH(e,t));break}case nf:Ao(e,t);break;case yH:dr(e,Bv(e,t)?"true":"false");break;case ru:dr(e,"nil");break;default:{let r=Dd(e,t,D_),s=r===nf?As(e,-1):F_(e,t);vn(e,fe("%s: %p"),s,XH(e,t)),r!==ru&&ua(e,-2);break}}return Dv(e,-1)},OX=function(e,t,n,r){nS(e,Td,U_),Id(e,-1,t),Bv(e,-1)||(mr(e,1),DH(e,n),au(e,t),Tv(e,1,1),Ao(e,-1),sf(e,-3,t)),ua(e,-2),r&&(Ao(e,-1),jH(e,t))},vX=function(e,t,n){var r=n>>>0,s=t.length,a=e.length+1-s;e:for(;r<a;r++){for(let i=0;i<s;i++)if(e[r+i]!==t[i])continue e;return r}return-1},SX=function(e,t,n,r){let s,a=new vd;for($_(e,a);(s=vX(t,n))>=0;)Ud(a,t,s),N_(a,r),t=t.subarray(s+n.length);return N_(a,t),j_(a),As(e,-1)},nS=function(e,t,n){return Id(e,t,n)===bH?!0:(mr(e,1),t=Nd(e,t),BH(e),Ao(e,-1),sf(e,t,n),!1)},rS=function(e,t,n){V_(e,n,fe("too many upvalues",!0));for(let r in t){for(let s=0;s<n;s++)Ao(e,-n);UH(e,t[r],n),sf(e,-(n+2),fe(r))}mr(e,n)},V_=function(e,t,n){AH(e,t)||(n?Xr(e,fe("stack overflow (%s)"),n):Xr(e,fe("stack overflow",!0)))},TX=function(e){C_(e)},RX=function(e,t){C_(e),rS(e,t,0)},NX=-2,sS=-1,IX=function(e,t){let n;return SH(e,-1)?(mr(e,1),sS):(t=Nd(e,t),T_(e,t,0),n=Mv(e,-1),mr(e,1),n!==0?(T_(e,t,n),Od(e,t,0)):n=$H(e,t)+1,Od(e,t,n),n)},CX=function(e,t,n){n>=0&&(t=Nd(e,t),T_(e,t,0),Od(e,t,n),Ed(e,n),Od(e,t,0))},Ad=function(e,t,n,r){let s=r.message,a=As(e,n).subarray(1);return vn(e,fe("cannot %s %s: %s"),fe(t),a,fe(s)),ua(e,n),Gv},su,Ov=[239,187,191],BX=function(e){e.n=0;let t,n=0;do{if(t=su(e),t===null||t!==Ov[n])return t;n++,e.buff[e.n++]=t}while(n<Ov.length);return e.n=0,su(e)},vv=function(e){let t=BX(e);if(t===35){do t=su(e);while(t&&t!==10);return{skipped:!0,c:su(e)}}else return{skipped:!1,c:t}},Sd;if(typeof process>"u"){class e{constructor(){this.n=NaN,this.f=null,this.buff=new Uint8Array(1024),this.pos=0,this.err=void 0}}let t=function(n,r){let s=r;if(s.f!==null&&s.n>0){let i=s.n;return s.n=0,s.f=s.f.subarray(s.pos),s.buff.subarray(0,i)}let a=s.f;return s.f=null,a};su=function(n){return n.pos<n.f.length?n.f[n.pos++]:null},Sd=function(n,r,s){let a=new e,i=nu(n)+1;if(r===null)throw new Error("Can't read stdin in the browser");{vn(n,fe("@%s"),r);let c=zH(r),f=new XMLHttpRequest;if(f.open("GET",c,!1),typeof window>"u"&&(f.responseType="arraybuffer"),f.send(),f.status>=200&&f.status<=299)typeof f.response=="string"?a.f=fe(f.response):a.f=new Uint8Array(f.response);else return a.err=f.status,Ad(n,"open",i,{message:`${f.status}: ${f.statusText}`})}let o=vv(a);o.c===kv[0]&&r||o.skipped&&(a.buff[a.n++]=10),o.c!==null&&(a.buff[a.n++]=o.c);let l=S_(n,t,a,As(n,-1),s),u=a.err;return u?(R_(n,i),Ad(n,"read",i,u)):(ua(n,i),l)}}else{let e=require("fs");class t{constructor(){this.n=NaN,this.f=null,this.buff=Buffer.alloc(1024),this.pos=0,this.err=void 0}}let n=function(r,s){let a=s,i=0;if(a.n>0)i=a.n,a.n=0;else{try{i=e.readSync(a.f,a.buff,0,a.buff.length,a.pos)}catch(o){a.err=o,i=0}a.pos+=i}return i>0?a.buff.subarray(0,i):null};su=function(r){let s=Buffer.alloc(1),a;try{a=e.readSync(r.f,s,0,1,r.pos)}catch(i){return r.err=i,null}return r.pos+=a,a>0?s.readUInt8():null},Sd=function(r,s,a){let i=new t,o=nu(r)+1;if(s===null)dr(r,"=stdin"),i.f=process.stdin.fd;else{vn(r,fe("@%s"),s);try{i.f=e.openSync(s,"r")}catch(f){return Ad(r,"open",o,f)}}let l=vv(i);l.c===kv[0]&&s||l.skipped&&(i.buff[i.n++]=10),l.c!==null&&(i.buff[i.n++]=l.c);let u=S_(r,n,i,As(r,-1),a),c=i.err;if(s)try{e.closeSync(i.f)}catch{}return c?(R_(r,o),Ad(r,"read",o,c)):(ua(r,o),u)}}var aS=function(e,t){return Sd(e,t,null)},MX=function(e,t){return aS(e,t)||Nv(e,0,Sv,0)},UX=function(){for(let e=0;e<arguments.length;e++){let t=arguments[e];if(typeof process>"u")do{let n=/([^\n]*)\n?([\d\D]*)/.exec(t);console.error(n[1]),t=n[2]}while(t!=="");else process.stderr.write(t)}},iS=function(e,t,n){let r=Av(e);n!=$v&&Xr(e,fe("core and library have incompatible numeric types")),r!=Av(null)?Xr(e,fe("multiple Lua VMs detected")):r!==t&&Xr(e,fe("version mismatch: app. needs %f, Lua core provides %f"),t,r)},DX=function(e){iS(e,xH,$v)};H.exports.LUA_ERRFILE=Gv;H.exports.LUA_FILEHANDLE=YH;H.exports.LUA_LOADED_TABLE=U_;H.exports.LUA_NOREF=NX;H.exports.LUA_PRELOAD_TABLE=WH;H.exports.LUA_REFNIL=sS;H.exports.luaL_Buffer=vd;H.exports.luaL_addchar=yX;H.exports.luaL_addlstring=Ud;H.exports.luaL_addsize=K_;H.exports.luaL_addstring=N_;H.exports.luaL_addvalue=_X;H.exports.luaL_argcheck=lX;H.exports.luaL_argerror=iu;H.exports.luaL_buffinit=$_;H.exports.luaL_buffinitsize=mX;H.exports.luaL_callmeta=tS;H.exports.luaL_checkany=uX;H.exports.luaL_checkinteger=Qv;H.exports.luaL_checklstring=G_;H.exports.luaL_checknumber=Yv;H.exports.luaL_checkoption=iX;H.exports.luaL_checkstack=V_;H.exports.luaL_checkstring=Lv;H.exports.luaL_checktype=cX;H.exports.luaL_checkudata=aX;H.exports.luaL_checkversion=DX;H.exports.luaL_checkversion_=iS;H.exports.luaL_dofile=MX;H.exports.luaL_dostring=xX;H.exports.luaL_error=Xr;H.exports.luaL_execresult=nX;H.exports.luaL_fileresult=Hv;H.exports.luaL_getmetafield=Dd;H.exports.luaL_getmetatable=Bd;H.exports.luaL_getsubtable=nS;H.exports.luaL_gsub=SX;H.exports.luaL_len=kX;H.exports.luaL_loadbuffer=Zv;H.exports.luaL_loadbufferx=Jv;H.exports.luaL_loadfile=aS;H.exports.luaL_loadfilex=Sd;H.exports.luaL_loadstring=eS;H.exports.luaL_newlib=RX;H.exports.luaL_newlibtable=TX;H.exports.luaL_newmetatable=rX;H.exports.luaL_newstate=oX;H.exports.luaL_opt=q_;H.exports.luaL_optinteger=dX;H.exports.luaL_optlstring=zv;H.exports.luaL_optnumber=pX;H.exports.luaL_optstring=Wv;H.exports.luaL_prepbuffer=hX;H.exports.luaL_prepbuffsize=af;H.exports.luaL_pushresult=j_;H.exports.luaL_pushresultsize=gX;H.exports.luaL_ref=IX;H.exports.luaL_requiref=OX;H.exports.luaL_setfuncs=rS;H.exports.luaL_setmetatable=sX;H.exports.luaL_testudata=Xv;H.exports.luaL_tolstring=EX;H.exports.luaL_traceback=eX;H.exports.luaL_typename=F_;H.exports.luaL_unref=CX;H.exports.luaL_where=Vv;H.exports.lua_writestringerror=UX});var J_=T((uoe,kS)=>{"use strict";var{LUA_MULTRET:X_,LUA_OK:L_,LUA_TFUNCTION:uS,LUA_TNIL:Fd,LUA_TNONE:PX,LUA_TNUMBER:FX,LUA_TSTRING:$d,LUA_TTABLE:lu,LUA_VERSION:GX,LUA_YIELD:$X,lua_call:z_,lua_callk:jX,lua_concat:KX,lua_error:cS,lua_getglobal:qX,lua_geti:VX,lua_getmetatable:HX,lua_gettop:Eo,lua_insert:fS,lua_isnil:XX,lua_isnone:pS,lua_isstring:LX,lua_load:zX,lua_next:WX,lua_pcallk:dS,lua_pop:W_,lua_pushboolean:jd,lua_pushcfunction:mS,lua_pushglobaltable:YX,lua_pushinteger:uu,lua_pushliteral:hS,lua_pushnil:uf,lua_pushstring:QX,lua_pushvalue:Lr,lua_rawequal:JX,lua_rawget:ZX,lua_rawlen:eL,lua_rawset:tL,lua_remove:nL,lua_replace:rL,lua_rotate:sL,lua_setfield:oS,lua_setmetatable:aL,lua_settop:ca,lua_setupvalue:iL,lua_stringtonumber:oL,lua_toboolean:lL,lua_tolstring:uL,lua_tostring:lf,lua_type:wo,lua_typename:cL}=pn(),{luaL_argcheck:cf,luaL_checkany:vr,luaL_checkinteger:Y_,luaL_checkoption:fL,luaL_checkstack:pL,luaL_checktype:Oo,luaL_error:Kd,luaL_getmetafield:Q_,luaL_loadbufferx:dL,luaL_loadfile:mL,luaL_loadfilex:hL,luaL_optinteger:yS,luaL_optstring:ou,luaL_setfuncs:yL,luaL_tolstring:gL,luaL_where:_L}=zn(),{to_jsstring:gS,to_luastring:Or}=qn(),of,Pd;if(typeof process>"u")if(typeof TextDecoder=="function"){let e="",t=new TextDecoder("utf-8");of=function(r){e+=t.decode(r,{stream:!0})};let n=new Uint8Array(0);Pd=function(){e+=t.decode(n),console.log(e),e=""}}else{let e=[];of=function(t){try{t=gS(t)}catch{let r=new Uint8Array(t.length);r.set(t),t=r}e.push(t)},Pd=function(){console.log.apply(console.log,e),e=[]}}else of=function(e){process.stdout.write(Buffer.from(e))},Pd=function(){process.stdout.write(`
`)};var bL=function(e){let t=Eo(e);qX(e,Or("tostring",!0));for(let n=1;n<=t;n++){Lr(e,-1),Lr(e,n),z_(e,1,1);let r=uL(e,-1);if(r===null)return Kd(e,Or("'tostring' must return a string to 'print'"));n>1&&of(Or("	")),of(r),W_(e,1)}return Pd(),0},xL=function(e){return vr(e,1),gL(e,1),1},kL=function(e){return vr(e,1),HX(e,1)?(Q_(e,1,Or("__metatable",!0)),1):(uf(e),1)},AL=function(e){let t=wo(e,2);return Oo(e,1,lu),cf(e,t===Fd||t===lu,2,"nil or table expected"),Q_(e,1,Or("__metatable",!0))!==Fd?Kd(e,Or("cannot change a protected metatable")):(ca(e,2),aL(e,1),1)},wL=function(e){return vr(e,1),vr(e,2),jd(e,JX(e,1,2)),1},EL=function(e){let t=wo(e,1);return cf(e,t===lu||t===$d,1,"table or string expected"),uu(e,eL(e,1)),1},OL=function(e){return Oo(e,1,lu),vr(e,2),ca(e,2),ZX(e,1),1},vL=function(e){return Oo(e,1,lu),vr(e,2),vr(e,3),ca(e,3),tL(e,1),1},SL=["stop","restart","collect","count","step","setpause","setstepmul","isrunning"].map(e=>Or(e)),TL=function(e){fL(e,1,"collect",SL),yS(e,2,0),Kd(e,Or("lua_gc not implemented"))},RL=function(e){let t=wo(e,1);return cf(e,t!==PX,1,"value expected"),QX(e,cL(e,t)),1},NL=function(e,t,n,r){return vr(e,1),Q_(e,1,t)===Fd?(mS(e,r),Lr(e,1),n?uu(e,0):uf(e)):(Lr(e,1),z_(e,1,3)),3},_S=function(e){return Oo(e,1,lu),ca(e,2),WX(e,1)?2:(uf(e),1)},IL=function(e){return NL(e,Or("__pairs",!0),0,_S)},CL=function(e){let t=Y_(e,2)+1;return uu(e,t),VX(e,1,t)===Fd?1:2},BL=function(e){return vr(e,1),mS(e,CL),Lr(e,1),uu(e,0),3},ML=function(e,t){try{e=gS(e)}catch{return null}let n=/^[\t\v\f \n\r]*([+-]?)0*([0-9A-Za-z]+)[\t\v\f \n\r]*$/.exec(e);if(!n)return null;let r=parseInt(n[1]+n[2],t);return isNaN(r)?null:r|0},UL=function(e){if(wo(e,2)<=0){if(vr(e,1),wo(e,1)===FX)return ca(e,1),1;{let t=lf(e,1);if(t!==null&&oL(e,t)===t.length+1)return 1}}else{let t=Y_(e,2);Oo(e,1,$d);let n=lf(e,1);cf(e,2<=t&&t<=36,2,"base out of range");let r=ML(n,t);if(r!==null)return uu(e,r),1}return uf(e),1},bS=function(e){let t=yS(e,2,1);return ca(e,1),wo(e,1)===$d&&t>0&&(_L(e,t),Lr(e,1),KX(e,2)),cS(e)},DL=function(e){return lL(e,1)?Eo(e):(vr(e,1),nL(e,1),hS(e,"assertion failed!"),ca(e,1),bS(e))},PL=function(e){let t=Eo(e);if(wo(e,1)===$d&&lf(e,1)[0]===35)return uu(e,t-1),1;{let n=Y_(e,1);return n<0?n=t+n:n>t&&(n=t),cf(e,1<=n,1,"index out of range"),t-n}},Gd=function(e,t,n){return t!==L_&&t!==$X?(jd(e,0),Lr(e,-2),2):Eo(e)-n},FL=function(e){vr(e,1),jd(e,1),fS(e,1);let t=dS(e,Eo(e)-2,X_,0,0,Gd);return Gd(e,t,0)},GL=function(e){let t=Eo(e);Oo(e,2,uS),jd(e,1),Lr(e,1),sL(e,3,2);let n=dS(e,t-2,X_,2,2,Gd);return Gd(e,n,2)},xS=function(e,t,n){return t===L_?(n!==0&&(Lr(e,n),iL(e,-2,1)||W_(e,1)),1):(uf(e),fS(e,-2),2)},H_=5,$L=function(e,t){return pL(e,2,"too many nested functions"),Lr(e,1),z_(e,0,1),XX(e,-1)?(W_(e,1),null):(LX(e,-1)||Kd(e,Or("reader function must return a string")),rL(e,H_),lf(e,H_))},jL=function(e){let t=lf(e,1),n=ou(e,3,"bt"),r=pS(e,4)?0:4,s;if(t!==null){let a=ou(e,2,t);s=dL(e,t,t.length,a,n)}else{let a=ou(e,2,"=(load)");Oo(e,1,uS),ca(e,H_),s=zX(e,$L,null,a,n)}return xS(e,s,r)},KL=function(e){let t=ou(e,1,null),n=ou(e,2,null),r=pS(e,3)?0:3,s=hL(e,t,n);return xS(e,s,r)},lS=function(e,t,n){return Eo(e)-1},qL=function(e){let t=ou(e,1,null);return ca(e,1),mL(e,t)!==L_?cS(e):(jX(e,0,X_,0,lS),lS(e,0,0))},VL={assert:DL,collectgarbage:TL,dofile:qL,error:bS,getmetatable:kL,ipairs:BL,load:jL,loadfile:KL,next:_S,pairs:IL,pcall:FL,print:bL,rawequal:wL,rawget:OL,rawlen:EL,rawset:vL,select:PL,setmetatable:AL,tonumber:UL,tostring:xL,type:RL,xpcall:GL},HL=function(e){return YX(e),yL(e,VL,0),Lr(e,-1),oS(e,-2,Or("_G")),hS(e,GX),oS(e,-2,Or("_VERSION")),1};kS.exports.luaopen_base=HL});var t0=T((coe,RS)=>{"use strict";var{LUA_OK:Z_,LUA_TFUNCTION:XL,LUA_TSTRING:LL,LUA_YIELD:wS,lua_Debug:zL,lua_checkstack:AS,lua_concat:WL,lua_error:YL,lua_getstack:QL,lua_gettop:cu,lua_insert:e0,lua_isyieldable:JL,lua_newthread:ZL,lua_pop:e7,lua_pushboolean:Vd,lua_pushcclosure:t7,lua_pushliteral:fa,lua_pushthread:n7,lua_pushvalue:r7,lua_resume:s7,lua_status:ES,lua_tothread:OS,lua_type:a7,lua_upvalueindex:i7,lua_xmove:qd,lua_yield:o7}=pn(),{luaL_argcheck:l7,luaL_checktype:u7,luaL_newlib:c7,luaL_where:f7}=zn(),vS=function(e){let t=OS(e,1);return l7(e,t,1,"thread expected"),t},SS=function(e,t,n){if(!AS(t,n))return fa(e,"too many arguments to resume"),-1;if(ES(t)===Z_&&cu(t)===0)return fa(e,"cannot resume dead coroutine"),-1;qd(e,t,n);let r=s7(t,e,n);if(r===Z_||r===wS){let s=cu(t);return AS(e,s+1)?(qd(t,e,s),s):(e7(t,s),fa(e,"too many results to resume"),-1)}else return qd(t,e,1),-1},p7=function(e){let t=vS(e),n=SS(e,t,cu(e)-1);return n<0?(Vd(e,0),e0(e,-2),2):(Vd(e,1),e0(e,-(n+1)),n+1)},d7=function(e){let t=OS(e,i7(1)),n=SS(e,t,cu(e));return n<0?(a7(e,-1)===LL&&(f7(e,1),e0(e,-2),WL(e,2)),YL(e)):n},TS=function(e){u7(e,1,XL);let t=ZL(e);return r7(e,1),qd(e,t,1),1},m7=function(e){return TS(e),t7(e,d7,1),1},h7=function(e){return o7(e,cu(e))},y7=function(e){let t=vS(e);if(e===t)fa(e,"running");else switch(ES(t)){case wS:fa(e,"suspended");break;case Z_:{let n=new zL;QL(t,0,n)>0?fa(e,"normal"):cu(t)===0?fa(e,"dead"):fa(e,"suspended");break}default:fa(e,"dead");break}return 1},g7=function(e){return Vd(e,JL(e)),1},_7=function(e){return Vd(e,n7(e)),2},b7={create:TS,isyieldable:g7,resume:p7,running:_7,status:y7,wrap:m7,yield:h7},x7=function(e){return c7(e,b7),1};RS.exports.luaopen_coroutine=x7});var l0=T((foe,FS)=>{"use strict";var{LUA_MAXINTEGER:r0}=Kn(),{LUA_OPEQ:k7,LUA_OPLT:A7,LUA_TFUNCTION:w7,LUA_TNIL:E7,LUA_TTABLE:NS,lua_call:O7,lua_checkstack:v7,lua_compare:CS,lua_createtable:S7,lua_geti:on,lua_getmetatable:T7,lua_gettop:BS,lua_insert:R7,lua_isnil:N7,lua_isnoneornil:MS,lua_isstring:I7,lua_pop:ai,lua_pushinteger:C7,lua_pushnil:B7,lua_pushstring:M7,lua_pushvalue:ff,lua_rawget:U7,lua_setfield:D7,lua_seti:pa,lua_settop:P7,lua_toboolean:F7,lua_type:G7}=pn(),{luaL_Buffer:$7,luaL_addlstring:j7,luaL_addvalue:K7,luaL_argcheck:mf,luaL_buffinit:q7,luaL_checkinteger:pf,luaL_checktype:US,luaL_error:hf,luaL_len:DS,luaL_newlib:V7,luaL_opt:H7,luaL_optinteger:Hd,luaL_optlstring:X7,luaL_pushresult:L7,luaL_typename:z7}=zn(),W7=oi(),{to_luastring:ii}=qn(),Xd=1,i0=2,PS=4,o0=Xd|i0,n0=function(e,t,n){return M7(e,t),U7(e,-n)!==E7},s0=function(e,t,n){if(G7(e,t)!==NS){let r=1;T7(e,t)&&(!(n&Xd)||n0(e,ii("__index",!0),++r))&&(!(n&i0)||n0(e,ii("__newindex",!0),++r))&&(!(n&PS)||n0(e,ii("__len",!0),++r))?ai(e,r):US(e,t,NS)}},Ld=function(e,t,n){return s0(e,t,n|PS),DS(e,t)},IS=function(e,t,n){on(e,1,n),I7(e,-1)||hf(e,ii("invalid value (%s) at index %d in table for 'concat'"),z7(e,-1),n),K7(t)},Y7=function(e){let t=Ld(e,1,o0)+1,n;switch(BS(e)){case 2:n=t;break;case 3:{n=pf(e,2),mf(e,1<=n&&n<=t,2,"position out of bounds");for(let r=t;r>n;r--)on(e,1,r-1),pa(e,1,r);break}default:return hf(e,"wrong number of arguments to 'insert'")}return pa(e,1,n),0},Q7=function(e){let t=Ld(e,1,o0),n=Hd(e,2,t);for(n!==t&&mf(e,1<=n&&n<=t+1,1,"position out of bounds"),on(e,1,n);n<t;n++)on(e,1,n+1),pa(e,1,n);return B7(e),pa(e,1,n),1},J7=function(e){let t=pf(e,2),n=pf(e,3),r=pf(e,4),s=MS(e,5)?1:5;if(s0(e,1,Xd),s0(e,s,i0),n>=t){mf(e,t>0||n<r0+t,3,"too many elements to move");let a=n-t+1;if(mf(e,r<=r0-a+1,4,"destination wrap around"),r>n||r<=t||s!==1&&CS(e,1,s,k7)!==1)for(let i=0;i<a;i++)on(e,1,t+i),pa(e,s,r+i);else for(let i=a-1;i>=0;i--)on(e,1,t+i),pa(e,s,r+i)}return ff(e,s),1},Z7=function(e){let t=Ld(e,1,Xd),n=X7(e,2,""),r=n.length,s=Hd(e,3,1);t=Hd(e,4,t);let a=new $7;for(q7(e,a);s<t;s++)IS(e,a,s),j7(a,n,r);return s===t&&IS(e,a,s),L7(a),1},ez=function(e){let t=BS(e);S7(e,t,1),R7(e,1);for(let n=t;n>=1;n--)pa(e,1,n);return C7(e,t),D7(e,1,ii("n")),1},tz=function(e){let t=Hd(e,2,1),n=H7(e,pf,3,DS(e,1));if(t>n)return 0;let r=n-t;if(r>=Number.MAX_SAFE_INTEGER||!v7(e,++r))return hf(e,ii("too many results to unpack"));for(;t<n;t++)on(e,1,t);return on(e,1,n),r},nz=function(){return Math.floor(Math.random()*4294967296)},rz=100,fu=function(e,t,n){pa(e,1,t),pa(e,1,n)},df=function(e,t,n){if(N7(e,2))return CS(e,t,n,A7);{ff(e,2),ff(e,t-1),ff(e,n-2),O7(e,2,1);let r=F7(e,-1);return ai(e,1),r}},sz=function(e,t,n){let r=t,s=n-1;for(;;){for(;on(e,1,++r),df(e,-1,-2);)r==n-1&&hf(e,ii("invalid order function for sorting")),ai(e,1);for(;on(e,1,--s),df(e,-3,-1);)s<r&&hf(e,ii("invalid order function for sorting")),ai(e,1);if(s<r)return ai(e,1),fu(e,n-1,r),r;fu(e,r,s)}},az=function(e,t,n){let r=Math.floor((t-e)/4),s=n%(r*2)+(e+r);return W7.lua_assert(e+r<=s&&s<=t-r),s},a0=function(e,t,n,r){for(;t<n;){if(on(e,1,t),on(e,1,n),df(e,-1,-2)?fu(e,t,n):ai(e,2),n-t==1)return;let s;if(n-t<rz||r===0?s=Math.floor((t+n)/2):s=az(t,n,r),on(e,1,s),on(e,1,t),df(e,-2,-1)?fu(e,s,t):(ai(e,1),on(e,1,n),df(e,-1,-2)?fu(e,s,n):ai(e,2)),n-t==2)return;on(e,1,s),ff(e,-1),on(e,1,n-1),fu(e,s,n-1),s=sz(e,t,n);let a;s-t<n-s?(a0(e,t,s-1,r),a=s-t,t=s+1):(a0(e,s+1,n,r),a=n-s,n=s-1),(n-t)/128>a&&(r=nz())}},iz=function(e){let t=Ld(e,1,o0);return t>1&&(mf(e,t<r0,1,"array too big"),MS(e,2)||US(e,2,w7),P7(e,2),a0(e,1,t,0)),0},oz={concat:Z7,insert:Y7,move:J7,pack:ez,remove:Q7,sort:iz,unpack:tz},lz=function(e){return V7(e,oz),1};FS.exports.luaopen_table=lz});var m0=T((poe,XS)=>{"use strict";var uz=require("fs"),{LUA_REGISTRYINDEX:yf,lua_getfield:c0,lua_gettop:cz,lua_isnone:fz,lua_isnoneornil:pz,lua_newuserdata:dz,lua_pop:mz,lua_pushliteral:zd,lua_pushnil:GS,lua_pushstring:hz,lua_pushvalue:Yd,lua_setfield:Wd,lua_tostring:yz,lua_touserdata:gz}=pn(),{LUA_FILEHANDLE:Qd,luaL_checkany:_z,luaL_checklstring:bz,luaL_checkudata:xz,luaL_error:f0,luaL_fileresult:p0,luaL_newlib:kz,luaL_newmetatable:Az,luaL_setfuncs:wz,luaL_setmetatable:Ez,luaL_testudata:Oz}=zn(),vz=oi(),{to_luastring:ws}=qn(),d0="_IO_",Sz=d0.length,$S=ws(d0+"input"),gf=ws(d0+"output"),Jd=function(e){return xz(e,1,Qd)},Zd=function(e){return e.closef===null},Tz=function(e){_z(e,1);let t=Oz(e,1,Qd);return t===null?GS(e):Zd(t)?zd(e,"closed file"):zd(e,"file"),1},Rz=function(e){let t=Jd(e);return Zd(t)?zd(e,"file (closed)"):hz(e,ws(`file (${t.f.toString()})`)),1},em=function(e){let t=Jd(e);return Zd(t)&&f0(e,ws("attempt to use a closed file")),vz.lua_assert(t.f),t.f},Nz=function(e){let t=dz(e);return t.f=null,t.closef=null,Ez(e,Qd),t},Iz=function(e){let t=Jd(e),n=t.closef;return t.closef=null,n(e)},jS=function(e){return fz(e,1)&&c0(e,yf,gf),em(e),Iz(e)},KS=function(e,t){c0(e,yf,t);let n=gz(e,-1);return Zd(n)&&f0(e,ws("standard %s file is closed"),t.subarray(Sz)),n.f},qS=function(e,t,n){return pz(e,1)||(yz(e,1)?f0(e,ws("opening files not yet implemented")):(em(e),Yd(e,1)),Wd(e,yf,t)),c0(e,yf,t),1},Cz=function(e){return qS(e,$S,"r")},Bz=function(e){return qS(e,gf,"w")},Mz=process.versions.node>6?e=>e:e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength),VS=function(e,t,n){let r=cz(e)-n,s=!0,a;for(;r--;n++){let i=bz(e,n);try{s=s&&uz.writeSync(t.fd,Mz(i),0,i.length)===i.length}catch(o){s=!1,a=o}}return s?1:p0(e,s,null,a)},Uz=function(e){return VS(e,KS(e,gf),1)},Dz=function(e){let t=em(e);return Yd(e,1),VS(e,t,2)},Pz=function(e){return KS(e,gf),p0(e,!0,null,null)},Fz=function(e){return em(e),p0(e,!0,null,null)},Gz={close:jS,flush:Pz,input:Cz,output:Bz,type:Tz,write:Uz},$z={close:jS,flush:Fz,write:Dz,__tostring:Rz},jz=function(e){Az(e,Qd),Yd(e,-1),Wd(e,-2,ws("__index",!0)),wz(e,$z,0),mz(e,1)},HS=function(e){let t=Jd(e);return t.closef=HS,GS(e),zd(e,"cannot close standard file"),2},u0=function(e,t,n,r){let s=Nz(e);s.f=t,s.closef=HS,n!==null&&(Yd(e,-1),Wd(e,yf,n)),Wd(e,-2,r)},Kz=function(e){return kz(e,Gz),jz(e),u0(e,process.stdin,$S,ws("stdin")),u0(e,process.stdout,gf,ws("stdout")),u0(e,process.stderr,null,ws("stderr")),1};XS.exports.luaopen_io=Kz});var WS=T((doe,zS)=>{"use strict";var LS=process.platform==="win32",qz=LS?/[^:]\\$/:/.\/$/;zS.exports=function(){var e;return LS?e=process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":e=process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",qz.test(e)&&(e=e.slice(0,-1)),e}});var cT=T((moe,da)=>{var ln=require("fs"),h0=require("path"),YS=require("crypto"),Vz=WS(),Es=process.binding("constants"),y0=Vz(),QS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_0=/XXXXXX/,ZS=3,eT=(Es.O_CREAT||Es.fs.O_CREAT)|(Es.O_EXCL||Es.fs.O_EXCL)|(Es.O_RDWR||Es.fs.O_RDWR),Hz=Es.EBADF||Es.os.errno.EBADF,Xz=Es.ENOENT||Es.os.errno.ENOENT,tT=448,nT=384,pu=[],rT=!1,b0=!1;function JS(e){var t=[],n=null;try{n=YS.randomBytes(e)}catch{n=YS.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(QS[n[r]%QS.length]);return t.join("")}function sT(e){return typeof e>"u"}function du(e,t){return typeof e=="function"?[t||{},e]:sT(e)?[{},t]:[e,t]}function aT(e){if(e.name)return h0.join(e.dir||y0,e.name);if(e.template)return e.template.replace(_0,JS(6));let t=[e.prefix||"tmp-",process.pid,JS(12),e.postfix||""].join("");return h0.join(e.dir||y0,t)}function x0(e,t){var n=du(e,t),r=n[0],s=n[1],a=r.name?1:r.tries||ZS;if(isNaN(a)||a<0)return s(new Error("Invalid tries"));if(r.template&&!r.template.match(_0))return s(new Error("Invalid template provided"));(function i(){let o=aT(r);ln.stat(o,function(l){if(!l)return a-- >0?i():s(new Error("Could not get a unique tmp filename, max tries reached "+o));s(null,o)})})()}function k0(e){var t=du(e),n=t[0],r=n.name?1:n.tries||ZS;if(isNaN(r)||r<0)throw new Error("Invalid tries");if(n.template&&!n.template.match(_0))throw new Error("Invalid template provided");do{let s=aT(n);try{ln.statSync(s)}catch{return s}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function Lz(e,t){var n=du(e,t),r=n[0],s=n[1];r.postfix=sT(r.postfix)?".tmp":r.postfix,x0(r,function(i,o){if(i)return s(i);ln.open(o,eT,r.mode||nT,function(u,c){if(u)return s(u);if(r.discardDescriptor)return ln.close(c,function(m){if(m){try{ln.unlinkSync(o)}catch(g){g0(g)||(m=g)}return s(m)}s(null,o,void 0,nm(o,-1,r))});if(r.detachDescriptor)return s(null,o,c,nm(o,-1,r));s(null,o,c,nm(o,c,r))})})}function zz(e){var t=du(e),n=t[0];n.postfix=n.postfix||".tmp";let r=n.discardDescriptor||n.detachDescriptor,s=k0(n);var a=ln.openSync(s,eT,n.mode||nT);return n.discardDescriptor&&(ln.closeSync(a),a=void 0),{name:s,fd:a,removeCallback:nm(s,r?-1:a,n)}}function Wz(e){let t=[e];do{for(var n=t.pop(),r=!1,s=ln.readdirSync(n),a=0,i=s.length;a<i;a++){var o=h0.join(n,s[a]),l=ln.lstatSync(o);l.isDirectory()?(r||(r=!0,t.push(n)),t.push(o)):ln.unlinkSync(o)}r||ln.rmdirSync(n)}while(t.length!==0)}function Yz(e,t){var n=du(e,t),r=n[0],s=n[1];x0(r,function(i,o){if(i)return s(i);ln.mkdir(o,r.mode||tT,function(u){if(u)return s(u);s(null,o,iT(o,r))})})}function Qz(e){var t=du(e),n=t[0];let r=k0(n);return ln.mkdirSync(r,n.mode||tT),{name:r,removeCallback:iT(r,n)}}function nm(e,t,n){let r=oT(function(a){try{0<=a[0]&&ln.closeSync(a[0])}catch(i){if(!Jz(i)&&!g0(i))throw i}try{ln.unlinkSync(a[1])}catch(i){if(!g0(i))throw i}},[t,e]);return n.keep||pu.unshift(r),r}function iT(e,t){let n=t.unsafeCleanup?Wz:ln.rmdirSync.bind(ln),r=oT(n,e);return t.keep||pu.unshift(r),r}function oT(e,t){var n=!1;return function r(s){if(!n){let a=pu.indexOf(r);a>=0&&pu.splice(a,1),n=!0,e(t)}s&&s(null)}}function lT(){if(!(b0&&!rT))for(;pu.length;)try{pu[0].call(null)}catch{}}function Jz(e){return uT(e,-Hz,"EBADF")}function g0(e){return uT(e,-Xz,"ENOENT")}function uT(e,t,n){return e.code==t||e.code==n}function Zz(){rT=!0}var tm=process.versions.node.split(".").map(function(e){return parseInt(e,10)});tm[0]===0&&(tm[1]<9||tm[1]===9&&tm[2]<5)&&process.addListener("uncaughtException",function(t){throw b0=!0,lT(),t});process.addListener("exit",function(t){t&&(b0=!0),lT()});da.exports.tmpdir=y0;da.exports.dir=Yz;da.exports.dirSync=Qz;da.exports.file=Lz;da.exports.fileSync=zz;da.exports.tmpName=x0;da.exports.tmpNameSync=k0;da.exports.setGracefulCleanup=Zz});var E0=T((hoe,_T)=>{"use strict";var{LUA_TNIL:e9,LUA_TTABLE:t9,lua_close:n9,lua_createtable:r9,lua_getfield:s9,lua_isboolean:a9,lua_isnoneornil:hT,lua_pop:i9,lua_pushboolean:o9,lua_pushfstring:l9,lua_pushinteger:yT,lua_pushliteral:u9,lua_pushnil:c9,lua_pushnumber:A0,lua_pushstring:f9,lua_setfield:p9,lua_settop:d9,lua_toboolean:fT,lua_tointegerx:m9}=pn(),{luaL_Buffer:h9,luaL_addchar:ma,luaL_addstring:hr,luaL_argerror:y9,luaL_buffinit:g9,luaL_checkinteger:_9,luaL_checkstring:rm,luaL_checktype:b9,luaL_error:sm,luaL_execresult:pT,luaL_fileresult:_f,luaL_newlib:x9,luaL_optinteger:k9,luaL_optlstring:A9,luaL_optstring:w9,luaL_pushresult:E9}=zn(),{luastring_eq:O9,to_jsstring:v9,to_luastring:je}=qn(),S9=je("aAbBcCdDeFhHIjklmMnpPrRStTuUwWxXyYzZ%"),li=function(e,t,n){yT(e,n),p9(e,-2,je(t,!0))},gT=function(e,t,n){li(e,"sec",n?t.getUTCSeconds():t.getSeconds()),li(e,"min",n?t.getUTCMinutes():t.getMinutes()),li(e,"hour",n?t.getUTCHours():t.getHours()),li(e,"day",n?t.getUTCDate():t.getDate()),li(e,"month",(n?t.getUTCMonth():t.getMonth())+1),li(e,"year",n?t.getUTCFullYear():t.getFullYear()),li(e,"wday",(n?t.getUTCDay():t.getDay())+1),li(e,"yday",Math.floor((t-new Date(t.getFullYear(),0,0))/864e5))},dT=Number.MAX_SAFE_INTEGER/2,mu=function(e,t,n,r){let s=s9(e,-1,je(t,!0)),a=m9(e,-1);if(a===!1){if(s!==e9)return sm(e,je("field '%s' is not an integer"),t);if(n<0)return sm(e,je("field '%s' missing in date table"),t);a=n}else{if(!(-dT<=a&&a<=dT))return sm(e,je("field '%s' is out-of-bound"),t);a-=r}return i9(e,1),a},dn={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(e=>je(e)),shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>je(e)),months:["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>je(e)),shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>je(e)),AM:je("AM"),PM:je("PM"),am:je("am"),pm:je("pm"),formats:{c:je("%a %b %e %H:%M:%S %Y"),D:je("%m/%d/%y"),F:je("%Y-%m-%d"),R:je("%H:%M"),r:je("%I:%M:%S %p"),T:je("%H:%M:%S"),X:je("%T"),x:je("%D")}},mT=function(e,t){let n=e.getDay();t==="monday"&&(n===0?n=6:n--);let r=(e-new Date(e.getFullYear(),0,1))/864e5;return Math.floor((r+7-n)/7)},Sn=function(e,t,n){t<10&&ma(e,n),hr(e,je(String(t)))},ha=function(e,t,n,r){let s=0;for(;s<n.length;)if(n[s]!==37)ma(t,n[s++]);else{s++;let a=T9(e,n,s);switch(n[s]){case 37:ma(t,37);break;case 65:hr(t,dn.days[r.getDay()]);break;case 66:hr(t,dn.months[r.getMonth()]);break;case 67:Sn(t,Math.floor(r.getFullYear()/100),48);break;case 68:ha(e,t,dn.formats.D,r);break;case 70:ha(e,t,dn.formats.F,r);break;case 72:Sn(t,r.getHours(),48);break;case 73:Sn(t,(r.getHours()+11)%12+1,48);break;case 77:Sn(t,r.getMinutes(),48);break;case 80:hr(t,r.getHours()<12?dn.am:dn.pm);break;case 82:ha(e,t,dn.formats.R,r);break;case 83:Sn(t,r.getSeconds(),48);break;case 84:ha(e,t,dn.formats.T,r);break;case 85:Sn(t,mT(r,"sunday"),48);break;case 87:Sn(t,mT(r,"monday"),48);break;case 88:ha(e,t,dn.formats.X,r);break;case 89:hr(t,je(String(r.getFullYear())));break;case 90:{let i=r.toString().match(/\(([\w\s]+)\)/);i&&hr(t,je(i[1]));break}case 97:hr(t,dn.shortDays[r.getDay()]);break;case 98:case 104:hr(t,dn.shortMonths[r.getMonth()]);break;case 99:ha(e,t,dn.formats.c,r);break;case 100:Sn(t,r.getDate(),48);break;case 101:Sn(t,r.getDate(),32);break;case 106:{let i=Math.floor((r-new Date(r.getFullYear(),0,1))/864e5);i<100&&(i<10&&ma(t,48),ma(t,48)),hr(t,je(String(i)));break}case 107:Sn(t,r.getHours(),32);break;case 108:Sn(t,(r.getHours()+11)%12+1,32);break;case 109:Sn(t,r.getMonth()+1,48);break;case 110:ma(t,10);break;case 112:hr(t,r.getHours()<12?dn.AM:dn.PM);break;case 114:ha(e,t,dn.formats.r,r);break;case 115:hr(t,je(String(Math.floor(r/1e3))));break;case 116:ma(t,8);break;case 117:{let i=r.getDay();hr(t,je(String(i===0?7:i)));break}case 119:hr(t,je(String(r.getDay())));break;case 120:ha(e,t,dn.formats.x,r);break;case 121:Sn(t,r.getFullYear()%100,48);break;case 122:{let i=r.getTimezoneOffset();i>0?ma(t,45):(i=-i,ma(t,43)),Sn(t,Math.floor(i/60),48),Sn(t,i%60,48);break}}s+=a}},T9=function(e,t,n){let r=S9,s=0,a=1;for(;s<r.length&&a<=t.length-n;s+=a)if(r[s]==="|".charCodeAt(0))a++;else if(O9(t.subarray(n,n+a),r.subarray(s,s+a)))return a;y9(e,1,l9(e,je("invalid conversion specifier '%%%s'"),t))},R9=function(e){let t=A9(e,1,"%c"),n=hT(e,2)?new Date:new Date(w0(e,2)*1e3),r=!1,s=0;if(t[s]==="!".charCodeAt(0)&&(r=!0,s++),t[s]==="*".charCodeAt(0)&&t[s+1]==="t".charCodeAt(0))r9(e,0,9),gT(e,n,r);else{let a=new Uint8Array(4);a[0]="%".charCodeAt(0);let i=new h9;g9(e,i),ha(e,i,t,n),E9(i)}return 1},N9=function(e){let t;return hT(e,1)?t=new Date:(b9(e,1,t9),d9(e,1),t=new Date(mu(e,"year",-1,0),mu(e,"month",-1,1),mu(e,"day",-1,0),mu(e,"hour",12,0),mu(e,"min",0,0),mu(e,"sec",0,0)),gT(e,t)),yT(e,Math.floor(t/1e3)),1},w0=function(e,t){return _9(e,t)},I9=function(e){let t=w0(e,1),n=w0(e,2);return A0(e,t-n),1},ya={date:R9,difftime:I9,time:N9};if(typeof process>"u")ya.clock=function(e){return A0(e,performance.now()/1e3),1};else{let e=require("fs"),t=cT(),n=require("child_process");ya.exit=function(s){let a;return a9(s,1)?a=fT(s,1)?0:1:a=k9(s,1,0),fT(s,2)&&n9(s),s&&process.exit(a),0},ya.getenv=function(s){let a=rm(s,1);return a=v9(a),Object.prototype.hasOwnProperty.call(process.env,a)?u9(s,process.env[a]):c9(s),1},ya.clock=function(s){return A0(s,process.uptime()),1};let r=function(){return t.tmpNameSync()};ya.remove=function(s){let a=rm(s,1);try{e.unlinkSync(a)}catch(i){if(i.code==="EISDIR")try{e.rmdirSync(a)}catch(o){return _f(s,!1,a,o)}else return _f(s,!1,a,i)}return _f(s,!0)},ya.rename=function(s){let a=rm(s,1),i=rm(s,2);try{e.renameSync(a,i)}catch(o){return _f(s,!1,!1,o)}return _f(s,!0)},ya.tmpname=function(s){let a=r();return a?(f9(s,je(a)),1):sm(s,je("unable to generate a unique filename"))},ya.execute=function(s){let a=w9(s,1,null);if(a!==null){try{n.execSync(a,{stdio:[process.stdin,process.stdout,process.stderr]})}catch(i){return pT(s,i)}return pT(s,null)}else return o9(s,1),1}}var C9=function(e){return x9(e,ya),1};_T.exports.luaopen_os=C9});var bT=T(am=>{(function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(i){return r(a(i),arguments)}function n(i,o){return t.apply(null,[i].concat(o||[]))}function r(i,o){var l=1,u=i.length,c,f="",m,g,y,w,S,R,B,P;for(m=0;m<u;m++)if(typeof i[m]=="string")f+=i[m];else if(typeof i[m]=="object"){if(y=i[m],y.keys)for(c=o[l],g=0;g<y.keys.length;g++){if(c==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[g],y.keys[g-1]));c=c[y.keys[g]]}else y.param_no?c=o[y.param_no]:c=o[l++];if(e.not_type.test(y.type)&&e.not_primitive.test(y.type)&&c instanceof Function&&(c=c()),e.numeric_arg.test(y.type)&&typeof c!="number"&&isNaN(c))throw new TypeError(t("[sprintf] expecting number but found %T",c));switch(e.number.test(y.type)&&(B=c>=0),y.type){case"b":c=parseInt(c,10).toString(2);break;case"c":c=String.fromCharCode(parseInt(c,10));break;case"d":case"i":c=parseInt(c,10);break;case"j":c=JSON.stringify(c,null,y.width?parseInt(y.width):0);break;case"e":c=y.precision?parseFloat(c).toExponential(y.precision):parseFloat(c).toExponential();break;case"f":c=y.precision?parseFloat(c).toFixed(y.precision):parseFloat(c);break;case"g":c=y.precision?String(Number(c.toPrecision(y.precision))):parseFloat(c);break;case"o":c=(parseInt(c,10)>>>0).toString(8);break;case"s":c=String(c),c=y.precision?c.substring(0,y.precision):c;break;case"t":c=String(!!c),c=y.precision?c.substring(0,y.precision):c;break;case"T":c=Object.prototype.toString.call(c).slice(8,-1).toLowerCase(),c=y.precision?c.substring(0,y.precision):c;break;case"u":c=parseInt(c,10)>>>0;break;case"v":c=c.valueOf(),c=y.precision?c.substring(0,y.precision):c;break;case"x":c=(parseInt(c,10)>>>0).toString(16);break;case"X":c=(parseInt(c,10)>>>0).toString(16).toUpperCase();break}e.json.test(y.type)?f+=c:(e.number.test(y.type)&&(!B||y.sign)?(P=B?"+":"-",c=c.toString().replace(e.sign,"")):P="",S=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",R=y.width-(P+c).length,w=y.width&&R>0?S.repeat(R):"",f+=y.align?P+c+w:S==="0"?P+w+c:w+P+c)}return f}var s=Object.create(null);function a(i){if(s[i])return s[i];for(var o=i,l,u=[],c=0;o;){if((l=e.text.exec(o))!==null)u.push(l[0]);else if((l=e.modulo.exec(o))!==null)u.push("%");else if((l=e.placeholder.exec(o))!==null){if(l[2]){c|=1;var f=[],m=l[2],g=[];if((g=e.key.exec(m))!==null)for(f.push(g[1]);(m=m.substring(g[0].length))!=="";)if((g=e.key_access.exec(m))!==null)f.push(g[1]);else if((g=e.index_access.exec(m))!==null)f.push(g[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");l[2]=f}else c|=2;if(c===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");u.push({placeholder:l[0],param_no:l[1],keys:l[2],sign:l[3],pad_char:l[4],align:l[5],width:l[6],precision:l[7],type:l[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");o=o.substring(l[0].length)}return s[i]=u}typeof am<"u"&&(am.sprintf=t,am.vsprintf=n),typeof window<"u"&&(window.sprintf=t,window.vsprintf=n,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:n}}))})()});var J0=T((goe,JT)=>{"use strict";var{sprintf:yu}=bT(),{LUA_INTEGER_FMT:B9,LUA_INTEGER_FRMLEN:bf,LUA_MININTEGER:M9,LUA_NUMBER_FMT:U9,LUA_NUMBER_FRMLEN:D9,frexp:P9,lua_getlocaledecpoint:F9}=Kn(),{LUA_TBOOLEAN:G9,LUA_TFUNCTION:G0,LUA_TNIL:$9,LUA_TNUMBER:BT,LUA_TSTRING:MT,LUA_TTABLE:UT,lua_call:j9,lua_createtable:K9,lua_dump:q9,lua_gettable:V9,lua_gettop:DT,lua_isinteger:H9,lua_isstring:X9,lua_pop:lm,lua_pushcclosure:L9,lua_pushinteger:Wr,lua_pushlightuserdata:z9,lua_pushliteral:$0,lua_pushlstring:T0,lua_pushnil:R0,lua_pushnumber:W9,lua_pushstring:vo,lua_pushvalue:N0,lua_remove:Y9,lua_setfield:Q9,lua_setmetatable:J9,lua_settop:PT,lua_toboolean:j0,lua_tointeger:Z9,lua_tonumber:e5,lua_tostring:FT,lua_touserdata:t5,lua_type:GT,lua_upvalueindex:n5}=pn(),{luaL_Buffer:ku,luaL_addchar:Tn,luaL_addlstring:gu,luaL_addsize:$T,luaL_addstring:hu,luaL_addvalue:kf,luaL_argcheck:zr,luaL_argerror:So,luaL_buffinit:cm,luaL_buffinitsize:jT,luaL_checkinteger:To,luaL_checknumber:I0,luaL_checkstack:K0,luaL_checkstring:vt,luaL_checktype:r5,luaL_error:yt,luaL_newlib:s5,luaL_optinteger:_u,luaL_optstring:a5,luaL_prepbuffsize:KT,luaL_pushresult:fm,luaL_pushresultsize:qT,luaL_tolstring:q0,luaL_typename:i5}=zn(),VT=oi(),{luastring_eq:HT,luastring_indexOf:pi,to_jsstring:o5,to_luastring:me}=qn(),l5="%",vs=l5.charCodeAt(0),u5=32,V0=2147483647,c5=function(e){let t=pi(e,0);return t>-1?t:e.length},bu=function(e,t){return e>=0?e:0-e>t?0:t+e+1},f5=function(e){let t=vt(e,1),n=t.length,r=bu(To(e,2),n),s=bu(_u(e,3,-1),n);return r<1&&(r=1),s>n&&(s=n),r<=s?vo(e,t.subarray(r-1,r-1+(s-r+1))):$0(e,""),1},p5=function(e){return Wr(e,vt(e,1).length),1},d5=function(e){let t=DT(e),n=new ku,r=jT(e,n,t);for(let s=1;s<=t;s++){let a=To(e,s);zr(e,a>=0&&a<=255,"value out of range"),r[s-1]=a}return qT(n,t),1},m5=function(e,t,n,r){return gu(r,t,n),0},h5=function(e){let t=new ku,n=j0(e,2);return r5(e,1,G0),PT(e,1),cm(e,t),q9(e,m5,t,n)!==0?yt(e,me("unable to dump given function")):(fm(t),1)},xT=D9.length+1,kT=1,y5=function(e){if(Object.is(e,1/0))return me("inf");if(Object.is(e,-1/0))return me("-inf");if(Number.isNaN(e))return me("nan");if(e===0){let t=yu(U9+"x0p+0",e);return Object.is(e,-0)&&(t="-"+t),me(t)}else{let t="",n=P9(e),r=n[0],s=n[1];return r<0&&(t+="-",r=-r),t+="0x",t+=(r*(1<<kT)).toString(16),s-=kT,t+=yu("p%+d",s),me(t)}},XT=function(e,t,n){let r=y5(n);if(t[xT]===65)for(let s=0;s<r.length;s++){let a=r[s];a>=97&&(r[s]=a&223)}else t[xT]!==97&&yt(e,me("modifiers for format '%%a'/'%%A' not implemented"));return r},AT=me("-+ #0"),wT=e=>97<=e&&e<=122||65<=e&&e<=90,Os=e=>48<=e&&e<=57,C0=e=>0<=e&&e<=31||e===127,B0=e=>33<=e&&e<=126,M0=e=>97<=e&&e<=122,U0=e=>65<=e&&e<=90,D0=e=>97<=e&&e<=122||65<=e&&e<=90||48<=e&&e<=57,ET=e=>B0(e)&&!D0(e),OT=e=>e===32||e>=9&&e<=13,vT=e=>48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102,g5=function(e,t,n){Tn(e,34);let r=0;for(;n--;){if(t[r]===34||t[r]===92||t[r]===10)Tn(e,92),Tn(e,t[r]);else if(C0(t[r])){let s=""+t[r];Os(t[r+1])&&(s="0".repeat(3-s.length)+s),hu(e,me("\\"+s))}else Tn(e,t[r]);r++}Tn(e,34)},_5=function(e){if(pi(e,46)<0){let t=F9(),n=pi(e,t);n&&(e[n]=46)}},b5=function(e,t,n){switch(GT(e,n)){case MT:{let r=FT(e,n);g5(t,r,r.length);break}case BT:{let r;if(H9(e,n)){let s=Z9(e,n),a=s===M9?"0x%"+bf+"x":B9;r=me(yu(a,s))}else{let s=e5(e,n);r=XT(e,me(`%${bf}a`),s),_5(r)}hu(t,r);break}case $9:case G9:{q0(e,n),kf(t);break}default:So(e,n,me("value has no literal form"))}},x5=function(e,t,n,r){let s=n;for(;t[s]!==0&&pi(AT,t[s])>=0;)s++;s-n>=AT.length&&yt(e,me("invalid format (repeated flags)")),Os(t[s])&&s++,Os(t[s])&&s++,t[s]===46&&(s++,Os(t[s])&&s++,Os(t[s])&&s++),Os(t[s])&&yt(e,me("invalid format (width or precision too long)")),r[0]=37;for(let a=0;a<s-n+1;a++)r[a+1]=t[n+a];return s},O0=function(e,t){let n=e.length,r=t.length,s=e[n-1];for(let a=0;a<r;a++)e[a+n-1]=t[a];e[n+r-1]=s},k5=function(e){let t=DT(e),n=1,r=vt(e,n),s=0,a=new ku;for(cm(e,a);s<r.length;)if(r[s]!==vs)Tn(a,r[s++]);else if(r[++s]===vs)Tn(a,r[s++]);else{let i=[];switch(++n>t&&So(e,n,me("no value")),s=x5(e,r,s,i),String.fromCharCode(r[s++])){case"c":{Tn(a,To(e,n));break}case"d":case"i":case"o":case"u":case"x":case"X":{let o=To(e,n);O0(i,me(bf,!0)),hu(a,me(yu(String.fromCharCode(...i),o)));break}case"a":case"A":{O0(i,me(bf,!0)),hu(a,XT(e,i,I0(e,n)));break}case"e":case"E":case"f":case"g":case"G":{let o=I0(e,n);O0(i,me(bf,!0)),hu(a,me(yu(String.fromCharCode(...i),o)));break}case"q":{b5(e,a,n);break}case"s":{let o=q0(e,n);i.length<=2||i[2]===0?kf(a):(zr(e,o.length===c5(o),n,"string contains zeros"),pi(i,46)<0&&o.length>=100?kf(a):(hu(a,me(yu(String.fromCharCode(...i),o5(o)))),lm(e,1)));break}default:return yt(e,me("invalid option '%%%c' to 'format'"),r[s-1])}}return fm(a),1},v0=0,ST=16,fi=4,xu=8,om=(1<<xu)-1,A5=8,Af=class{constructor(t){this.L=t,this.islittle=!0,this.maxalign=1}},ci=0,ui=1,xf=2,wf=3,pm=4,dm=5,H0=6,mm=7,X0=8,TT=Os,LT=function(e,t){if(e.off>=e.s.length||!TT(e.s[e.off]))return t;{let n=0;do n=n*10+(e.s[e.off++]-48);while(e.off<e.s.length&&TT(e.s[e.off])&&n<=(V0-9)/10);return n}},im=function(e,t,n){let r=LT(t,n);return(r>ST||r<=0)&&yt(e.L,me("integral size (%d) out of limits [1,%d]"),r,ST),r},RT=function(e,t){let n={opt:t.s[t.off++],size:0};switch(n.opt){case 98:return n.size=1,n.opt=ci,n;case 66:return n.size=1,n.opt=ui,n;case 104:return n.size=2,n.opt=ci,n;case 72:return n.size=2,n.opt=ui,n;case 108:return n.size=4,n.opt=ci,n;case 76:return n.size=4,n.opt=ui,n;case 106:return n.size=4,n.opt=ci,n;case 74:return n.size=4,n.opt=ui,n;case 84:return n.size=4,n.opt=ui,n;case 102:return n.size=4,n.opt=xf,n;case 100:return n.size=8,n.opt=xf,n;case 110:return n.size=8,n.opt=xf,n;case 105:return n.size=im(e,t,4),n.opt=ci,n;case 73:return n.size=im(e,t,4),n.opt=ui,n;case 115:return n.size=im(e,t,4),n.opt=pm,n;case 99:return n.size=LT(t,-1),n.size===-1&&yt(e.L,me("missing size for format option 'c'")),n.opt=wf,n;case 122:return n.opt=dm,n;case 120:return n.size=1,n.opt=H0,n;case 88:return n.opt=mm,n;case 32:break;case 60:e.islittle=!0;break;case 62:e.islittle=!1;break;case 61:e.islittle=!0;break;case 33:e.maxalign=im(e,t,A5);break;default:yt(e.L,me("invalid format option '%c'"),n.opt)}return n.opt=X0,n},L0=function(e,t,n){let r={opt:NaN,size:NaN,ntoalign:NaN},s=RT(e,n);r.size=s.size,r.opt=s.opt;let a=r.size;if(r.opt===mm)if(n.off>=n.s.length||n.s[n.off]===0)So(e.L,1,me("invalid next option for option 'X'"));else{let i=RT(e,n);a=i.size,i=i.opt,(i===wf||a===0)&&So(e.L,1,me("invalid next option for option 'X'"))}return a<=1||r.opt===wf?r.ntoalign=0:(a>e.maxalign&&(a=e.maxalign),a&a-1&&So(e.L,1,me("format asks for alignment not power of 2")),r.ntoalign=a-(t&a-1)&a-1),r},S0=function(e,t,n,r,s){let a=KT(e,r);a[n?0:r-1]=t&om;for(let i=1;i<r;i++)t>>=xu,a[n?i:r-1-i]=t&om;if(s&&r>fi)for(let i=fi;i<r;i++)a[n?i:r-1-i]=om;$T(e,r)},w5=function(e){let t=new ku,n=new Af(e),r={s:vt(e,1),off:0},s=1,a=0;for(R0(e),cm(e,t);r.off<r.s.length;){let i=L0(n,a,r),o=i.opt,l=i.size,u=i.ntoalign;for(a+=u+l;u-- >0;)Tn(t,v0);switch(s++,o){case ci:{let c=To(e,s);if(l<fi){let f=1<<l*8-1;zr(e,-f<=c&&c<f,s,"integer overflow")}S0(t,c,n.islittle,l,c<0);break}case ui:{let c=To(e,s);l<fi&&zr(e,c>>>0<1<<l*xu,s,"unsigned overflow"),S0(t,c>>>0,n.islittle,l,!1);break}case xf:{let c=KT(t,l),f=I0(e,s),m=new DataView(c.buffer,c.byteOffset,c.byteLength);l===4?m.setFloat32(0,f,n.islittle):m.setFloat64(0,f,n.islittle),$T(t,l);break}case wf:{let c=vt(e,s),f=c.length;for(zr(e,f<=l,s,"string longer than given size"),gu(t,c,f);f++<l;)Tn(t,v0);break}case pm:{let c=vt(e,s),f=c.length;zr(e,l>=4||f<1<<l*xu,s,"string length does not fit in given size"),S0(t,f,n.islittle,l,0),gu(t,c,f),a+=f;break}case dm:{let c=vt(e,s),f=c.length;zr(e,pi(c,0)<0,s,"strings contains zeros"),gu(t,c,f),Tn(t,0),a+=f+1;break}case H0:Tn(t,v0);case mm:case X0:s--;break}}return fm(t),1},E5=function(e){let t=vt(e,1),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t[n-1-s];return vo(e,r),1},O5=function(e){let t=vt(e,1),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++){let a=t[s];U0(a)&&(a=a|32),r[s]=a}return vo(e,r),1},v5=function(e){let t=vt(e,1),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++){let a=t[s];M0(a)&&(a=a&223),r[s]=a}return vo(e,r),1},S5=function(e){let t=vt(e,1),n=t.length,r=To(e,2),s=a5(e,3,""),a=s.length;if(r<=0)$0(e,"");else{if(n+a<n||n+a>V0/r)return yt(e,me("resulting string too large"));{let i=r*n+(r-1)*a,o=new ku,l=jT(e,o,i),u=0;for(;r-- >1;)l.set(t,u),u+=n,a>0&&(l.set(s,u),u+=a);l.set(t,u),qT(o,i)}}return 1},T5=function(e){let t=vt(e,1),n=t.length,r=bu(_u(e,2,1),n),s=bu(_u(e,3,r),n);if(r<1&&(r=1),s>n&&(s=n),r>s)return 0;if(s-r>=Number.MAX_SAFE_INTEGER)return yt(e,"string slice too long");let a=s-r+1;K0(e,a,"string slice too long");for(let i=0;i<a;i++)Wr(e,t[r+i-1]);return a},R5=function(e){let t=new Af(e),n={s:vt(e,1),off:0},r=0;for(;n.off<n.s.length;){let s=L0(t,r,n),a=s.opt,i=s.size,o=s.ntoalign;switch(i+=o,zr(e,r<=V0-i,1,"format result too large"),r+=i,a){case pm:case dm:So(e,1,"variable-length format");default:break}}return Wr(e,r),1},NT=function(e,t,n,r,s){let a=0,i=r<=fi?r:fi;for(let o=i-1;o>=0;o--)a<<=xu,a|=t[n?o:r-1-o];if(r<fi){if(s){let o=1<<r*xu-1;a=(a^o)-o}}else if(r>fi){let o=!s||a>=0?0:om;for(let l=i;l<r;l++)t[n?l:r-1-l]!==o&&yt(e,me("%d-byte integer does not fit into Lua Integer"),r)}return a},N5=function(e,t,n,r){VT.lua_assert(t.length>=r);let s=new DataView(new ArrayBuffer(r));for(let a=0;a<r;a++)s.setUint8(a,t[a],n);return r==4?s.getFloat32(0,n):s.getFloat64(0,n)},I5=function(e){let t=new Af(e),n={s:vt(e,1),off:0},r=vt(e,2),s=r.length,a=bu(_u(e,3,1),s)-1,i=0;for(zr(e,a<=s&&a>=0,3,"initial position out of string");n.off<n.s.length;){let o=L0(t,a,n),l=o.opt,u=o.size,c=o.ntoalign;switch(a+c+u>s&&So(e,2,me("data string too short")),a+=c,K0(e,2,"too many results"),i++,l){case ci:case ui:{let f=NT(e,r.subarray(a),t.islittle,u,l===ci);Wr(e,f);break}case xf:{let f=N5(e,r.subarray(a),t.islittle,u);W9(e,f);break}case wf:{vo(e,r.subarray(a,a+u));break}case pm:{let f=NT(e,r.subarray(a),t.islittle,u,0);zr(e,a+f+u<=s,2,"data string too short"),vo(e,r.subarray(a+u,a+u+f)),a+=f;break}case dm:{let f=pi(r,0,a);f===-1&&(f=r.length-a),vo(e,r.subarray(a,f)),a=f+1;break}case mm:case H0:case X0:i--;break}a+=u}return Wr(e,a+1),i+1},Of=-1,zT=-2,WT=200,C5=me("^$*+?.([%-"),Ef=class{constructor(t){this.src=null,this.src_init=null,this.src_end=null,this.p=null,this.p_end=null,this.L=t,this.matchdepth=NaN,this.level=NaN,this.capture=[]}},B5=function(e,t){return t=t-49,t<0||t>=e.level||e.capture[t].len===Of?yt(e.L,me("invalid capture index %%%d"),t+1):t},M5=function(e){let t=e.level;for(t--;t>=0;t--)if(e.capture[t].len===Of)return t;return yt(e.L,me("invalid pattern capture"))},IT=function(e,t){switch(e.p[t++]){case vs:return t===e.p_end&&yt(e.L,me("malformed pattern (ends with '%%')")),t+1;case 91:{e.p[t]===94&&t++;do t===e.p_end&&yt(e.L,me("malformed pattern (missing ']')")),e.p[t++]===vs&&t<e.p_end&&t++;while(e.p[t]!==93);return t+1}default:return t}},YT=function(e,t){switch(t){case 97:return wT(e);case 65:return!wT(e);case 99:return C0(e);case 67:return!C0(e);case 100:return Os(e);case 68:return!Os(e);case 103:return B0(e);case 71:return!B0(e);case 108:return M0(e);case 76:return!M0(e);case 112:return ET(e);case 80:return!ET(e);case 115:return OT(e);case 83:return!OT(e);case 117:return U0(e);case 85:return!U0(e);case 119:return D0(e);case 87:return!D0(e);case 120:return vT(e);case 88:return!vT(e);case 122:return e===0;case 90:return e!==0;default:return t===e}},P0=function(e,t,n,r){let s=!0;for(e.p[n+1]===94&&(s=!1,n++);++n<r;)if(e.p[n]===vs){if(n++,YT(t,e.p[n]))return s}else if(e.p[n+1]===45&&n+2<r){if(n+=2,e.p[n-2]<=t&&t<=e.p[n])return s}else if(e.p[n]===t)return s;return!s},z0=function(e,t,n,r){if(t>=e.src_end)return!1;{let s=e.src[t];switch(e.p[n]){case 46:return!0;case vs:return YT(s,e.p[n+1]);case 91:return P0(e,s,n,r-1);default:return e.p[n]===s}}},U5=function(e,t,n){if(n>=e.p_end-1&&yt(e.L,me("malformed pattern (missing arguments to '%%b'")),e.src[t]!==e.p[n])return null;{let r=e.p[n],s=e.p[n+1],a=1;for(;++t<e.src_end;)if(e.src[t]===s){if(--a===0)return t+1}else e.src[t]===r&&a++}return null},D5=function(e,t,n,r){let s=0;for(;z0(e,t+s,n,r);)s++;for(;s>=0;){let a=di(e,t+s,r+1);if(a)return a;s--}return null},P5=function(e,t,n,r){for(;;){let s=di(e,t,r+1);if(s!==null)return s;if(z0(e,t,n,r))t++;else return null}},CT=function(e,t,n,r){let s=e.level;s>=u5&&yt(e.L,me("too many captures")),e.capture[s]=e.capture[s]?e.capture[s]:{},e.capture[s].init=t,e.capture[s].len=r,e.level=s+1;let a;return(a=di(e,t,n))===null&&e.level--,a},F5=function(e,t,n){let r=M5(e);e.capture[r].len=t-e.capture[r].init;let s;return(s=di(e,t,n))===null&&(e.capture[r].len=Of),s},G5=function(e,t,n,r,s){return HT(e.subarray(t,t+s),n.subarray(r,r+s))},$5=function(e,t,n){n=B5(e,n);let r=e.capture[n].len;return e.src_end-t>=r&&G5(e.src,e.capture[n].init,e.src,t,r)?t+r:null},di=function(e,t,n){let r=!1,s=!0;for(e.matchdepth--===0&&yt(e.L,me("pattern too complex"));s||r;)if(s=!1,n!==e.p_end)switch(r?void 0:e.p[n]){case 40:{e.p[n+1]===41?t=CT(e,t,n+2,zT):t=CT(e,t,n+1,Of);break}case 41:{t=F5(e,t,n+1);break}case 36:{if(n+1!==e.p_end){r=!0;break}t=e.src.length-t===0?t:null;break}case vs:{switch(e.p[n+1]){case 98:{t=U5(e,t,n+2),t!==null&&(n+=4,s=!0);break}case 102:{n+=2,e.p[n]!==91&&yt(e.L,me("missing '[' after '%%f' in pattern"));let a=IT(e,n),i=t===e.src_init?0:e.src[t-1];if(!P0(e,i,n,a-1)&&P0(e,t===e.src_end?0:e.src[t],n,a-1)){n=a,s=!0;break}t=null;break}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:{t=$5(e,t,e.p[n+1]),t!==null&&(n+=2,s=!0);break}default:r=!0}break}default:{r=!1;let a=IT(e,n);if(z0(e,t,n,a))switch(e.p[a]){case 63:{let i;(i=di(e,t+1,a+1))!==null?t=i:(n=a+1,s=!0);break}case 43:t++;case 42:t=D5(e,t,n,a);break;case 45:t=P5(e,t,n,a);break;default:t++,n=a,s=!0}else if(e.p[a]===42||e.p[a]===63||e.p[a]===45){n=a+1,s=!0;break}else t=null;break}}return e.matchdepth++,t},W0=function(e,t,n,r){if(t>=e.level)t===0?T0(e.L,e.src.subarray(n,r),r-n):yt(e.L,me("invalid capture index %%%d"),t+1);else{let s=e.capture[t].len;s===Of&&yt(e.L,me("unfinished capture")),s===zT?Wr(e.L,e.capture[t].init-e.src_init+1):T0(e.L,e.src.subarray(e.capture[t].init),s)}},um=function(e,t,n){let r=e.level===0&&e.src.subarray(t)?1:e.level;K0(e.L,r,"too many captures");for(let s=0;s<r;s++)W0(e,s,t,n);return r},j5=function(e,t){for(let n=0;n<t;n++)if(pi(C5,e[n])!==-1)return!1;return!0},Y0=function(e,t,n,r,s,a){e.L=t,e.matchdepth=WT,e.src=n,e.src_init=0,e.src_end=r,e.p=s,e.p_end=a},Q0=function(e){e.level=0,VT.lua_assert(e.matchdepth===WT)},K5=function(e,t,n){var r=n>>>0,s=t.length;if(s===0)return r;for(;(r=e.indexOf(t[0],r))!==-1;r++)if(HT(e.subarray(r,r+s),t))return r;return-1},QT=function(e,t){let n=vt(e,1),r=vt(e,2),s=n.length,a=r.length,i=bu(_u(e,3,1),s);if(i<1)i=1;else if(i>s+1)return R0(e),1;if(t&&(j0(e,4)||j5(r,a))){let o=K5(n.subarray(i-1),r,0);if(o>-1)return Wr(e,i+o),Wr(e,i+o+a-1),2}else{let o=new Ef(e),l=i-1,u=r[0]===94;u&&(r=r.subarray(1),a--),Y0(o,e,n,s,r,a);do{let c;if(Q0(o),(c=di(o,l,0))!==null)return t?(Wr(e,l+1),Wr(e,c),um(o,null,0)+2):um(o,l,c)}while(l++<o.src_end&&!u)}return R0(e),1},q5=function(e){return QT(e,1)},V5=function(e){return QT(e,0)},F0=class{constructor(){this.src=NaN,this.p=NaN,this.lastmatch=NaN,this.ms=new Ef}},H5=function(e){let t=t5(e,n5(3));t.ms.L=e;for(let n=t.src;n<=t.ms.src_end;n++){Q0(t.ms);let r;if((r=di(t.ms,n,t.p))!==null&&r!==t.lastmatch)return t.src=t.lastmatch=r,um(t.ms,n,r)}return 0},X5=function(e){let t=vt(e,1),n=vt(e,2),r=t.length,s=n.length;PT(e,2);let a=new F0;return z9(e,a),Y0(a.ms,e,t,r,n,s),a.src=0,a.p=0,a.lastmatch=null,L9(e,H5,3),1},L5=function(e,t,n,r){let s=e.L,a=FT(s,3),i=a.length;for(let o=0;o<i;o++)a[o]!==vs?Tn(t,a[o]):(o++,Os(a[o])?a[o]===48?gu(t,e.src.subarray(n,r),r-n):(W0(e,a[o]-49,n,r),q0(s,-1),Y9(s,-2),kf(t)):(a[o]!==vs&&yt(s,me("invalid use of '%c' in replacement string"),vs),Tn(t,a[o])))},z5=function(e,t,n,r,s){let a=e.L;switch(s){case G0:{N0(a,3);let i=um(e,n,r);j9(a,i,1);break}case UT:{W0(e,0,n,r),V9(a,3);break}default:{L5(e,t,n,r);return}}j0(a,-1)?X9(a,-1)||yt(a,me("invalid replacement value (a %s)"),i5(a,-1)):(lm(a,1),T0(a,e.src.subarray(n,r),r-n)),kf(t)},W5=function(e){let t=vt(e,1),n=t.length,r=vt(e,2),s=r.length,a=null,i=GT(e,3),o=_u(e,4,n+1),l=r[0]===94,u=0,c=new Ef(e),f=new ku;for(zr(e,i===BT||i===MT||i===G0||i===UT,3,"string/function/table expected"),cm(e,f),l&&(r=r.subarray(1),s--),Y0(c,e,t,n,r,s),t=0,r=0;u<o;){let m;if(Q0(c),(m=di(c,t,r))!==null&&m!==a)u++,z5(c,f,t,m,i),t=a=m;else if(t<c.src_end)Tn(f,c.src[t++]);else break;if(l)break}return gu(f,c.src.subarray(t,c.src_end),c.src_end-t),fm(f),Wr(e,u),2},Y5={byte:T5,char:d5,dump:h5,find:q5,format:k5,gmatch:X5,gsub:W5,len:p5,lower:O5,match:V5,pack:w5,packsize:R5,rep:S5,reverse:E5,sub:f5,unpack:I5,upper:v5},Q5=function(e){K9(e,0,1),$0(e,""),N0(e,-2),J9(e,-2),lm(e,1),N0(e,-2),Q9(e,-2,me("__index",!0)),lm(e,1)},J5=function(e){return s5(e,Y5),Q5(e),1};JT.exports.luaopen_string=J5});var tb=T((_oe,rR)=>{"use strict";var{lua_gettop:Z5,lua_pushcfunction:eW,lua_pushfstring:tW,lua_pushinteger:Ro,lua_pushnil:eR,lua_pushstring:nW,lua_pushvalue:rW,lua_setfield:sW,lua_tointeger:aW}=pn(),{luaL_Buffer:iW,luaL_addvalue:oW,luaL_argcheck:wu,luaL_buffinit:lW,luaL_checkinteger:tR,luaL_checkstack:uW,luaL_checkstring:Tf,luaL_error:hm,luaL_newlib:cW,luaL_optinteger:vf,luaL_pushresult:fW}=zn(),{luastring_of:pW,to_luastring:Z0}=qn(),nR=1114111,Au=function(e){return(e&192)===128},Sf=function(e,t){return e>=0?e:0-e>t?0:t+e+1},dW=[255,127,2047,65535],eb=function(e,t){let n=e[t],r=0;if(n<128)r=n;else{let s=0;for(;n&64;){let a=e[t+ ++s];if((a&192)!==128)return null;r=r<<6|a&63,n<<=1}if(r|=(n&127)<<s*5,s>3||r>nR||r<=dW[s])return null;t+=s}return{code:r,pos:t+1}},mW=function(e){let t=0,n=Tf(e,1),r=n.length,s=Sf(vf(e,2,1),r),a=Sf(vf(e,3,-1),r);for(wu(e,1<=s&&--s<=r,2,"initial position out of string"),wu(e,--a<r,3,"final position out of string");s<=a;){let i=eb(n,s);if(i===null)return eR(e),Ro(e,s+1),2;s=i.pos,t++}return Ro(e,t),1},hW=Z0("%U"),ZT=function(e,t){let n=tR(e,t);wu(e,0<=n&&n<=nR,t,"value out of range"),tW(e,hW,n)},yW=function(e){let t=Z5(e);if(t===1)ZT(e,1);else{let n=new iW;lW(e,n);for(let r=1;r<=t;r++)ZT(e,r),oW(n);fW(n)}return 1},gW=function(e){let t=Tf(e,1),n=tR(e,2),r=n>=0?1:t.length+1;if(r=Sf(vf(e,3,r),t.length),wu(e,1<=r&&--r<=t.length,3,"position out of range"),n===0)for(;r>0&&Au(t[r]);)r--;else if(Au(t[r])&&hm(e,"initial position is a continuation byte"),n<0)for(;n<0&&r>0;){do r--;while(r>0&&Au(t[r]));n++}else for(n--;n>0&&r<t.length;){do r++;while(Au(t[r]));n--}return n===0?Ro(e,r+1):eR(e),1},_W=function(e){let t=Tf(e,1),n=Sf(vf(e,2,1),t.length),r=Sf(vf(e,3,n),t.length);if(wu(e,n>=1,2,"out of range"),wu(e,r<=t.length,3,"out of range"),n>r)return 0;if(r-n>=Number.MAX_SAFE_INTEGER)return hm(e,"string slice too long");let s=r-n+1;for(uW(e,s,"string slice too long"),s=0,n-=1;n<r;){let a=eb(t,n);if(a===null)return hm(e,"invalid UTF-8 code");Ro(e,a.code),n=a.pos,s++}return s},bW=function(e){let t=Tf(e,1),n=t.length,r=aW(e,2)-1;if(r<0)r=0;else if(r<n)for(r++;Au(t[r]);)r++;if(r>=n)return 0;{let s=eb(t,r);return s===null||Au(t[s.pos])?hm(e,Z0("invalid UTF-8 code")):(Ro(e,r+1),Ro(e,s.code),2)}},xW=function(e){return Tf(e,1),eW(e,bW),rW(e,1),Ro(e,0),3},kW={char:yW,codepoint:_W,codes:xW,len:mW,offset:gW},AW=pW(91,0,45,127,194,45,244,93,91,128,45,191,93,42),wW=function(e){return cW(e,kW),nW(e,AW),sW(e,-2,Z0("charpattern",!0)),1};rR.exports.luaopen_utf8=wW});var ib=T((boe,pR)=>{"use strict";var{LUA_OPLT:aR,LUA_TNUMBER:EW,lua_compare:iR,lua_gettop:rb,lua_isinteger:Io,lua_isnoneornil:OW,lua_pushboolean:vW,lua_pushinteger:Co,lua_pushliteral:sR,lua_pushnil:oR,lua_pushnumber:$t,lua_pushvalue:lR,lua_setfield:ym,lua_settop:sb,lua_tointeger:nb,lua_tointegerx:SW,lua_type:TW}=pn(),{luaL_argcheck:_m,luaL_argerror:RW,luaL_checkany:uR,luaL_checkinteger:Rf,luaL_checknumber:jt,luaL_error:NW,luaL_newlib:IW,luaL_optnumber:CW}=zn(),{LUA_MAXINTEGER:cR,LUA_MININTEGER:BW,lua_numbertointeger:MW}=Kn(),{to_luastring:gm}=qn(),No,fR=function(){return No=1103515245*No+12345&2147483647,No},UW=function(e){No=e|0,No===0&&(No=1)},DW=function(e){let t,n,r=No===void 0?Math.random():fR()/2147483648;switch(rb(e)){case 0:return $t(e,r),1;case 1:{t=1,n=Rf(e,1);break}case 2:{t=Rf(e,1),n=Rf(e,2);break}default:return NW(e,"wrong number of arguments")}return _m(e,t<=n,1,"interval is empty"),_m(e,t>=0||n<=cR+t,1,"interval too large"),r*=n-t+1,Co(e,Math.floor(r)+t),1},PW=function(e){return UW(jt(e,1)),fR(),0},FW=function(e){if(Io(e,1)){let t=nb(e,1);t<0&&(t=-t|0),Co(e,t)}else $t(e,Math.abs(jt(e,1)));return 1},GW=function(e){return $t(e,Math.sin(jt(e,1))),1},$W=function(e){return $t(e,Math.cos(jt(e,1))),1},jW=function(e){return $t(e,Math.tan(jt(e,1))),1},KW=function(e){return $t(e,Math.asin(jt(e,1))),1},qW=function(e){return $t(e,Math.acos(jt(e,1))),1},VW=function(e){let t=jt(e,1),n=CW(e,2,1);return $t(e,Math.atan2(t,n)),1},HW=function(e){let t=SW(e,1);return t!==!1?Co(e,t):(uR(e,1),oR(e)),1},ab=function(e,t){let n=MW(t);n!==!1?Co(e,n):$t(e,t)},XW=function(e){return Io(e,1)?sb(e,1):ab(e,Math.floor(jt(e,1))),1},LW=function(e){return Io(e,1)?sb(e,1):ab(e,Math.ceil(jt(e,1))),1},zW=function(e){return $t(e,Math.sqrt(jt(e,1))),1},WW=function(e){let t=Rf(e,1),n=Rf(e,2);return vW(e,t>=0?n<0||t<n:n<0&&t<n),1},YW=function(e){let t=jt(e,1),n;if(OW(e,2))n=Math.log(t);else{let r=jt(e,2);r===2?n=Math.log2(t):r===10?n=Math.log10(t):n=Math.log(t)/Math.log(r)}return $t(e,n),1},QW=function(e){return $t(e,Math.exp(jt(e,1))),1},JW=function(e){return $t(e,jt(e,1)*(180/Math.PI)),1},ZW=function(e){return $t(e,jt(e,1)*(Math.PI/180)),1},eY=function(e){let t=rb(e),n=1;_m(e,t>=1,1,"value expected");for(let r=2;r<=t;r++)iR(e,r,n,aR)&&(n=r);return lR(e,n),1},tY=function(e){let t=rb(e),n=1;_m(e,t>=1,1,"value expected");for(let r=2;r<=t;r++)iR(e,n,r,aR)&&(n=r);return lR(e,n),1},nY=function(e){return TW(e,1)===EW?Io(e,1)?sR(e,"integer"):sR(e,"float"):(uR(e,1),oR(e)),1},rY=function(e){if(Io(e,1)&&Io(e,2)){let t=nb(e,2);t===0?RW(e,2,"zero"):Co(e,nb(e,1)%t|0)}else{let t=jt(e,1),n=jt(e,2);$t(e,t%n)}return 1},sY=function(e){if(Io(e,1))sb(e,1),$t(e,0);else{let t=jt(e,1),n=t<0?Math.ceil(t):Math.floor(t);ab(e,n),$t(e,t===n?0:t-n)}return 2},aY={abs:FW,acos:qW,asin:KW,atan:VW,ceil:LW,cos:$W,deg:JW,exp:QW,floor:XW,fmod:rY,log:YW,max:tY,min:eY,modf:sY,rad:ZW,random:DW,randomseed:PW,sin:GW,sqrt:zW,tan:jW,tointeger:HW,type:nY,ult:WW},iY=function(e){return IW(e,aY),$t(e,Math.PI),ym(e,-2,gm("pi",!0)),$t(e,1/0),ym(e,-2,gm("huge",!0)),Co(e,cR),ym(e,-2,gm("maxinteger",!0)),Co(e,BW),ym(e,-2,gm("mininteger",!0)),1};pR.exports.luaopen_math=iY});var SR=T(Ae=>{"use strict";var Mo=process.platform==="win32",ob="aes-256-cbc",oY="sha256",hR="The current environment doesn't support interactive reading from TTY.",We=require("fs"),dR=process.binding("tty_wrap").TTY,ub=require("child_process"),hi=require("path"),cb={prompt:"> ",hideEchoBack:!1,mask:"*",limit:[],limitMessage:"Input another, please.$<( [)limit(])>",defaultInput:"",trueValue:[],falseValue:[],caseSensitive:!1,keepWhitespace:!1,encoding:"utf8",bufferSize:1024,print:void 0,history:!0,cd:!1,phContent:void 0,preCheck:void 0},ga="none",mR=!1,lY=0,hb="",Bo=[],yR=!1,fb=!1,Nf=!1,Yr,Eu,mi,bm,lb,xm;function gR(e){function t(n){return n.replace(/[^\w\u0080-\uFFFF]/g,function(r){return"#"+r.charCodeAt(0)+";"})}return bm.concat(function(n){var r=[];return Object.keys(n).forEach(function(s){n[s]==="boolean"?e[s]&&r.push("--"+s):n[s]==="string"&&e[s]&&r.push("--"+s,t(e[s]))}),r}({display:"string",displayOnly:"boolean",keyIn:"boolean",hideEchoBack:"boolean",mask:"string",limit:"string",caseSensitive:"boolean"}))}function uY(e,t){function n(R){var B="",P,W;for(lb=lb||require("os").tmpdir();;){P=hi.join(lb,R+B);try{W=We.openSync(P,"wx")}catch(v){if(v.code==="EEXIST"){B++;continue}else throw v}We.closeSync(W);break}return P}var r={},s=n("readline-sync.stdout"),a=n("readline-sync.stderr"),i=n("readline-sync.exit"),o=n("readline-sync.done"),l=require("crypto"),u,c,f,m,g,y,w,S;y=l.createHash(oY),y.update(""+process.pid+lY+++Math.random()),S=y.digest("hex"),w=l.createDecipher(ob,S),u=gR(e),Mo?(c=process.env.ComSpec||"cmd.exe",process.env.Q='"',f=["/V:ON","/S","/C","(%Q%"+c+"%Q% /V:ON /S /C %Q%%Q%"+mi+"%Q%"+u.map(function(R){return" %Q%"+R+"%Q%"}).join("")+" & (echo !ERRORLEVEL!)>%Q%"+i+"%Q%%Q%) 2>%Q%"+a+"%Q% |%Q%"+process.execPath+"%Q% %Q%"+__dirname+"\\encrypt.js%Q% %Q%"+ob+"%Q% %Q%"+S+"%Q% >%Q%"+s+"%Q% & (echo 1)>%Q%"+o+"%Q%"]):(c="/bin/sh",f=["-c",'("'+mi+'"'+u.map(function(R){return" '"+R.replace(/'/g,"'\\''")+"'"}).join("")+'; echo $?>"'+i+'") 2>"'+a+'" |"'+process.execPath+'" "'+__dirname+'/encrypt.js" "'+ob+'" "'+S+'" >"'+s+'"; echo 1 >"'+o+'"']),Nf&&Nf("_execFileSync",u);try{ub.spawn(c,f,t)}catch(R){r.error=new Error(R.message),r.error.method="_execFileSync - spawn",r.error.program=c,r.error.args=f}for(;We.readFileSync(o,{encoding:e.encoding}).trim()!=="1";);return(m=We.readFileSync(i,{encoding:e.encoding}).trim())==="0"?r.input=w.update(We.readFileSync(s,{encoding:"binary"}),"hex",e.encoding)+w.final(e.encoding):(g=We.readFileSync(a,{encoding:e.encoding}).trim(),r.error=new Error(hR+(g?`
`+g:"")),r.error.method="_execFileSync",r.error.program=c,r.error.args=f,r.error.extMessage=g,r.error.exitCode=+m),We.unlinkSync(s),We.unlinkSync(a),We.unlinkSync(i),We.unlinkSync(o),r}function cY(e){var t={},n={env:process.env,encoding:e.encoding},r,s;if(mi||(Mo?process.env.PSModulePath?(mi="powershell.exe",bm=["-ExecutionPolicy","Bypass","-File",__dirname+"\\read.ps1"]):(mi="cscript.exe",bm=["//nologo",__dirname+"\\read.cs.js"]):(mi="/bin/sh",bm=[__dirname+"/read.sh"])),Mo&&!process.env.PSModulePath&&(n.stdio=[process.stdin]),ub.execFileSync){r=gR(e),Nf&&Nf("execFileSync",r);try{t.input=ub.execFileSync(mi,r,n)}catch(a){s=a.stderr?(a.stderr+"").trim():"",t.error=new Error(hR+(s?`
`+s:"")),t.error.method="execFileSync",t.error.program=mi,t.error.args=r,t.error.extMessage=s,t.error.exitCode=a.status,t.error.code=a.code,t.error.signal=a.signal}}else t=uY(e,n);return t.error||(t.input=t.input.replace(/^\s*'|'\s*$/g,""),e.display=""),t}function pb(e){var t="",n=e.display,r=!e.display&&e.keyIn&&e.hideEchoBack&&!e.mask;function s(){var a=cY(e);if(a.error)throw a.error;return a.input}return fb&&fb(e),function(){var a,i,o;function l(){return a||(a=process.binding("fs"),i=process.binding("constants"),i=i&&i.fs&&typeof i.fs.O_RDWR=="number"?i.fs:i),a}if(typeof ga=="string")if(ga=null,Mo){if(o=function(u){var c=u.replace(/^\D+/,"").split("."),f=0;return(c[0]=+c[0])&&(f+=c[0]*1e4),(c[1]=+c[1])&&(f+=c[1]*100),(c[2]=+c[2])&&(f+=c[2]),f}(process.version),!(o>=20302&&o<40204||o>=5e4&&o<50100||o>=50600&&o<60200)&&process.stdin.isTTY)process.stdin.pause(),ga=process.stdin.fd,Eu=process.stdin._handle;else try{ga=l().open("CONIN$",i.O_RDWR,parseInt("0666",8)),Eu=new dR(ga,!0)}catch{}if(process.stdout.isTTY)Yr=process.stdout.fd;else{try{Yr=We.openSync("\\\\.\\CON","w")}catch{}if(typeof Yr!="number")try{Yr=l().open("CONOUT$",i.O_RDWR,parseInt("0666",8))}catch{}}}else{if(process.stdin.isTTY){process.stdin.pause();try{ga=We.openSync("/dev/tty","r"),Eu=process.stdin._handle}catch{}}else try{ga=We.openSync("/dev/tty","r"),Eu=new dR(ga,!1)}catch{}if(process.stdout.isTTY)Yr=process.stdout.fd;else try{Yr=We.openSync("/dev/tty","w")}catch{}}}(),function(){var a=!e.hideEchoBack&&!e.keyIn,i,o,l,u,c,f,m;xm="";function g(y){return y===mR?!0:Eu.setRawMode(y)!==0?!1:(mR=y,!0)}if(yR||!Eu||typeof Yr!="number"&&(e.display||!a)){t=s();return}if(e.display&&(We.writeSync(Yr,e.display),e.display=""),!e.displayOnly){if(!g(!a)){t=s();return}for(u=e.keyIn?1:e.bufferSize,l=Buffer.allocUnsafe&&Buffer.alloc?Buffer.alloc(u):new Buffer(u),e.keyIn&&e.limit&&(o=new RegExp("[^"+e.limit+"]","g"+(e.caseSensitive?"":"i")));;){c=0;try{c=We.readSync(ga,l,0,u)}catch(y){if(y.code!=="EOF"){g(!1),t+=s();return}}if(c>0?(f=l.toString(e.encoding,0,c),xm+=f):(f=`
`,xm+=String.fromCharCode(0)),f&&typeof(m=(f.match(/^(.*?)[\r\n]/)||[])[1])=="string"&&(f=m,i=!0),f&&(f=f.replace(/[\x00-\x08\x0b\x0c\x0e-\x1f\x7f]/g,"")),f&&o&&(f=f.replace(o,"")),f&&(a||(e.hideEchoBack?e.mask&&We.writeSync(Yr,new Array(f.length+1).join(e.mask)):We.writeSync(Yr,f)),t+=f),!e.keyIn&&i||e.keyIn&&t.length>=u)break}!a&&!r&&We.writeSync(Yr,`
`),g(!1)}}(),e.print&&!r&&e.print(n+(e.displayOnly?"":(e.hideEchoBack?new Array(t.length+1).join(e.mask):t)+`
`),e.encoding),e.displayOnly?"":hb=e.keepWhitespace||e.keyIn?t:t.trim()}function fY(e,t){var n=[];function r(s){s!=null&&(Array.isArray(s)?s.forEach(r):(!t||t(s))&&n.push(s))}return r(e),n}function yb(e){return e.replace(/[\x00-\x7f]/g,function(t){return"\\x"+("00"+t.charCodeAt().toString(16)).substr(-2)})}function Jt(){var e=Array.prototype.slice.call(arguments),t,n;return e.length&&typeof e[0]=="boolean"&&(n=e.shift(),n&&(t=Object.keys(cb),e.unshift(cb))),e.reduce(function(r,s){return s==null||(s.hasOwnProperty("noEchoBack")&&!s.hasOwnProperty("hideEchoBack")&&(s.hideEchoBack=s.noEchoBack,delete s.noEchoBack),s.hasOwnProperty("noTrim")&&!s.hasOwnProperty("keepWhitespace")&&(s.keepWhitespace=s.noTrim,delete s.noTrim),n||(t=Object.keys(s)),t.forEach(function(a){var i;if(s.hasOwnProperty(a))switch(i=s[a],a){case"mask":case"limitMessage":case"defaultInput":case"encoding":i=i!=null?i+"":"",i&&a!=="limitMessage"&&(i=i.replace(/[\r\n]/g,"")),r[a]=i;break;case"bufferSize":!isNaN(i=parseInt(i,10))&&typeof i=="number"&&(r[a]=i);break;case"displayOnly":case"keyIn":case"hideEchoBack":case"caseSensitive":case"keepWhitespace":case"history":case"cd":r[a]=!!i;break;case"limit":case"trueValue":case"falseValue":r[a]=fY(i,function(o){var l=typeof o;return l==="string"||l==="number"||l==="function"||o instanceof RegExp}).map(function(o){return typeof o=="string"?o.replace(/[\r\n]/g,""):o});break;case"print":case"phContent":case"preCheck":r[a]=typeof i=="function"?i:void 0;break;case"prompt":case"display":r[a]=i??"";break}})),r},{})}function db(e,t,n){return t.some(function(r){var s=typeof r;return s==="string"?n?e===r:e.toLowerCase()===r.toLowerCase():s==="number"?parseFloat(e)===r:s==="function"?r(e):r instanceof RegExp?r.test(e):!1})}function gb(e,t){var n=hi.normalize(Mo?(process.env.HOMEDRIVE||"")+(process.env.HOMEPATH||""):process.env.HOME||"").replace(/[/\\]+$/,"");return e=hi.normalize(e),t?e.replace(/^~(?=\/|\\|$)/,n):e.replace(new RegExp("^"+yb(n)+"(?=\\/|\\\\|$)",Mo?"i":""),"~")}function Ou(e,t){var n="(?:\\(([\\s\\S]*?)\\))?(\\w+|.-.)(?:\\(([\\s\\S]*?)\\))?",r=new RegExp("(\\$)?(\\$<"+n+">)","g"),s=new RegExp("(\\$)?(\\$\\{"+n+"\\})","g");function a(i,o,l,u,c,f){var m;return o||typeof(m=t(c))!="string"?l:m?(u||"")+m+(f||""):""}return e.replace(r,a).replace(s,a)}function _R(e,t,n){var r=[],s=-1,a=0,i="",o,l;function u(c,f){return f.length>3?(c.push(f[0]+"..."+f[f.length-1]),l=!0):f.length&&(c=c.concat(f)),c}return o=e.reduce(function(c,f){return c.concat((f+"").split(""))},[]).reduce(function(c,f){var m,g;return t||(f=f.toLowerCase()),m=/^\d$/.test(f)?1:/^[A-Z]$/.test(f)?2:/^[a-z]$/.test(f)?3:0,n&&m===0?i+=f:(g=f.charCodeAt(0),m&&m===s&&g===a+1?r.push(f):(c=u(c,r),r=[f],s=m),a=g),c},[]),o=u(o,r),i&&(o.push(i),l=!0),{values:o,suppressed:l}}function bR(e,t){return e.join(e.length>2?", ":t?" / ":"/")}function xR(e,t){var n={},r,s,a;if(t.phContent&&(r=t.phContent(e,t)),typeof r!="string")switch(e){case"hideEchoBack":case"mask":case"defaultInput":case"caseSensitive":case"keepWhitespace":case"encoding":case"bufferSize":case"history":case"cd":r=t.hasOwnProperty(e)?typeof t[e]=="boolean"?t[e]?"on":"off":t[e]+"":"";break;case"limit":case"trueValue":case"falseValue":s=t[t.hasOwnProperty(e+"Src")?e+"Src":e],t.keyIn?(n=_R(s,t.caseSensitive),s=n.values):s=s.filter(function(i){var o=typeof i;return o==="string"||o==="number"}),r=bR(s,n.suppressed);break;case"limitCount":case"limitCountNotZero":r=t[t.hasOwnProperty("limitSrc")?"limitSrc":"limit"].length,r=r||e!=="limitCountNotZero"?r+"":"";break;case"lastInput":r=hb;break;case"cwd":case"CWD":case"cwdHome":r=process.cwd(),e==="CWD"?r=hi.basename(r):e==="cwdHome"&&(r=gb(r));break;case"date":case"time":case"localeDate":case"localeTime":r=new Date()["to"+e.replace(/^./,function(i){return i.toUpperCase()})+"String"]();break;default:typeof(a=(e.match(/^history_m(\d+)$/)||[])[1])=="string"&&(r=Bo[Bo.length-a]||"")}return r}function kR(e){var t=/^(.)-(.)$/.exec(e),n="",r,s,a,i;if(!t)return null;for(r=t[1].charCodeAt(0),s=t[2].charCodeAt(0),i=r<s?1:-1,a=r;a!==s+i;a+=i)n+=String.fromCharCode(a);return n}function mb(e){var t=new RegExp(/(\s*)(?:("|')(.*?)(?:\2|$)|(\S+))/g),n="",r=[],s,a;for(e=e.trim();s=t.exec(e);)a=s[3]||s[4]||"",s[1]&&(r.push(n),n=""),n+=a;return n&&r.push(n),r}function AR(e,t){return t.trueValue.length&&db(e,t.trueValue,t.caseSensitive)?!0:t.falseValue.length&&db(e,t.falseValue,t.caseSensitive)?!1:e}function wR(e){var t,n,r,s,a,i,o;function l(c){return xR(c,e)}function u(c){e.display+=(/[^\r\n]$/.test(e.display)?`
`:"")+c}for(e.limitSrc=e.limit,e.displaySrc=e.display,e.limit="",e.display=Ou(e.display+"",l);;){if(t=pb(e),n=!1,r="",e.defaultInput&&!t&&(t=e.defaultInput),e.history&&((s=/^\s*!(?:!|-1)(:p)?\s*$/.exec(t))?(a=Bo[0]||"",s[1]?n=!0:t=a,u(a+`
`),n||(e.displayOnly=!0,pb(e),e.displayOnly=!1)):t&&t!==Bo[Bo.length-1]&&(Bo=[t])),!n&&e.cd&&t)switch(i=mb(t),i[0].toLowerCase()){case"cd":if(i[1])try{process.chdir(gb(i[1],!0))}catch(c){u(c+"")}n=!0;break;case"pwd":u(process.cwd()),n=!0;break}if(!n&&e.preCheck&&(o=e.preCheck(t,e),t=o.res,o.forceNext&&(n=!0)),!n){if(!e.limitSrc.length||db(t,e.limitSrc,e.caseSensitive))break;e.limitMessage&&(r=Ou(e.limitMessage,l))}u((r?r+`
`:"")+Ou(e.displaySrc+"",l))}return AR(t,e)}Ae._DBG_set_useExt=function(e){yR=e};Ae._DBG_set_checkOptions=function(e){fb=e};Ae._DBG_set_checkMethod=function(e){Nf=e};Ae._DBG_clearHistory=function(){hb="",Bo=[]};Ae.setDefaultOptions=function(e){return cb=Jt(!0,e),Jt(!0)};Ae.question=function(e,t){return wR(Jt(Jt(!0,t),{display:e}))};Ae.prompt=function(e){var t=Jt(!0,e);return t.display=t.prompt,wR(t)};Ae.keyIn=function(e,t){var n=Jt(Jt(!0,t),{display:e,keyIn:!0,keepWhitespace:!0});return n.limitSrc=n.limit.filter(function(r){var s=typeof r;return s==="string"||s==="number"}).map(function(r){return Ou(r+"",kR)}),n.limit=yb(n.limitSrc.join("")),["trueValue","falseValue"].forEach(function(r){n[r]=n[r].reduce(function(s,a){var i=typeof a;return i==="string"||i==="number"?s=s.concat((a+"").split("")):s.push(a),s},[])}),n.display=Ou(n.display+"",function(r){return xR(r,n)}),AR(pb(n),n)};Ae.questionEMail=function(e,t){return e==null&&(e="Input e-mail address: "),Ae.question(e,Jt({hideEchoBack:!1,limit:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,limitMessage:"Input valid e-mail address, please.",trueValue:null,falseValue:null},t,{keepWhitespace:!1,cd:!1}))};Ae.questionNewPassword=function(e,t){var n,r,s,a=Jt({hideEchoBack:!0,mask:"*",limitMessage:`It can include: $<charlist>
And the length must be: $<length>`,trueValue:null,falseValue:null,caseSensitive:!0},t,{history:!1,cd:!1,phContent:function(g){return g==="charlist"?n.text:g==="length"?r+"..."+s:null}}),i,o,l,u,c,f,m;for(t=t||{},i=Ou(t.charlist?t.charlist+"":"$<!-~>",kR),(isNaN(r=parseInt(t.min,10))||typeof r!="number")&&(r=12),(isNaN(s=parseInt(t.max,10))||typeof s!="number")&&(s=24),u=new RegExp("^["+yb(i)+"]{"+r+","+s+"}$"),n=_R([i],a.caseSensitive,!0),n.text=bR(n.values,n.suppressed),o=t.confirmMessage!=null?t.confirmMessage:"Reinput a same one to confirm it: ",l=t.unmatchMessage!=null?t.unmatchMessage:"It differs from first one. Hit only the Enter key if you want to retry from first one.",e==null&&(e="Input new password: "),c=a.limitMessage;!m;)a.limit=u,a.limitMessage=c,f=Ae.question(e,a),a.limit=[f,""],a.limitMessage=l,m=Ae.question(o,a);return f};function ER(e,t,n){var r;function s(a){return r=n(a),!isNaN(r)&&typeof r=="number"}return Ae.question(e,Jt({limitMessage:"Input valid number, please."},t,{limit:s,cd:!1})),r}Ae.questionInt=function(e,t){return ER(e,t,function(n){return parseInt(n,10)})};Ae.questionFloat=function(e,t){return ER(e,t,parseFloat)};Ae.questionPath=function(e,t){var n="",r,s=Jt({hideEchoBack:!1,limitMessage:`$<error(
)>Input valid path, please.$<( Min:)min>$<( Max:)max>`,history:!0,cd:!0},t,{keepWhitespace:!1,limit:function(a){var i,o,l;a=gb(a,!0),n="";function u(c){c.split(/\/|\\/).reduce(function(f,m){var g=hi.resolve(f+=m+hi.sep);if(!We.existsSync(g))We.mkdirSync(g);else if(!We.statSync(g).isDirectory())throw new Error("Non directory already exists: "+g);return f},"")}try{if(i=We.existsSync(a),r=i?We.realpathSync(a):hi.resolve(a),!t.hasOwnProperty("exists")&&!i||typeof t.exists=="boolean"&&t.exists!==i)return n=(i?"Already exists":"No such file or directory")+": "+r,!1;if(!i&&t.create&&(t.isDirectory?u(r):(u(hi.dirname(r)),We.closeSync(We.openSync(r,"w"))),r=We.realpathSync(r)),i&&(t.min||t.max||t.isFile||t.isDirectory)){if(o=We.statSync(r),t.isFile&&!o.isFile())return n="Not file: "+r,!1;if(t.isDirectory&&!o.isDirectory())return n="Not directory: "+r,!1;if(t.min&&o.size<+t.min||t.max&&o.size>+t.max)return n="Size "+o.size+" is out of range: "+r,!1}if(typeof t.validate=="function"&&(l=t.validate(r))!==!0)return typeof l=="string"&&(n=l),!1}catch(c){return n=c+"",!1}return!0},phContent:function(a){return a==="error"?n:a!=="min"&&a!=="max"?null:t.hasOwnProperty(a)?t[a]+"":""}});return t=t||{},e==null&&(e='Input path (you can "cd" and "pwd"): '),Ae.question(e,s),r};function OR(e,t){var n={},r={};return typeof e=="object"?(Object.keys(e).forEach(function(s){typeof e[s]=="function"&&(r[t.caseSensitive?s:s.toLowerCase()]=e[s])}),n.preCheck=function(s){var a;return n.args=mb(s),a=n.args[0]||"",t.caseSensitive||(a=a.toLowerCase()),n.hRes=a!=="_"&&r.hasOwnProperty(a)?r[a].apply(s,n.args.slice(1)):r.hasOwnProperty("_")?r._.apply(s,n.args):null,{res:s,forceNext:!1}},r.hasOwnProperty("_")||(n.limit=function(){var s=n.args[0]||"";return t.caseSensitive||(s=s.toLowerCase()),r.hasOwnProperty(s)})):n.preCheck=function(s){return n.args=mb(s),n.hRes=typeof e=="function"?e.apply(s,n.args):!0,{res:s,forceNext:!1}},n}Ae.promptCL=function(e,t){var n=Jt({hideEchoBack:!1,limitMessage:"Requested command is not available.",caseSensitive:!1,history:!0},t),r=OR(e,n);return n.limit=r.limit,n.preCheck=r.preCheck,Ae.prompt(n),r.args};Ae.promptLoop=function(e,t){for(var n=Jt({hideEchoBack:!1,trueValue:null,falseValue:null,caseSensitive:!1,history:!0},t);!e(Ae.prompt(n)););};Ae.promptCLLoop=function(e,t){var n=Jt({hideEchoBack:!1,limitMessage:"Requested command is not available.",caseSensitive:!1,history:!0},t),r=OR(e,n);for(n.limit=r.limit,n.preCheck=r.preCheck;Ae.prompt(n),!r.hRes;);};Ae.promptSimShell=function(e){return Ae.prompt(Jt({hideEchoBack:!1,history:!0},e,{prompt:function(){return Mo?"$<cwd>>":(process.env.USER||"")+(process.env.HOSTNAME?"@"+process.env.HOSTNAME.replace(/\..*$/,""):"")+":$<cwdHome>$ "}()}))};function vR(e,t,n){var r;return e==null&&(e="Are you sure? "),(!t||t.guide!==!1)&&(e+="")&&(e=e.replace(/\s*:?\s*$/,"")+" [y/n]: "),r=Ae.keyIn(e,Jt(t,{hideEchoBack:!1,limit:n,trueValue:"y",falseValue:"n",caseSensitive:!1})),typeof r=="boolean"?r:""}Ae.keyInYN=function(e,t){return vR(e,t)};Ae.keyInYNStrict=function(e,t){return vR(e,t,"yn")};Ae.keyInPause=function(e,t){e==null&&(e="Continue..."),(!t||t.guide!==!1)&&(e+="")&&(e=e.replace(/\s+$/,"")+" (Hit any key)"),Ae.keyIn(e,Jt({limit:null},t,{hideEchoBack:!0,mask:""}))};Ae.keyInSelect=function(e,t,n){var r=Jt({hideEchoBack:!1},n,{trueValue:null,falseValue:null,caseSensitive:!1,phContent:function(l){return l==="itemsCount"?e.length+"":l==="firstItem"?(e[0]+"").trim():l==="lastItem"?(e[e.length-1]+"").trim():null}}),s="",a={},i=49,o=`
`;if(!Array.isArray(e)||!e.length||e.length>35)throw"`items` must be Array (max length: 35).";return e.forEach(function(l,u){var c=String.fromCharCode(i);s+=c,a[c]=u,o+="["+c+"] "+(l+"").trim()+`
`,i=i===57?97:i+1}),(!n||n.cancel!==!1)&&(s+="0",a[0]=-1,o+="[0] "+(n&&n.cancel!=null&&typeof n.cancel!="boolean"?(n.cancel+"").trim():"CANCEL")+`
`),r.limit=s,o+=`
`,t==null&&(t="Choose one from list: "),(t+="")&&((!n||n.guide!==!1)&&(t=t.replace(/\s*:?\s*$/,"")+" [$<limit>]: "),o+=t),a[Ae.keyIn(o,r).toLowerCase()]};Ae.getRawInput=function(){return xm};function If(e,t){var n;return t.length&&(n={},n[e]=t[0]),Ae.setDefaultOptions(n)[e]}Ae.setPrint=function(){return If("print",arguments)};Ae.setPrompt=function(){return If("prompt",arguments)};Ae.setEncoding=function(){return If("encoding",arguments)};Ae.setMask=function(){return If("mask",arguments)};Ae.setBufferSize=function(){return If("bufferSize",arguments)}});var Sb=T((koe,zR)=>{"use strict";var{LUA_MASKCALL:CR,LUA_MASKCOUNT:pY,LUA_MASKLINE:BR,LUA_MASKRET:MR,LUA_REGISTRYINDEX:Mf,LUA_TFUNCTION:bb,LUA_TNIL:UR,LUA_TTABLE:dY,LUA_TUSERDATA:DR,lua_Debug:xb,lua_call:mY,lua_checkstack:hY,lua_gethook:yY,lua_gethookcount:gY,lua_gethookmask:_Y,lua_getinfo:PR,lua_getlocal:TR,lua_getmetatable:bY,lua_getstack:kb,lua_getupvalue:FR,lua_getuservalue:xY,lua_insert:kY,lua_iscfunction:RR,lua_isfunction:GR,lua_isnoneornil:$R,lua_isthread:AY,lua_newtable:wY,lua_pcall:EY,lua_pop:OY,lua_pushboolean:vY,lua_pushfstring:SY,lua_pushinteger:Ab,lua_pushlightuserdata:jR,lua_pushliteral:TY,lua_pushnil:vu,lua_pushstring:Uo,lua_pushvalue:Em,lua_rawgetp:wb,lua_rawsetp:RY,lua_rotate:KR,lua_setfield:Om,lua_sethook:NY,lua_setlocal:IY,lua_setmetatable:CY,lua_settop:Uf,lua_setupvalue:BY,lua_setuservalue:MY,lua_tojsstring:UY,lua_toproxy:DY,lua_tostring:PY,lua_tothread:FY,lua_touserdata:Eb,lua_type:qR,lua_upvalueid:GY,lua_upvaluejoin:$Y,lua_xmove:vm}=pn(),{luaL_argcheck:km,luaL_argerror:Ob,luaL_checkany:Sm,luaL_checkinteger:Do,luaL_checkstring:jY,luaL_checktype:Tm,luaL_error:KY,luaL_loadbuffer:qY,luaL_newlib:VY,luaL_optinteger:VR,luaL_optstring:HY,luaL_traceback:XY,lua_writestringerror:LY}=zn(),zY=oi(),{luastring_indexOf:Ss,to_luastring:St}=qn(),vb=function(e,t,n){e!==t&&!hY(t,n)&&KY(e,St("stack overflow",!0))},WY=function(e){return Em(e,Mf),1},YY=function(e){return Sm(e,1),bY(e,1)||vu(e),1},QY=function(e){let t=qR(e,2);return km(e,t==UR||t==dY,2,"nil or table expected"),Uf(e,2),CY(e,1),1},JY=function(e){return qR(e,1)!==DR?vu(e):xY(e,1),1},ZY=function(e){return Tm(e,1,DR),Sm(e,2),Uf(e,2),MY(e,1),1},Su=function(e){return AY(e,1)?{arg:1,thread:FY(e,1)}:{arg:0,thread:e}},Cf=function(e,t,n){Uo(e,n),Om(e,-2,t)},Bf=function(e,t,n){Ab(e,n),Om(e,-2,t)},NR=function(e,t,n){vY(e,n),Om(e,-2,t)},IR=function(e,t,n){e==t?KR(e,-2,1):vm(t,e,1),Om(e,-2,n)},eQ=function(e){let t=new xb,n=Su(e),r=n.arg,s=n.thread,a=HY(e,r+2,"flnStu");if(vb(e,s,3),GR(e,r+1))a=SY(e,St(">%s"),a),Em(e,r+1),vm(e,s,1);else if(!kb(s,Do(e,r+1),t))return vu(e),1;return PR(s,a,t)||Ob(e,r+2,"invalid option"),wY(e),Ss(a,83)>-1&&(Cf(e,St("source",!0),t.source),Cf(e,St("short_src",!0),t.short_src),Bf(e,St("linedefined",!0),t.linedefined),Bf(e,St("lastlinedefined",!0),t.lastlinedefined),Cf(e,St("what",!0),t.what)),Ss(a,108)>-1&&Bf(e,St("currentline",!0),t.currentline),Ss(a,117)>-1&&(Bf(e,St("nups",!0),t.nups),Bf(e,St("nparams",!0),t.nparams),NR(e,St("isvararg",!0),t.isvararg)),Ss(a,110)>-1&&(Cf(e,St("name",!0),t.name),Cf(e,St("namewhat",!0),t.namewhat)),Ss(a,116)>-1&&NR(e,St("istailcall",!0),t.istailcall),Ss(a,76)>-1&&IR(e,s,St("activelines",!0)),Ss(a,102)>-1&&IR(e,s,St("func",!0)),1},tQ=function(e){let t=Su(e),n=t.thread,r=t.arg,s=new xb,a=Do(e,r+2);if(GR(e,r+1))return Em(e,r+1),Uo(e,TR(e,null,a)),1;{let i=Do(e,r+1);if(!kb(n,i,s))return Ob(e,r+1,"level out of range");vb(e,n,1);let o=TR(n,s,a);return o?(vm(n,e,1),Uo(e,o),KR(e,-2,1),2):(vu(e),1)}},nQ=function(e){let t=Su(e),n=t.thread,r=t.arg,s=new xb,a=Do(e,r+1),i=Do(e,r+2);if(!kb(n,a,s))return Ob(e,r+1,"level out of range");Sm(e,r+3),Uf(e,r+3),vb(e,n,1),vm(e,n,1);let o=IY(n,s,i);return o===null&&OY(n,1),Uo(e,o),1},HR=function(e,t){let n=Do(e,2);Tm(e,1,bb);let r=t?FR(e,1,n):BY(e,1,n);return r===null?0:(Uo(e,r),kY(e,-(t+1)),t+1)},rQ=function(e){return HR(e,1)},sQ=function(e){return Sm(e,3),HR(e,0)},_b=function(e,t,n){let r=Do(e,n);return Tm(e,t,bb),km(e,FR(e,t,r)!==null,n,"invalid upvalue index"),r},aQ=function(e){let t=_b(e,1,2);return jR(e,GY(e,1,t)),1},iQ=function(e){let t=_b(e,1,2),n=_b(e,3,4);return km(e,!RR(e,1),1,"Lua function expected"),km(e,!RR(e,3),3,"Lua function expected"),$Y(e,1,t,3,n),0},Am=St("__hooks__",!0),oQ=["call","return","line","count","tail call"].map(e=>St(e)),XR=function(e,t){wb(e,Mf,Am);let r=Eb(e,-1).get(e);r&&(r(e),Uo(e,oQ[t.event]),t.currentline>=0?Ab(e,t.currentline):vu(e),zY.lua_assert(PR(e,St("lS"),t)),mY(e,2,0))},lQ=function(e,t){let n=0;return Ss(e,99)>-1&&(n|=CR),Ss(e,114)>-1&&(n|=MR),Ss(e,108)>-1&&(n|=BR),t>0&&(n|=pY),n},uQ=function(e,t){let n=0;return e&CR&&(t[n++]=99),e&MR&&(t[n++]=114),e&BR&&(t[n++]=108),t.subarray(0,n)},cQ=function(e){let t,n,r,s=Su(e),a=s.thread,i=s.arg;if($R(e,i+1))Uf(e,i+1),r=null,t=0,n=0;else{let u=jY(e,i+2);Tm(e,i+1,bb),n=VR(e,i+3,0),r=XR,t=lQ(u,n)}let o;wb(e,Mf,Am)===UR?(o=new WeakMap,jR(e,o),RY(e,Mf,Am)):o=Eb(e,-1);let l=DY(e,i+1);return o.set(a,l),NY(a,r,t,n),0},fQ=function(e){let n=Su(e).thread,r=new Uint8Array(5),s=_Y(n),a=yY(n);return a===null?vu(e):a!==XR?TY(e,"external hook"):(wb(e,Mf,Am),Eb(e,-1).get(n)(e)),Uo(e,uQ(s,r)),Ab(e,gY(n)),3},pQ=function(e){let t=Su(e),n=t.thread,r=t.arg,s=PY(e,r+1);if(s===null&&!$R(e,r+1))Em(e,r+1);else{let a=VR(e,r+2,e===n?1:0);XY(e,n,s,a)}return 1},LR={gethook:fQ,getinfo:eQ,getlocal:tQ,getmetatable:YY,getregistry:WY,getupvalue:rQ,getuservalue:JY,sethook:cQ,setlocal:nQ,setmetatable:QY,setupvalue:sQ,setuservalue:ZY,traceback:pQ,upvalueid:aQ,upvaluejoin:iQ},wm;if(typeof process<"u"){let e=SR();e.setDefaultOptions({prompt:"lua_debug> "}),wm=function(){return e.prompt()}}else typeof window<"u"&&(wm=function(){let e=prompt("lua_debug>","");return e!==null?e:""});wm&&(LR.debug=function(e){for(;;){let t=wm();if(t==="cont")return 0;if(t.length===0)continue;let n=St(t);(qY(e,n,n.length,St("=(debug command)",!0))||EY(e,0,0,0))&&LY(UY(e,-1),`
`),Uf(e,0)}});var dQ=function(e){return VY(e,LR),1};zR.exports.luaopen_debug=dQ});var jb=T((Aoe,vN)=>{"use strict";var{LUA_DIRSEP:Rm,LUA_EXEC_DIR:mQ,LUA_JSPATH_DEFAULT:hQ,LUA_PATH_DEFAULT:yQ,LUA_PATH_MARK:nN,LUA_PATH_SEP:Po}=Kn(),{LUA_OK:Tu,LUA_REGISTRYINDEX:gi,LUA_TNIL:Cb,LUA_TTABLE:gQ,lua_callk:rN,lua_createtable:sN,lua_getfield:ba,lua_insert:Bb,lua_isfunction:_Q,lua_isnil:bQ,lua_isstring:xQ,lua_newtable:kQ,lua_pop:_a,lua_pushboolean:aN,lua_pushcclosure:AQ,lua_pushcfunction:wQ,lua_pushfstring:Df,lua_pushglobaltable:EQ,lua_pushlightuserdata:OQ,lua_pushliteral:iN,lua_pushlstring:Mb,lua_pushnil:oN,lua_pushstring:Qr,lua_pushvalue:Nm,lua_rawgeti:vQ,lua_rawgetp:lN,lua_rawseti:uN,lua_rawsetp:SQ,lua_remove:Tb,lua_setfield:yi,lua_setmetatable:TQ,lua_settop:RQ,lua_toboolean:cN,lua_tostring:Ru,lua_touserdata:NQ,lua_upvalueindex:fN}=pn(),{LUA_LOADED_TABLE:pN,LUA_PRELOAD_TABLE:dN,luaL_Buffer:mN,luaL_addvalue:hN,luaL_buffinit:yN,luaL_checkstring:xa,luaL_error:Im,luaL_getsubtable:WR,luaL_gsub:Pf,luaL_len:IQ,luaL_loadfile:CQ,luaL_newlib:BQ,luaL_optstring:YR,luaL_pushresult:gN,luaL_setfuncs:MQ}=zn(),UQ=oi(),{luastring_indexOf:Ub,to_jsstring:Db,to_luastring:Re,to_uristring:_N}=qn(),DQ=Ff(),bN=function(){return typeof process<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:(0,eval)("this")}(),Pb=Re("__JSLIBS__"),PQ="LUA_PATH",FQ="LUA_JSPATH",xN="-",kN=Rm,GQ=Rm,QR=Re("luaopen_"),$Q=Re("_"),jQ="open",JR=Re(""),Rb;if(typeof process>"u")Rb=function(e,t,n){t=_N(t);let r=new XMLHttpRequest;if(r.open("GET",t,!1),r.send(),r.status<200||r.status>=300)return Qr(e,Re(`${r.status}: ${r.statusText}`)),null;let s=r.response;/\/\/[#@] sourceURL=/.test(s)||(s+=" //# sourceURL="+t);let a;try{a=Function("fengari",s)}catch(o){return Qr(e,Re(`${o.name}: ${o.message}`)),null}let i=a(DQ);return typeof i=="function"||typeof i=="object"&&i!==null?i:i===void 0?bN:(Qr(e,Re(`library returned unexpected type (${typeof i})`)),null)};else{let e=require("path");Rb=function(t,n,r){n=Db(n),n=e.resolve(process.cwd(),n);try{return require(n)}catch(s){return Qr(t,Re(s.message)),null}}}var KQ=function(e,t,n){let r=t[Db(n)];return r&&typeof r=="function"?r:(Df(e,Re("undefined symbol: %s"),n),null)},qQ=function(e){ba(e,gi,Re("LUA_NOENV"));let t=cN(e,-1);return _a(e,1),t},Nb;if(typeof process<"u"){let e=require("fs");Nb=function(t){try{let n=e.openSync(t,"r");e.closeSync(n)}catch{return!1}return!0}}else Nb=function(e){e=_N(e);let t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.status>=200&&t.status<=299};var AN=1,Fb=2,Ib=function(e,t,n){let r=HQ(e,t);if(r===null){if(r=Rb(e,t,n[0]==="*".charCodeAt(0)),r===null)return AN;XQ(e,t,r)}if(n[0]==="*".charCodeAt(0))return aN(e,1),0;{let s=KQ(e,r,n);return s===null?Fb:(wQ(e,s),0)}},VQ=function(e){let t=xa(e,1),n=xa(e,2),r=Ib(e,t,n);return r===0?1:(oN(e),Bb(e,-2),iN(e,r===AN?jQ:"init"),3)},ZR=function(){return typeof process<"u"?process.env:bN}(),eN=function(e,t,n,r){let s=`${n}${UQ.LUA_VERSUFFIX}`;Qr(e,Re(s));let a=ZR[s];a===void 0&&(a=ZR[n]),a===void 0||qQ(e)?Qr(e,r):(a=Pf(e,Re(a),Re(Po+Po,!0),Re(Po+Db(JR)+Po,!0)),Pf(e,a,JR,r),Tb(e,-2)),yi(e,-3,t),_a(e,1)},HQ=function(e,t){lN(e,gi,Pb),ba(e,-1,t);let n=NQ(e,-1);return _a(e,2),n},XQ=function(e,t,n){lN(e,gi,Pb),OQ(e,n),Nm(e,-1),yi(e,-3,t),uN(e,-2,IQ(e,-2)+1),_a(e,1)},LQ=function(e,t){for(;t[0]===Po.charCodeAt(0);)t=t.subarray(1);if(t.length===0)return null;let n=Ub(t,Po.charCodeAt(0));return n<0&&(n=t.length),Mb(e,t,n),t.subarray(n)},wN=function(e,t,n,r,s){let a=new mN;for(yN(e,a),r[0]!==0&&(t=Pf(e,t,r,s));(n=LQ(e,n))!==null;){let i=Pf(e,Ru(e,-1),Re(nN,!0),t);if(Tb(e,-2),Nb(i))return i;Df(e,Re(`
	no file '%s'`),i),Tb(e,-2),hN(a)}return gN(a),null},zQ=function(e){return wN(e,xa(e,1),xa(e,2),YR(e,3,"."),YR(e,4,Rm))!==null?1:(oN(e),Bb(e,-2),2)},Gb=function(e,t,n,r){ba(e,fN(1),n);let s=Ru(e,-1);return s===null&&Im(e,Re("'package.%s' must be a string"),n),wN(e,t,s,Re("."),r)},$b=function(e,t,n){return t?(Qr(e,n),2):Im(e,Re(`error loading module '%s' from file '%s':
	%s`),Ru(e,1),n,Ru(e,-1))},WQ=function(e){let t=xa(e,1),n=Gb(e,t,Re("path",!0),Re(GQ,!0));return n===null?1:$b(e,CQ(e,n)===Tu,n)},EN=function(e,t,n){let r;n=Pf(e,n,Re("."),$Q);let s=Ub(n,xN.charCodeAt(0));if(s>=0){r=Mb(e,n,s),r=Df(e,Re("%s%s"),QR,r);let a=Ib(e,t,r);if(a!==Fb)return a;n=s+1}return r=Df(e,Re("%s%s"),QR,n),Ib(e,t,r)},YQ=function(e){let t=xa(e,1),n=Gb(e,t,Re("jspath",!0),Re(kN,!0));return n===null?1:$b(e,EN(e,n,t)===0,n)},QQ=function(e){let t=xa(e,1),n=Ub(t,".".charCodeAt(0)),r;if(n<0)return 0;Mb(e,t,n);let s=Gb(e,Ru(e,-1),Re("jspath",!0),Re(kN,!0));return s===null?1:(r=EN(e,s,t))!==0?r!=Fb?$b(e,0,s):(Qr(e,Re(`
	no module '%s' in file '%s'`),t,s),1):(Qr(e,s),2)},JQ=function(e){let t=xa(e,1);return ba(e,gi,dN),ba(e,-1,t)===Cb&&Df(e,Re(`
	no field package.preload['%s']`),t),1},ZQ=function(e,t,n,r){let s=new mN;return yN(e,s),ba(e,fN(1),Re("searchers",!0))!==gQ&&Im(e,Re("'package.searchers' must be a table")),ON(e,Tu,{name:t,i:1,msg:s,ctx:n,k:r})},ON=function(e,t,n){for(;t===Tu?(vQ(e,3,n.i)===Cb&&(_a(e,1),gN(n.msg),Im(e,Re("module '%s' not found:%s"),n.name,Ru(e,-1))),Qr(e,n.name),rN(e,1,2,n,ON)):t=Tu,!_Q(e,-2);n.i++)xQ(e,-2)?(_a(e,1),hN(n.msg)):_a(e,2);return n.k(e,Tu,n.ctx)},eJ=function(e){let t=xa(e,1);return RQ(e,1),ba(e,gi,pN),ba(e,2,t),cN(e,-1)?1:(_a(e,1),ZQ(e,t,t,tJ))},tJ=function(e,t,n){return Qr(e,n),Bb(e,-2),rN(e,2,1,n,tN),tN(e,Tu,n)},tN=function(e,t,n){let r=n;return bQ(e,-1)||yi(e,2,r),ba(e,2,r)==Cb&&(aN(e,1),Nm(e,-1),yi(e,2,r)),1},nJ={loadlib:VQ,searchpath:zQ},rJ={require:eJ},sJ=function(e){let t=[JQ,WQ,YQ,QQ,null];sN(e);for(let n=0;t[n];n++)Nm(e,-2),AQ(e,t[n],1),uN(e,-2,n+1);yi(e,-2,Re("searchers",!0))},aJ=function(e){kQ(e),sN(e,0,1),TQ(e,-2),SQ(e,gi,Pb)},iJ=function(e){return aJ(e),BQ(e,nJ),sJ(e),eN(e,Re("path",!0),PQ,yQ),eN(e,Re("jspath",!0),FQ,hQ),iN(e,Rm+`
`+Po+`
`+nN+`
`+mQ+`
`+xN+`
`),yi(e,-2,Re("config",!0)),WR(e,gi,pN),yi(e,-2,Re("loaded",!0)),WR(e,gi,dN),yi(e,-2,Re("preload",!0)),EQ(e),Nm(e,-2),MQ(e,rJ,1),_a(e,1),1};vN.exports.luaopen_package=iJ});var Kb=T((woe,SN)=>{var{lua_pushinteger:oJ,lua_pushliteral:Fo,lua_setfield:_i}=pn(),{luaL_newlib:lJ}=zn(),{FENGARI_AUTHORS:uJ,FENGARI_COPYRIGHT:cJ,FENGARI_RELEASE:fJ,FENGARI_VERSION:pJ,FENGARI_VERSION_MAJOR:dJ,FENGARI_VERSION_MINOR:mJ,FENGARI_VERSION_NUM:hJ,FENGARI_VERSION_RELEASE:yJ,to_luastring:bi}=qn(),gJ=function(e){return lJ(e,{}),Fo(e,uJ),_i(e,-2,bi("AUTHORS")),Fo(e,cJ),_i(e,-2,bi("COPYRIGHT")),Fo(e,fJ),_i(e,-2,bi("RELEASE")),Fo(e,pJ),_i(e,-2,bi("VERSION")),Fo(e,dJ),_i(e,-2,bi("VERSION_MAJOR")),Fo(e,mJ),_i(e,-2,bi("VERSION_MINOR")),oJ(e,hJ),_i(e,-2,bi("VERSION_NUM")),Fo(e,yJ),_i(e,-2,bi("VERSION_RELEASE")),1};SN.exports.luaopen_fengari=gJ});var RN=T((Eoe,TN)=>{"use strict";var{lua_pop:_J}=pn(),{luaL_requiref:bJ}=zn(),{to_luastring:xJ}=qn(),yr={},kJ=function(e){for(let t in yr)bJ(e,xJ(t),yr[t],1),_J(e,1)};TN.exports.luaL_openlibs=kJ;var Ts=oi(),{luaopen_base:AJ}=J_(),{luaopen_coroutine:wJ}=t0(),{luaopen_debug:EJ}=Sb(),{luaopen_math:OJ}=ib(),{luaopen_package:vJ}=jb(),{luaopen_os:SJ}=E0(),{luaopen_string:TJ}=J0(),{luaopen_table:RJ}=l0(),{luaopen_utf8:NJ}=tb();yr._G=AJ,yr[Ts.LUA_LOADLIBNAME]=vJ;yr[Ts.LUA_COLIBNAME]=wJ;yr[Ts.LUA_TABLIBNAME]=RJ;yr[Ts.LUA_OSLIBNAME]=SJ;yr[Ts.LUA_STRLIBNAME]=TJ;yr[Ts.LUA_MATHLIBNAME]=OJ;yr[Ts.LUA_UTF8LIBNAME]=NJ;yr[Ts.LUA_DBLIBNAME]=EJ;typeof process<"u"&&(yr[Ts.LUA_IOLIBNAME]=m0().luaopen_io);var{luaopen_fengari:IJ}=Kb();yr[Ts.LUA_FENGARILIBNAME]=IJ});var oi=T((Ooe,nt)=>{"use strict";var{LUA_VERSION_MAJOR:CJ,LUA_VERSION_MINOR:BJ}=pn(),MJ="_"+CJ+"_"+BJ;nt.exports.LUA_VERSUFFIX=MJ;nt.exports.lua_assert=function(e){};nt.exports.luaopen_base=J_().luaopen_base;var UJ="coroutine";nt.exports.LUA_COLIBNAME=UJ;nt.exports.luaopen_coroutine=t0().luaopen_coroutine;var DJ="table";nt.exports.LUA_TABLIBNAME=DJ;nt.exports.luaopen_table=l0().luaopen_table;if(typeof process<"u"){let e="io";nt.exports.LUA_IOLIBNAME=e,nt.exports.luaopen_io=m0().luaopen_io}var PJ="os";nt.exports.LUA_OSLIBNAME=PJ;nt.exports.luaopen_os=E0().luaopen_os;var FJ="string";nt.exports.LUA_STRLIBNAME=FJ;nt.exports.luaopen_string=J0().luaopen_string;var GJ="utf8";nt.exports.LUA_UTF8LIBNAME=GJ;nt.exports.luaopen_utf8=tb().luaopen_utf8;var $J="bit32";nt.exports.LUA_BITLIBNAME=$J;var jJ="math";nt.exports.LUA_MATHLIBNAME=jJ;nt.exports.luaopen_math=ib().luaopen_math;var KJ="debug";nt.exports.LUA_DBLIBNAME=KJ;nt.exports.luaopen_debug=Sb().luaopen_debug;var qJ="package";nt.exports.LUA_LOADLIBNAME=qJ;nt.exports.luaopen_package=jb().luaopen_package;var VJ="fengari";nt.exports.LUA_FENGARILIBNAME=VJ;nt.exports.luaopen_fengari=Kb().luaopen_fengari;var HJ=RN();nt.exports.luaL_openlibs=HJ.luaL_openlibs});var Ff=T((voe,Kt)=>{"use strict";var Wn=qn();Kt.exports.FENGARI_AUTHORS=Wn.FENGARI_AUTHORS;Kt.exports.FENGARI_COPYRIGHT=Wn.FENGARI_COPYRIGHT;Kt.exports.FENGARI_RELEASE=Wn.FENGARI_RELEASE;Kt.exports.FENGARI_VERSION=Wn.FENGARI_VERSION;Kt.exports.FENGARI_VERSION_MAJOR=Wn.FENGARI_VERSION_MAJOR;Kt.exports.FENGARI_VERSION_MINOR=Wn.FENGARI_VERSION_MINOR;Kt.exports.FENGARI_VERSION_NUM=Wn.FENGARI_VERSION_NUM;Kt.exports.FENGARI_VERSION_RELEASE=Wn.FENGARI_VERSION_RELEASE;Kt.exports.luastring_eq=Wn.luastring_eq;Kt.exports.luastring_indexOf=Wn.luastring_indexOf;Kt.exports.luastring_of=Wn.luastring_of;Kt.exports.to_jsstring=Wn.to_jsstring;Kt.exports.to_luastring=Wn.to_luastring;Kt.exports.to_uristring=Wn.to_uristring;var XJ=Kn(),LJ=pn(),zJ=zn(),WJ=oi();Kt.exports.luaconf=XJ;Kt.exports.lua=LJ;Kt.exports.lauxlib=zJ;Kt.exports.lualib=WJ});var e1=T((Soe,Rs)=>{"use strict";var{lua:YJ,lauxlib:QJ,lualib:JJ,to_luastring:At}=Ff(),{LUA_MULTRET:CN,LUA_OK:qo,LUA_REGISTRYINDEX:Wb,LUA_RIDX_MAINTHREAD:ZJ,LUA_TBOOLEAN:eZ,LUA_TFUNCTION:tZ,LUA_TLIGHTUSERDATA:nZ,LUA_TNIL:Go,LUA_TNONE:rZ,LUA_TNUMBER:sZ,LUA_TSTRING:aZ,LUA_TTABLE:iZ,LUA_TTHREAD:oZ,LUA_TUSERDATA:BN,lua_atnativeerror:lZ,lua_call:uZ,lua_getfield:cZ,lua_gettable:fZ,lua_gettop:Ko,lua_isnil:MN,lua_isproxy:pZ,lua_newuserdata:dZ,lua_pcall:Vo,lua_pop:mn,lua_pushboolean:UN,lua_pushcfunction:Ai,lua_pushinteger:mZ,lua_pushlightuserdata:hZ,lua_pushliteral:Bm,lua_pushnil:DN,lua_pushnumber:PN,lua_pushstring:FN,lua_pushvalue:yZ,lua_rawgeti:gZ,lua_rawgetp:_Z,lua_rawsetp:bZ,lua_rotate:Nu,lua_setfield:Gf,lua_settable:GN,lua_settop:Vb,lua_toboolean:xZ,lua_tojsstring:kZ,lua_tonumber:AZ,lua_toproxy:jo,lua_tothread:wZ,lua_touserdata:$N,lua_type:EZ}=YJ,{luaL_argerror:NN,luaL_checkany:OZ,luaL_checkoption:vZ,luaL_checkstack:Rn,luaL_checkudata:SZ,luaL_error:qb,luaL_getmetafield:Iu,luaL_newlib:TZ,luaL_newmetatable:RZ,luaL_requiref:NZ,luaL_setfuncs:IZ,luaL_setmetatable:CZ,luaL_testudata:BZ,luaL_tolstring:MZ}=QJ,{luaopen_base:UZ}=JJ,DZ="0",PZ="1",jN=1,FZ="3",Yb=DZ+"."+PZ,KN=Yb+"."+FZ,Hb;if(typeof process<"u")try{Hb=require("util").inspect.custom}catch{}var GZ=function(){return typeof process<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:(0,eval)("this")}(),$o,Xb,Lb;if(typeof Reflect<"u")$o=Reflect.apply,Xb=Reflect.construct,Lb=Reflect.deleteProperty;else{let e=Function.apply,t=Function.bind;$o=function(n,r,s){return e.call(n,r,s)},Xb=function(n,r){switch(r.length){case 0:return new n;case 1:return new n(r[0]);case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[1],r[2]);case 4:return new n(r[0],r[1],r[2],r[3])}let s=[null];return s.push.apply(s,r),new(t.apply(n,s))},Lb=Function("t","k","delete t[k]")}var qN=String.prototype.concat.bind(""),VN=function(e){return typeof e=="object"?e!==null:typeof e=="function"},Mm=At("js object"),zb="js library not loaded into lua_State",HN=function(e,t){let n=BZ(e,t,Mm);if(n)return n.data},xi=function(e,t){return SZ(e,t,Mm).data},Qb=function(e,t){let n=dZ(e);n.data=t,CZ(e,Mm)},Um=function(e){gZ(e,Wb,ZJ);let t=wZ(e,-1);return mn(e,1),t},Jb=new WeakMap,lt=function(e,t){switch(typeof t){case"undefined":DN(e);break;case"number":PN(e,t);break;case"string":FN(e,At(t));break;case"boolean":UN(e,t);break;case"symbol":hZ(e,t);break;case"function":if(pZ(t,e)){t(e);break}case"object":if(t===null){if(_Z(e,Wb,null)!==BN)throw Error(zb);break}default:{let n=Jb.get(Um(e));if(!n)throw Error(zb);let r=n.get(t);r?r(e):(Qb(e,t),r=jo(e,-1),n.set(t,r))}}},$Z=function(e){let t=$N(e,1);return lt(e,t),1},ot=function(e,t){switch(EZ(e,t)){case rZ:case Go:return;case eZ:return xZ(e,t);case nZ:return $N(e,t);case sZ:return AZ(e,t);case aZ:return kZ(e,t);case BN:{let n=HN(e,t);if(n!==void 0)return n}case iZ:case tZ:case oZ:default:return qZ(e,jo(e,t))}},ki=function(e,t){let n=Vo(e,t,1,0),r=ot(e,-1);switch(mn(e,1),n){case qo:return r;default:throw r}},Cm=function(e,t,n,r,s){if(!VN(r))throw new TypeError("`args` argument must be an object");let a=+r.length;a>=0||(a=0),Rn(e,2+a,null);let i=Ko(e);t(e),lt(e,n);for(let o=0;o<a;o++)lt(e,r[o]);switch(Vo(e,1+a,s,0)){case qo:{let o=Ko(e)-i,l=new Array(o);for(let u=0;u<o;u++)l[u]=ot(e,i+u+1);return Vb(e,i),l}default:{let o=ot(e,-1);throw Vb(e,i),o}}},XN=function(e){return fZ(e,1),1},LN=function(e,t,n){return Rn(e,3,null),Ai(e,XN),t(e),lt(e,n),ki(e,2)},zN=function(e,t,n){switch(Rn(e,3,null),Ai(e,XN),t(e),lt(e,n),Vo(e,2,1,0)){case qo:{let s=MN(e,-1);return mn(e,1),!s}default:{let s=ot(e,-1);throw mn(e,1),s}}},WN=function(e,t,n,r){switch(Rn(e,4,null),Ai(e,function(s){return GN(s,1),0}),t(e),lt(e,n),lt(e,r),Vo(e,3,0,0)){case qo:return;default:{let s=ot(e,-1);throw mn(e,1),s}}},YN=function(e,t,n){switch(Rn(e,4,null),Ai(e,function(r){return GN(r,1),0}),t(e),lt(e,n),DN(e),Vo(e,3,0,0)){case qo:return;default:{let r=ot(e,-1);throw mn(e,1),r}}},IN=function(e,t){return Rn(e,2,null),Ai(e,function(n){return MZ(n,1),1}),t(e),ki(e,1)},jZ=function(){let e=this.L;Rn(e,3,null);let t=Ko(e);switch(this.iter(e),this.state(e),this.last(e),Vo(e,2,CN,0)){case qo:{this.last=jo(e,t+1);let n;if(MN(e,-1))n={done:!0,value:void 0};else{let r=Ko(e)-t,s=new Array(r);for(let a=0;a<r;a++)s[a]=ot(e,t+a+1);n={done:!1,value:s}}return Vb(e,t),n}default:{let n=ot(e,-1);throw mn(e,1),n}}},KZ=function(e,t){switch(Rn(e,1,null),Ai(e,function(n){return NZ(n,At("_G"),UZ,0),cZ(n,-1,At("pairs")),t(n),uZ(n,1,3),3}),Vo(e,0,3,0)){case qo:{let n=jo(e,-3),r=jo(e,-2),s=jo(e,-1);return mn(e,3),{L:e,iter:n,state:r,last:s,next:jZ}}default:{let n=ot(e,-1);throw mn(e,1),n}}},qZ=function(e,t){let n=Um(e),r=function(){return Cm(n,t,this,arguments,1)[0]};r.apply=function(a,i){return Cm(n,t,a,i,1)[0]},r.invoke=function(a,i){return Cm(n,t,a,i,CN)},r.get=function(a){return LN(n,t,a)},r.has=function(a){return zN(n,t,a)},r.set=function(a,i){return WN(n,t,a,i)},r.delete=function(a){return YN(n,t,a)},r.toString=function(){return IN(n,t)},typeof Symbol=="function"&&(r[Symbol.toStringTag]="Fengari object",r[Symbol.iterator]=function(){return KZ(n,t)},Symbol.toPrimitive&&(r[Symbol.toPrimitive]=function(a){if(a==="string")return IN(n,t)})),Hb&&(r[Hb]=r.toString);let s=Jb.get(n);if(!s)throw Error(zb);return s.set(r,t),r},Zb={new:function(e){let t=ot(e,1),n=Ko(e)-1,r=new Array(n);for(let s=0;s<n;s++)r[s]=ot(e,s+2);return lt(e,Xb(t,r)),1},tonumber:function(e){let t=ot(e,1);return PN(e,+t),1},tostring:function(e){let t=ot(e,1);return Bm(e,qN(t)),1},instanceof:function(e){let t=ot(e,1),n=ot(e,2);return UN(e,t instanceof n),1},typeof:function(e){let t=ot(e,1);return Bm(e,typeof t),1}};if(typeof Symbol=="function"&&Symbol.iterator){let e=function(n,r){let s=xi(n,r),a=s[Symbol.iterator];a||NN(n,r,At("object not iterable"));let i=$o(a,s,[]);return VN(i)||NN(n,r,At("Result of the Symbol.iterator method is not an object")),i},t=function(n){let s=ot(n,1).next();return s.done?0:(lt(n,s.value),1)};Zb.of=function(n){let r=e(n,1);return Ai(n,t),lt(n,r),2}}if(typeof Proxy=="function"&&typeof Symbol=="function"){let e=Symbol("lua_State"),t=Symbol("fengari-proxy"),n={apply:function(u,c,f){return Cm(u[e],u[t],c,f,1)[0]},construct:function(u,c){let f=u[e],m=u[t],g=c.length;Rn(f,2+g,null),m(f);let y=Ko(f);if(Iu(f,y,At("construct"))===Go)throw mn(f,1),new TypeError("not a constructor");Nu(f,y,1);for(let w=0;w<g;w++)lt(f,c[w]);return ki(f,1+g)},defineProperty:function(u,c,f){let m=u[e],g=u[t];return Rn(m,4,null),g(m),Iu(m,-1,At("defineProperty"))===Go?(mn(m,1),!1):(Nu(m,-2,1),lt(m,c),lt(m,f),ki(m,3))},deleteProperty:function(u,c){return YN(u[e],u[t],c)},get:function(u,c){return LN(u[e],u[t],c)},getOwnPropertyDescriptor:function(u,c){let f=u[e],m=u[t];if(Rn(f,3,null),m(f),Iu(f,-1,At("getOwnPropertyDescriptor"))===Go){mn(f,1);return}return Nu(f,-2,1),lt(f,c),ki(f,2)},getPrototypeOf:function(u){let c=u[e],f=u[t];return Rn(c,2,null),f(c),Iu(c,-1,At("getPrototypeOf"))===Go?(mn(c,1),null):(Nu(c,-2,1),ki(c,1))},has:function(u,c){return zN(u[e],u[t],c)},ownKeys:function(u){let c=u[e],f=u[t];if(Rn(c,2,null),f(c),Iu(c,-1,At("ownKeys"))===Go)throw mn(c,1),Error("ownKeys unknown for fengari object");return Nu(c,-2,1),ki(c,1)},set:function(u,c,f){return WN(u[e],u[t],c,f),!0},setPrototypeOf:function(u,c){let f=u[e],m=u[t];return Rn(f,3,null),m(f),Iu(f,-1,At("setPrototypeOf"))===Go?(mn(f,1),!1):(Nu(f,-2,1),lt(f,c),ki(f,2))}},r=function(){let u=function(){}.bind();return delete u.length,delete u.name,u},s=function(){return s=Function("return ()=>void 0;"),s()},a=function(){let u=s();return delete u.length,delete u.name,u},i=function(u,c,f){let m=Um(u),g;switch(f){case"function":g=r();break;case"arrow_function":g=a();break;case"object":g={};break;default:throw TypeError("invalid type to createproxy")}return g[t]=c,g[e]=m,new Proxy(g,n)},o=["function","arrow_function","object"],l=o.map(u=>At(u));Zb.createproxy=function(u){OZ(u,1);let c=o[vZ(u,2,l[0],l)],f=i(u,jo(u,1),c);return lt(u,f),1}}var VZ={__index:function(e){let t=xi(e,1),n=ot(e,2);return lt(e,t[n]),1},__newindex:function(e){let t=xi(e,1),n=ot(e,2),r=ot(e,3);return r===void 0?Lb(t,n):t[n]=r,0},__tostring:function(e){let t=xi(e,1),n=qN(t);return FN(e,At(n)),1},__call:function(e){let t=xi(e,1),n=Ko(e)-1,r,s=new Array(Math.max(0,n-1));if(n>0&&(r=ot(e,2),n-- >0))for(let a=0;a<n;a++)s[a]=ot(e,a+3);return lt(e,$o(t,r,s)),1},__pairs:function(e){let t=xi(e,1),n,r,s,a;if(typeof Symbol!="function"||(n=t[Symbol.for("__pairs")])===void 0)r=function(i){if(this.index>=this.keys.length)return;let o=this.keys[this.index++];return[o,this.object[o]]},s={object:t,keys:Object.keys(t),index:0};else{let i=$o(n,t,[]);i===void 0&&qb(e,At("bad '__pairs' result (object with keys 'iter', 'state', 'first' expected)")),r=i.iter,r===void 0&&qb(e,At("bad '__pairs' result (object.iter is missing)")),s=i.state,a=i.first}return Ai(e,function(){let i=ot(e,1),o=ot(e,2),l=$o(r,i,[o]);if(l===void 0)return 0;Array.isArray(l)||qb(e,At("bad iterator result (Array or undefined expected)")),Rn(e,l.length,null);for(let u=0;u<l.length;u++)lt(e,l[u]);return l.length}),lt(e,s),lt(e,a),3},__len:function(e){let t=xi(e,1),n,r;return typeof Symbol!="function"||(n=t[Symbol.for("__len")])===void 0?r=t.length:r=$o(n,t,[]),lt(e,r),1}},HZ=function(e){return Jb.set(Um(e),new WeakMap),lZ(e,$Z),TZ(e,Zb),Bm(e,Yb),Gf(e,-2,At("_VERSION")),mZ(e,jN),Gf(e,-2,At("_VERSION_NUM")),Bm(e,KN),Gf(e,-2,At("_RELEASE")),RZ(e,Mm),IZ(e,VZ,0),mn(e,1),Qb(e,null),yZ(e,-1),bZ(e,Wb,null),Gf(e,-2,At("null")),lt(e,GZ),Gf(e,-2,At("global")),1};Rs.exports.FENGARI_INTEROP_VERSION=Yb;Rs.exports.FENGARI_INTEROP_VERSION_NUM=jN;Rs.exports.FENGARI_INTEROP_RELEASE=KN;Rs.exports.checkjs=xi;Rs.exports.testjs=HN;Rs.exports.pushjs=Qb;Rs.exports.push=lt;Rs.exports.tojs=ot;Rs.exports.luaopen_js=HZ});var t1=T((Toe,XZ)=>{XZ.exports=`# Server\r
redis_version:7.0.12\r
redis_git_sha1:00000000\r
redis_git_dirty:0\r
redis_build_id:bf86f713484a4108\r
redis_mode:standalone\r
os:Linux 5.15.0-1041-azure x86_64\r
arch_bits:64\r
monotonic_clock:POSIX clock_gettime\r
multiplexing_api:epoll\r
atomicvar_api:c11-builtin\r
gcc_version:12.2.0\r
process_id:1\r
process_supervised:no\r
run_id:a07372097bdc69ffbdf906d67f441c92572bbc27\r
tcp_port:6379\r
server_time_usec:1689365657122562\r
uptime_in_seconds:84\r
uptime_in_days:0\r
hz:10\r
configured_hz:10\r
lru_clock:11644057\r
executable:/tmp/redis-server\r
config_file:\r
io_threads_active:0\r
\r
# Clients\r
connected_clients:1\r
cluster_connections:0\r
maxclients:10000\r
client_recent_max_input_buffer:20480\r
client_recent_max_output_buffer:0\r
blocked_clients:0\r
tracking_clients:0\r
clients_in_timeout_table:0\r
\r
# Memory\r
used_memory:4116432\r
used_memory_human:3.93M\r
used_memory_rss:15478784\r
used_memory_rss_human:14.76M\r
used_memory_peak:4201504\r
used_memory_peak_human:4.01M\r
used_memory_peak_perc:97.98%\r
used_memory_overhead:864408\r
used_memory_startup:862048\r
used_memory_dataset:3252024\r
used_memory_dataset_perc:99.93%\r
allocator_allocated:4262584\r
allocator_active:5128192\r
allocator_resident:7720960\r
total_system_memory:7268679680\r
total_system_memory_human:6.77G\r
used_memory_lua:40960\r
used_memory_vm_eval:40960\r
used_memory_lua_human:40.00K\r
used_memory_scripts_eval:2176\r
number_of_cached_scripts:11\r
number_of_functions:0\r
number_of_libraries:0\r
used_memory_vm_functions:32768\r
used_memory_vm_total:73728\r
used_memory_vm_total_human:72.00K\r
used_memory_functions:184\r
used_memory_scripts:2360\r
used_memory_scripts_human:2.30K\r
maxmemory:0\r
maxmemory_human:0B\r
maxmemory_policy:noeviction\r
allocator_frag_ratio:1.20\r
allocator_frag_bytes:865608\r
allocator_rss_ratio:1.51\r
allocator_rss_bytes:2592768\r
rss_overhead_ratio:2.00\r
rss_overhead_bytes:7757824\r
mem_fragmentation_ratio:3.80\r
mem_fragmentation_bytes:11402224\r
mem_not_counted_for_evict:0\r
mem_replication_backlog:0\r
mem_total_replication_buffers:0\r
mem_clients_slaves:0\r
mem_clients_normal:0\r
mem_cluster_links:0\r
mem_aof_buffer:0\r
mem_allocator:jemalloc-5.2.1\r
active_defrag_running:0\r
lazyfree_pending_objects:0\r
lazyfreed_objects:0\r
\r
# Persistence\r
loading:0\r
async_loading:0\r
current_cow_peak:0\r
current_cow_size:0\r
current_cow_size_age:0\r
current_fork_perc:0.00\r
current_save_keys_processed:0\r
current_save_keys_total:0\r
rdb_changes_since_last_save:0\r
rdb_bgsave_in_progress:0\r
rdb_last_save_time:1689365656\r
rdb_last_bgsave_status:ok\r
rdb_last_bgsave_time_sec:0\r
rdb_current_bgsave_time_sec:-1\r
rdb_saves:3\r
rdb_last_cow_size:241664\r
rdb_last_load_keys_expired:0\r
rdb_last_load_keys_loaded:0\r
aof_enabled:0\r
aof_rewrite_in_progress:0\r
aof_rewrite_scheduled:0\r
aof_last_rewrite_time_sec:0\r
aof_current_rewrite_time_sec:-1\r
aof_last_bgrewrite_status:ok\r
aof_rewrites:1\r
aof_rewrites_consecutive_failures:0\r
aof_last_write_status:ok\r
aof_last_cow_size:237568\r
module_fork_in_progress:0\r
module_fork_last_cow_size:0\r
\r
# Stats\r
total_connections_received:956\r
total_commands_processed:2835\r
instantaneous_ops_per_sec:42\r
total_net_input_bytes:75613\r
total_net_output_bytes:4811345\r
total_net_repl_input_bytes:0\r
total_net_repl_output_bytes:0\r
instantaneous_input_kbps:0.83\r
instantaneous_output_kbps:88.40\r
instantaneous_input_repl_kbps:0.00\r
instantaneous_output_repl_kbps:0.00\r
rejected_connections:0\r
sync_full:0\r
sync_partial_ok:0\r
sync_partial_err:0\r
expired_keys:16\r
expired_stale_perc:0.84\r
expired_time_cap_reached_count:0\r
expire_cycle_cpu_milliseconds:0\r
evicted_keys:0\r
evicted_clients:0\r
total_eviction_exceeded_time:0\r
current_eviction_exceeded_time:0\r
keyspace_hits:381\r
keyspace_misses:147\r
pubsub_channels:0\r
pubsub_patterns:0\r
pubsubshard_channels:0\r
latest_fork_usec:325\r
total_forks:2\r
migrate_cached_sockets:0\r
slave_expires_tracked_keys:0\r
active_defrag_hits:0\r
active_defrag_misses:0\r
active_defrag_key_hits:0\r
active_defrag_key_misses:0\r
total_active_defrag_time:0\r
current_active_defrag_time:0\r
tracking_total_keys:0\r
tracking_total_items:0\r
tracking_total_prefixes:0\r
unexpected_error_replies:0\r
total_error_replies:87\r
dump_payload_sanitizations:0\r
total_reads_processed:3783\r
total_writes_processed:2830\r
io_threaded_reads_processed:0\r
io_threaded_writes_processed:0\r
reply_buffer_shrinks:23\r
reply_buffer_expands:0\r
\r
# Replication\r
role:master\r
connected_slaves:0\r
master_failover_state:no-failover\r
master_replid:afdb28064e29fa582c435e2ccaa1b3d23d253730\r
master_replid2:0000000000000000000000000000000000000000\r
master_repl_offset:0\r
second_repl_offset:-1\r
repl_backlog_active:0\r
repl_backlog_size:1048576\r
repl_backlog_first_byte_offset:0\r
repl_backlog_histlen:0\r
\r
# CPU\r
used_cpu_sys:0.496095\r
used_cpu_user:0.267208\r
used_cpu_sys_children:0.001395\r
used_cpu_user_children:0.004592\r
used_cpu_sys_main_thread:0.494334\r
used_cpu_user_main_thread:0.266258\r
\r
# Modules\r
\r
# Errorstats\r
errorstat_ERR:count=66\r
errorstat_NOSCRIPT:count=2\r
errorstat_WRONGTYPE:count=19\r
\r
# Cluster\r
cluster_enabled:0\r
\r
# Keyspace\r
`});var YB=T((Roe,WB)=>{var LZ=Object.create,c1=Object.defineProperty,zZ=Object.getOwnPropertyDescriptor,oI=Object.getOwnPropertyNames,WZ=Object.getPrototypeOf,YZ=Object.prototype.hasOwnProperty,le=(e,t)=>function(){return t||(0,e[oI(e)[0]])((t={exports:{}}).exports,t),t.exports},lI=(e,t)=>{for(var n in t)c1(e,n,{get:t[n],enumerable:!0})},QZ=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oI(t))!YZ.call(e,s)&&s!==n&&c1(e,s,{get:()=>t[s],enumerable:!(r=zZ(t,s))||r.enumerable});return e},ut=(e,t,n)=>(n=e!=null?LZ(WZ(e)):{},QZ(t||!e||!e.__esModule?c1(n,"default",{value:e,enumerable:!0}):n,e)),f1=le({"node_modules/lodash.shuffle/index.js"(e,t){var n=1/0,r=9007199254740991,s=17976931348623157e292,a=0/0,i=4294967295,o="[object Arguments]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",f="[object Object]",m="[object Promise]",g="[object Set]",y="[object String]",w="[object Symbol]",S="[object WeakMap]",R="[object DataView]",B=/[\\^$.*+?()[\]{}|]/g,P=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,U=/^\[object .+?Constructor\]$/,F=/^0o[0-7]+$/i,q=/^(?:0|[1-9]\d*)$/,ee="\\ud800-\\udfff",L="\\u0300-\\u036f\\ufe20-\\ufe23",_t="\\u20d0-\\u20f0",Yn="\\ufe0e\\ufe0f",Mr="["+ee+"]",Dn="["+L+_t+"]",$="\\ud83c[\\udffb-\\udfff]",G="(?:"+Dn+"|"+$+")",te="[^"+ee+"]",J="(?:\\ud83c[\\udde6-\\uddff]){2}",ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Y="\\u200d",oe=G+"?",Ne="["+Yn+"]?",Ee="(?:"+Y+"(?:"+[te,J,ne].join("|")+")"+Ne+oe+")*",Fe=Ne+oe+Ee,Ge="(?:"+[te+Dn+"?",Dn,J,ne,Mr].join("|")+")",Pn=RegExp($+"(?="+$+")|"+Ge+Fe,"g"),Ur=RegExp("["+Y+ee+L+_t+Yn+"]"),ae=parseInt,Ni=typeof global=="object"&&global&&global.Object===Object&&global,Vu=typeof self=="object"&&self&&self.Object===Object&&self,st=Ni||Vu||Function("return this")();function Ii(x,M){for(var X=-1,Me=x?x.length:0,Je=Array(Me);++X<Me;)Je[X]=M(x[X],X,x);return Je}function Ci(x){return x.split("")}function Hu(x,M){for(var X=-1,Me=Array(x);++X<x;)Me[X]=M(X);return Me}function Bi(x,M){return Ii(M,function(X){return x[X]})}function Mi(x,M){return x?.[M]}function Ui(x){return Ur.test(x)}function rl(x){var M=!1;if(x!=null&&typeof x.toString!="function")try{M=!!(x+"")}catch{}return M}function Xu(x){for(var M,X=[];!(M=x.next()).done;)X.push(M.value);return X}function Lu(x){var M=-1,X=Array(x.size);return x.forEach(function(Me,Je){X[++M]=[Je,Me]}),X}function sl(x,M){return function(X){return x(M(X))}}function zu(x){var M=-1,X=Array(x.size);return x.forEach(function(Me){X[++M]=Me}),X}function al(x){return Ui(x)?Wu(x):Ci(x)}function Wu(x){return x.match(Pn)||[]}var Di=Function.prototype,Ia=Object.prototype,Pi=st["__core-js_shared__"],Fi=function(){var x=/[^.]+$/.exec(Pi&&Pi.keys&&Pi.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Gi=Di.toString,Ca=Ia.hasOwnProperty,_n=Ia.toString,$i=RegExp("^"+Gi.call(Ca).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ji=st.Symbol,Ba=ji?ji.iterator:void 0,Qn=Ia.propertyIsEnumerable,ss=Math.floor,Ma=sl(Object.keys,Object),Ua=Math.random,Fs=Fn(st,"DataView"),Da=Fn(st,"Map"),bn=Fn(st,"Promise"),xr=Fn(st,"Set"),Gs=Fn(st,"WeakMap"),as=Gn(Fs),Pa=Gn(Da),Ki=Gn(bn),qi=Gn(xr),$s=Gn(Gs);function il(x,M){var X=ul(x)||ec(x)?Hu(x.length,String):[],Me=X.length,Je=!!Me;for(var Pr in x)(M||Ca.call(x,Pr))&&!(Je&&(Pr=="length"||ol(Pr,Me)))&&X.push(Pr);return X}function Yu(x,M,X){return x===x&&(X!==void 0&&(x=x<=X?x:X),M!==void 0&&(x=x>=M?x:M)),x}function Vi(x){return _n.call(x)}function js(x){if(!qs(x)||Ju(x))return!1;var M=cl(x)||rl(x)?$i:U;return M.test(Gn(x))}function Hi(x){if(!Zu(x))return Ma(x);var M=[];for(var X in Object(x))Ca.call(x,X)&&X!="constructor"&&M.push(X);return M}function is(x,M){return x+ss(Ua()*(M-x+1))}function Ks(x,M){var X=-1,Me=x.length;for(M||(M=Array(Me));++X<Me;)M[X]=x[X];return M}function Fn(x,M){var X=Mi(x,M);return js(X)?X:void 0}var en=Vi;(Fs&&en(new Fs(new ArrayBuffer(1)))!=R||Da&&en(new Da)!=c||bn&&en(bn.resolve())!=m||xr&&en(new xr)!=g||Gs&&en(new Gs)!=S)&&(en=function(x){var M=_n.call(x),X=M==f?x.constructor:void 0,Me=X?Gn(X):void 0;if(Me)switch(Me){case as:return R;case Pa:return c;case Ki:return m;case qi:return g;case $s:return S}return M});function ol(x,M){return M=M??r,!!M&&(typeof x=="number"||q.test(x))&&x>-1&&x%1==0&&x<M}function Qu(x,M,X){if(!qs(X))return!1;var Me=typeof M;return(Me=="number"?Fa(X)&&ol(M,X.length):Me=="string"&&M in X)?Dr(X[M],x):!1}function Ju(x){return!!Fi&&Fi in x}function Zu(x){var M=x&&x.constructor,X=typeof M=="function"&&M.prototype||Ia;return x===X}function Gn(x){if(x!=null){try{return Gi.call(x)}catch{}try{return x+""}catch{}}return""}function xn(x,M,X){var Me=-1,Je=nc(x),Pr=Je.length,ic=Pr-1;for((X?Qu(x,M,X):M===void 0)?M=1:M=Yu(tr(M),0,Pr);++Me<M;){var Li=is(Me,ic),oc=Je[Li];Je[Li]=Je[Me],Je[Me]=oc}return Je.length=M,Je}function ll(x){return xn(x,i)}function Dr(x,M){return x===M||x!==x&&M!==M}function ec(x){return Jn(x)&&Ca.call(x,"callee")&&(!Qn.call(x,"callee")||_n.call(x)==o)}var ul=Array.isArray;function Fa(x){return x!=null&&Zn(x.length)&&!cl(x)}function Jn(x){return Xi(x)&&Fa(x)}function cl(x){var M=qs(x)?_n.call(x):"";return M==l||M==u}function Zn(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=r}function qs(x){var M=typeof x;return!!x&&(M=="object"||M=="function")}function Xi(x){return!!x&&typeof x=="object"}function tc(x){return typeof x=="string"||!ul(x)&&Xi(x)&&_n.call(x)==y}function Ga(x){return typeof x=="symbol"||Xi(x)&&_n.call(x)==w}function nc(x){if(!x)return[];if(Fa(x))return tc(x)?al(x):Ks(x);if(Ba&&x[Ba])return Xu(x[Ba]());var M=en(x),X=M==c?Lu:M==g?zu:ac;return X(x)}function er(x){if(!x)return x===0?x:0;if(x=rc(x),x===n||x===-n){var M=x<0?-1:1;return M*s}return x===x?x:0}function tr(x){var M=er(x),X=M%1;return M===M?X?M-X:M:0}function rc(x){if(typeof x=="number")return x;if(Ga(x))return a;if(qs(x)){var M=typeof x.valueOf=="function"?x.valueOf():x;x=qs(M)?M+"":M}if(typeof x!="string")return x===0?x:+x;x=x.replace(P,"");var X=v.test(x);return X||F.test(x)?ae(x.slice(2),X?2:8):W.test(x)?a:+x}function sc(x){return Fa(x)?il(x):Hi(x)}function ac(x){return x?Bi(x,sc(x)):[]}t.exports=ll}}),$m=le({"node_modules/semver/internal/constants.js"(e,t){var n="2.0.0",r=Number.MAX_SAFE_INTEGER||9007199254740991,s=16,a=256-6,i=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:r,RELEASE_TYPES:i,SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}}),jm=le({"node_modules/semver/internal/debug.js"(e,t){var n=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};t.exports=n}}),jf=le({"node_modules/semver/internal/re.js"(e,t){var{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=$m(),a=jm();e=t.exports={};var i=e.re=[],o=e.safeRe=[],l=e.src=[],u=e.t={},c=0,f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[f,r]],g=w=>{for(let[S,R]of m)w=w.split(`${S}*`).join(`${S}{0,${R}}`).split(`${S}+`).join(`${S}{1,${R}}`);return w},y=(w,S,R)=>{let B=g(S),P=c++;a(w,P,S),u[w]=P,l[P]=S,i[P]=new RegExp(S,R?"g":void 0),o[P]=new RegExp(B,R?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),y("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${f}+`),y("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),y("FULL",`^${l[u.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),y("LOOSE",`^${l[u.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),y("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),y("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),y("COERCERTL",l[u.COERCE],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),p1=le({"node_modules/semver/internal/parse-options.js"(e,t){var n=Object.freeze({loose:!0}),r=Object.freeze({}),s=a=>a?typeof a!="object"?n:a:r;t.exports=s}}),uI=le({"node_modules/semver/internal/identifiers.js"(e,t){var n=/^[0-9]+$/,r=(a,i)=>{let o=n.test(a),l=n.test(i);return o&&l&&(a=+a,i=+i),a===i?0:o&&!l?-1:l&&!o?1:a<i?-1:1},s=(a,i)=>r(i,a);t.exports={compareIdentifiers:r,rcompareIdentifiers:s}}}),Nn=le({"node_modules/semver/classes/semver.js"(e,t){var n=jm(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:s}=$m(),{safeRe:a,t:i}=jf(),o=p1(),{compareIdentifiers:l}=uI(),u=class Ns{constructor(f,m){if(m=o(m),f instanceof Ns){if(f.loose===!!m.loose&&f.includePrerelease===!!m.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>r)throw new TypeError(`version is longer than ${r} characters`);n("SemVer",f,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;let g=f.trim().match(m.loose?a[i.LOOSE]:a[i.FULL]);if(!g)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){let w=+y;if(w>=0&&w<s)return w}return y}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(n("SemVer.compare",this.version,this.options,f),!(f instanceof Ns)){if(typeof f=="string"&&f===this.version)return 0;f=new Ns(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof Ns||(f=new Ns(f,this.options)),l(this.major,f.major)||l(this.minor,f.minor)||l(this.patch,f.patch)}comparePre(f){if(f instanceof Ns||(f=new Ns(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let m=0;do{let g=this.prerelease[m],y=f.prerelease[m];if(n("prerelease compare",m,g,y),g===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(g===void 0)return-1;if(g!==y)return l(g,y)}while(++m)}compareBuild(f){f instanceof Ns||(f=new Ns(f,this.options));let m=0;do{let g=this.build[m],y=f.build[m];if(n("prerelease compare",m,g,y),g===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(g===void 0)return-1;if(g!==y)return l(g,y)}while(++m)}inc(f,m,g){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,g),this.inc("pre",m,g);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,g),this.inc("pre",m,g);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let y=Number(g)?1:0;if(!m&&g===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[y];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(m===this.prerelease.join(".")&&g===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(m){let w=[m,y];g===!1&&(w=[m]),l(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};t.exports=u}}),Uu=le({"node_modules/semver/functions/parse.js"(e,t){var n=Nn(),r=(s,a,i=!1)=>{if(s instanceof n)return s;try{return new n(s,a)}catch(o){if(!i)return null;throw o}};t.exports=r}}),JZ=le({"node_modules/semver/functions/valid.js"(e,t){var n=Uu(),r=(s,a)=>{let i=n(s,a);return i?i.version:null};t.exports=r}}),ZZ=le({"node_modules/semver/functions/clean.js"(e,t){var n=Uu(),r=(s,a)=>{let i=n(s.trim().replace(/^[=v]+/,""),a);return i?i.version:null};t.exports=r}}),eee=le({"node_modules/semver/functions/inc.js"(e,t){var n=Nn(),r=(s,a,i,o,l)=>{typeof i=="string"&&(l=o,o=i,i=void 0);try{return new n(s instanceof n?s.version:s,i).inc(a,o,l).version}catch{return null}};t.exports=r}}),tee=le({"node_modules/semver/functions/diff.js"(e,t){var n=Uu(),r=(s,a)=>{let i=n(s,null,!0),o=n(a,null,!0),l=i.compare(o);if(l===0)return null;let u=l>0,c=u?i:o,f=u?o:i,m=!!c.prerelease.length;if(f.prerelease.length&&!m)return!f.patch&&!f.minor?"major":c.patch?"patch":c.minor?"minor":"major";let g=m?"pre":"";return i.major!==o.major?g+"major":i.minor!==o.minor?g+"minor":i.patch!==o.patch?g+"patch":"prerelease"};t.exports=r}}),nee=le({"node_modules/semver/functions/major.js"(e,t){var n=Nn(),r=(s,a)=>new n(s,a).major;t.exports=r}}),ree=le({"node_modules/semver/functions/minor.js"(e,t){var n=Nn(),r=(s,a)=>new n(s,a).minor;t.exports=r}}),see=le({"node_modules/semver/functions/patch.js"(e,t){var n=Nn(),r=(s,a)=>new n(s,a).patch;t.exports=r}}),aee=le({"node_modules/semver/functions/prerelease.js"(e,t){var n=Uu(),r=(s,a)=>{let i=n(s,a);return i&&i.prerelease.length?i.prerelease:null};t.exports=r}}),Jr=le({"node_modules/semver/functions/compare.js"(e,t){var n=Nn(),r=(s,a,i)=>new n(s,i).compare(new n(a,i));t.exports=r}}),iee=le({"node_modules/semver/functions/rcompare.js"(e,t){var n=Jr(),r=(s,a,i)=>n(a,s,i);t.exports=r}}),oee=le({"node_modules/semver/functions/compare-loose.js"(e,t){var n=Jr(),r=(s,a)=>n(s,a,!0);t.exports=r}}),d1=le({"node_modules/semver/functions/compare-build.js"(e,t){var n=Nn(),r=(s,a,i)=>{let o=new n(s,i),l=new n(a,i);return o.compare(l)||o.compareBuild(l)};t.exports=r}}),lee=le({"node_modules/semver/functions/sort.js"(e,t){var n=d1(),r=(s,a)=>s.sort((i,o)=>n(i,o,a));t.exports=r}}),uee=le({"node_modules/semver/functions/rsort.js"(e,t){var n=d1(),r=(s,a)=>s.sort((i,o)=>n(o,i,a));t.exports=r}}),Km=le({"node_modules/semver/functions/gt.js"(e,t){var n=Jr(),r=(s,a,i)=>n(s,a,i)>0;t.exports=r}}),m1=le({"node_modules/semver/functions/lt.js"(e,t){var n=Jr(),r=(s,a,i)=>n(s,a,i)<0;t.exports=r}}),cI=le({"node_modules/semver/functions/eq.js"(e,t){var n=Jr(),r=(s,a,i)=>n(s,a,i)===0;t.exports=r}}),fI=le({"node_modules/semver/functions/neq.js"(e,t){var n=Jr(),r=(s,a,i)=>n(s,a,i)!==0;t.exports=r}}),h1=le({"node_modules/semver/functions/gte.js"(e,t){var n=Jr(),r=(s,a,i)=>n(s,a,i)>=0;t.exports=r}}),y1=le({"node_modules/semver/functions/lte.js"(e,t){var n=Jr(),r=(s,a,i)=>n(s,a,i)<=0;t.exports=r}}),pI=le({"node_modules/semver/functions/cmp.js"(e,t){var n=cI(),r=fI(),s=Km(),a=h1(),i=m1(),o=y1(),l=(u,c,f,m)=>{switch(c){case"===":return typeof u=="object"&&(u=u.version),typeof f=="object"&&(f=f.version),u===f;case"!==":return typeof u=="object"&&(u=u.version),typeof f=="object"&&(f=f.version),u!==f;case"":case"=":case"==":return n(u,f,m);case"!=":return r(u,f,m);case">":return s(u,f,m);case">=":return a(u,f,m);case"<":return i(u,f,m);case"<=":return o(u,f,m);default:throw new TypeError(`Invalid operator: ${c}`)}};t.exports=l}}),cee=le({"node_modules/semver/functions/coerce.js"(e,t){var n=Nn(),r=Uu(),{safeRe:s,t:a}=jf(),i=(o,l)=>{if(o instanceof n)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;l=l||{};let u=null;if(!l.rtl)u=o.match(s[a.COERCE]);else{let c;for(;(c=s[a.COERCERTL].exec(o))&&(!u||u.index+u[0].length!==o.length);)(!u||c.index+c[0].length!==u.index+u[0].length)&&(u=c),s[a.COERCERTL].lastIndex=c.index+c[1].length+c[2].length;s[a.COERCERTL].lastIndex=-1}return u===null?null:r(`${u[2]}.${u[3]||"0"}.${u[4]||"0"}`,l)};t.exports=i}}),fee=le({"node_modules/semver/node_modules/yallist/iterator.js"(e,t){"use strict";t.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}}}),pee=le({"node_modules/semver/node_modules/yallist/yallist.js"(e,t){"use strict";t.exports=n,n.Node=i,n.create=n;function n(o){var l=this;if(l instanceof n||(l=new n),l.tail=null,l.head=null,l.length=0,o&&typeof o.forEach=="function")o.forEach(function(f){l.push(f)});else if(arguments.length>0)for(var u=0,c=arguments.length;u<c;u++)l.push(arguments[u]);return l}n.prototype.removeNode=function(o){if(o.list!==this)throw new Error("removing node which does not belong to this list");var l=o.next,u=o.prev;return l&&(l.prev=u),u&&(u.next=l),o===this.head&&(this.head=l),o===this.tail&&(this.tail=u),o.list.length--,o.next=null,o.prev=null,o.list=null,l},n.prototype.unshiftNode=function(o){if(o!==this.head){o.list&&o.list.removeNode(o);var l=this.head;o.list=this,o.next=l,l&&(l.prev=o),this.head=o,this.tail||(this.tail=o),this.length++}},n.prototype.pushNode=function(o){if(o!==this.tail){o.list&&o.list.removeNode(o);var l=this.tail;o.list=this,o.prev=l,l&&(l.next=o),this.tail=o,this.head||(this.head=o),this.length++}},n.prototype.push=function(){for(var o=0,l=arguments.length;o<l;o++)s(this,arguments[o]);return this.length},n.prototype.unshift=function(){for(var o=0,l=arguments.length;o<l;o++)a(this,arguments[o]);return this.length},n.prototype.pop=function(){if(this.tail){var o=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,o}},n.prototype.shift=function(){if(this.head){var o=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,o}},n.prototype.forEach=function(o,l){l=l||this;for(var u=this.head,c=0;u!==null;c++)o.call(l,u.value,c,this),u=u.next},n.prototype.forEachReverse=function(o,l){l=l||this;for(var u=this.tail,c=this.length-1;u!==null;c--)o.call(l,u.value,c,this),u=u.prev},n.prototype.get=function(o){for(var l=0,u=this.head;u!==null&&l<o;l++)u=u.next;if(l===o&&u!==null)return u.value},n.prototype.getReverse=function(o){for(var l=0,u=this.tail;u!==null&&l<o;l++)u=u.prev;if(l===o&&u!==null)return u.value},n.prototype.map=function(o,l){l=l||this;for(var u=new n,c=this.head;c!==null;)u.push(o.call(l,c.value,this)),c=c.next;return u},n.prototype.mapReverse=function(o,l){l=l||this;for(var u=new n,c=this.tail;c!==null;)u.push(o.call(l,c.value,this)),c=c.prev;return u},n.prototype.reduce=function(o,l){var u,c=this.head;if(arguments.length>1)u=l;else if(this.head)c=this.head.next,u=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;c!==null;f++)u=o(u,c.value,f),c=c.next;return u},n.prototype.reduceReverse=function(o,l){var u,c=this.tail;if(arguments.length>1)u=l;else if(this.tail)c=this.tail.prev,u=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;c!==null;f--)u=o(u,c.value,f),c=c.prev;return u},n.prototype.toArray=function(){for(var o=new Array(this.length),l=0,u=this.head;u!==null;l++)o[l]=u.value,u=u.next;return o},n.prototype.toArrayReverse=function(){for(var o=new Array(this.length),l=0,u=this.tail;u!==null;l++)o[l]=u.value,u=u.prev;return o},n.prototype.slice=function(o,l){l=l||this.length,l<0&&(l+=this.length),o=o||0,o<0&&(o+=this.length);var u=new n;if(l<o||l<0)return u;o<0&&(o=0),l>this.length&&(l=this.length);for(var c=0,f=this.head;f!==null&&c<o;c++)f=f.next;for(;f!==null&&c<l;c++,f=f.next)u.push(f.value);return u},n.prototype.sliceReverse=function(o,l){l=l||this.length,l<0&&(l+=this.length),o=o||0,o<0&&(o+=this.length);var u=new n;if(l<o||l<0)return u;o<0&&(o=0),l>this.length&&(l=this.length);for(var c=this.length,f=this.tail;f!==null&&c>l;c--)f=f.prev;for(;f!==null&&c>o;c--,f=f.prev)u.push(f.value);return u},n.prototype.splice=function(o,l,...u){o>this.length&&(o=this.length-1),o<0&&(o=this.length+o);for(var c=0,f=this.head;f!==null&&c<o;c++)f=f.next;for(var m=[],c=0;f&&c<l;c++)m.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var c=0;c<u.length;c++)f=r(this,f,u[c]);return m},n.prototype.reverse=function(){for(var o=this.head,l=this.tail,u=o;u!==null;u=u.prev){var c=u.prev;u.prev=u.next,u.next=c}return this.head=l,this.tail=o,this};function r(o,l,u){var c=l===o.head?new i(u,null,l,o):new i(u,l,l.next,o);return c.next===null&&(o.tail=c),c.prev===null&&(o.head=c),o.length++,c}function s(o,l){o.tail=new i(l,o.tail,null,o),o.head||(o.head=o.tail),o.length++}function a(o,l){o.head=new i(l,null,o.head,o),o.tail||(o.tail=o.head),o.length++}function i(o,l,u,c){if(!(this instanceof i))return new i(o,l,u,c);this.list=c,this.value=o,l?(l.next=this,this.prev=l):this.prev=null,u?(u.prev=this,this.next=u):this.next=null}try{fee()(n)}catch{}}}),dee=le({"node_modules/semver/node_modules/lru-cache/index.js"(e,t){"use strict";var n=pee(),r=Symbol("max"),s=Symbol("length"),a=Symbol("lengthCalculator"),i=Symbol("allowStale"),o=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),c=Symbol("lruList"),f=Symbol("cache"),m=Symbol("updateAgeOnGet"),g=()=>1,y=class{constructor(v){if(typeof v=="number"&&(v={max:v}),v||(v={}),v.max&&(typeof v.max!="number"||v.max<0))throw new TypeError("max must be a non-negative number");let U=this[r]=v.max||1/0,F=v.length||g;if(this[a]=typeof F!="function"?g:F,this[i]=v.stale||!1,v.maxAge&&typeof v.maxAge!="number")throw new TypeError("maxAge must be a number");this[o]=v.maxAge||0,this[l]=v.dispose,this[u]=v.noDisposeOnSet||!1,this[m]=v.updateAgeOnGet||!1,this.reset()}set max(v){if(typeof v!="number"||v<0)throw new TypeError("max must be a non-negative number");this[r]=v||1/0,R(this)}get max(){return this[r]}set allowStale(v){this[i]=!!v}get allowStale(){return this[i]}set maxAge(v){if(typeof v!="number")throw new TypeError("maxAge must be a non-negative number");this[o]=v,R(this)}get maxAge(){return this[o]}set lengthCalculator(v){typeof v!="function"&&(v=g),v!==this[a]&&(this[a]=v,this[s]=0,this[c].forEach(U=>{U.length=this[a](U.value,U.key),this[s]+=U.length})),R(this)}get lengthCalculator(){return this[a]}get length(){return this[s]}get itemCount(){return this[c].length}rforEach(v,U){U=U||this;for(let F=this[c].tail;F!==null;){let q=F.prev;W(this,v,F,U),F=q}}forEach(v,U){U=U||this;for(let F=this[c].head;F!==null;){let q=F.next;W(this,v,F,U),F=q}}keys(){return this[c].toArray().map(v=>v.key)}values(){return this[c].toArray().map(v=>v.value)}reset(){this[l]&&this[c]&&this[c].length&&this[c].forEach(v=>this[l](v.key,v.value)),this[f]=new Map,this[c]=new n,this[s]=0}dump(){return this[c].map(v=>S(this,v)?!1:{k:v.key,v:v.value,e:v.now+(v.maxAge||0)}).toArray().filter(v=>v)}dumpLru(){return this[c]}set(v,U,F){if(F=F||this[o],F&&typeof F!="number")throw new TypeError("maxAge must be a number");let q=F?Date.now():0,ee=this[a](U,v);if(this[f].has(v)){if(ee>this[r])return B(this,this[f].get(v)),!1;let _t=this[f].get(v).value;return this[l]&&(this[u]||this[l](v,_t.value)),_t.now=q,_t.maxAge=F,_t.value=U,this[s]+=ee-_t.length,_t.length=ee,this.get(v),R(this),!0}let L=new P(v,U,ee,q,F);return L.length>this[r]?(this[l]&&this[l](v,U),!1):(this[s]+=L.length,this[c].unshift(L),this[f].set(v,this[c].head),R(this),!0)}has(v){if(!this[f].has(v))return!1;let U=this[f].get(v).value;return!S(this,U)}get(v){return w(this,v,!0)}peek(v){return w(this,v,!1)}pop(){let v=this[c].tail;return v?(B(this,v),v.value):null}del(v){B(this,this[f].get(v))}load(v){this.reset();let U=Date.now();for(let F=v.length-1;F>=0;F--){let q=v[F],ee=q.e||0;if(ee===0)this.set(q.k,q.v);else{let L=ee-U;L>0&&this.set(q.k,q.v,L)}}}prune(){this[f].forEach((v,U)=>w(this,U,!1))}},w=(v,U,F)=>{let q=v[f].get(U);if(q){let ee=q.value;if(S(v,ee)){if(B(v,q),!v[i])return}else F&&(v[m]&&(q.value.now=Date.now()),v[c].unshiftNode(q));return ee.value}},S=(v,U)=>{if(!U||!U.maxAge&&!v[o])return!1;let F=Date.now()-U.now;return U.maxAge?F>U.maxAge:v[o]&&F>v[o]},R=v=>{if(v[s]>v[r])for(let U=v[c].tail;v[s]>v[r]&&U!==null;){let F=U.prev;B(v,U),U=F}},B=(v,U)=>{if(U){let F=U.value;v[l]&&v[l](F.key,F.value),v[s]-=F.length,v[f].delete(F.key),v[c].removeNode(U)}},P=class{constructor(v,U,F,q,ee){this.key=v,this.value=U,this.length=F,this.now=q,this.maxAge=ee||0}},W=(v,U,F,q)=>{let ee=F.value;S(v,ee)&&(B(v,F),v[i]||(ee=void 0)),ee&&U.call(q,ee.value,ee.key,v)};t.exports=y}}),Zr=le({"node_modules/semver/classes/range.js"(e,t){var n=class Dm{constructor(G,te){if(te=a(te),G instanceof Dm)return G.loose===!!te.loose&&G.includePrerelease===!!te.includePrerelease?G:new Dm(G.raw,te);if(G instanceof i)return this.raw=G.value,this.set=[[G]],this.format(),this;if(this.options=te,this.loose=!!te.loose,this.includePrerelease=!!te.includePrerelease,this.raw=G.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(J=>this.parseRange(J.trim())).filter(J=>J.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let J=this.set[0];if(this.set=this.set.filter(ne=>!S(ne[0])),this.set.length===0)this.set=[J];else if(this.set.length>1){for(let ne of this.set)if(ne.length===1&&R(ne[0])){this.set=[ne];break}}}this.format()}format(){return this.range=this.set.map(G=>G.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(G){let te=((this.options.includePrerelease&&y)|(this.options.loose&&w))+":"+G,J=s.get(te);if(J)return J;let ne=this.options.loose,Y=ne?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];G=G.replace(Y,Mr(this.options.includePrerelease)),o("hyphen replace",G),G=G.replace(u[c.COMPARATORTRIM],f),o("comparator trim",G),G=G.replace(u[c.TILDETRIM],m),o("tilde trim",G),G=G.replace(u[c.CARETTRIM],g),o("caret trim",G);let oe=G.split(" ").map(Ge=>P(Ge,this.options)).join(" ").split(/\s+/).map(Ge=>Yn(Ge,this.options));ne&&(oe=oe.filter(Ge=>(o("loose invalid filter",Ge,this.options),!!Ge.match(u[c.COMPARATORLOOSE])))),o("range list",oe);let Ne=new Map,Ee=oe.map(Ge=>new i(Ge,this.options));for(let Ge of Ee){if(S(Ge))return[Ge];Ne.set(Ge.value,Ge)}Ne.size>1&&Ne.has("")&&Ne.delete("");let Fe=[...Ne.values()];return s.set(te,Fe),Fe}intersects(G,te){if(!(G instanceof Dm))throw new TypeError("a Range is required");return this.set.some(J=>B(J,te)&&G.set.some(ne=>B(ne,te)&&J.every(Y=>ne.every(oe=>Y.intersects(oe,te)))))}test(G){if(!G)return!1;if(typeof G=="string")try{G=new l(G,this.options)}catch{return!1}for(let te=0;te<this.set.length;te++)if(Dn(this.set[te],G,this.options))return!0;return!1}};t.exports=n;var r=dee(),s=new r({max:1e3}),a=p1(),i=qm(),o=jm(),l=Nn(),{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:m,caretTrimReplace:g}=jf(),{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:w}=$m(),S=$=>$.value==="<0.0.0-0",R=$=>$.value==="",B=($,G)=>{let te=!0,J=$.slice(),ne=J.pop();for(;te&&J.length;)te=J.every(Y=>ne.intersects(Y,G)),ne=J.pop();return te},P=($,G)=>(o("comp",$,G),$=F($,G),o("caret",$),$=v($,G),o("tildes",$),$=ee($,G),o("xrange",$),$=_t($,G),o("stars",$),$),W=$=>!$||$.toLowerCase()==="x"||$==="*",v=($,G)=>$.trim().split(/\s+/).map(te=>U(te,G)).join(" "),U=($,G)=>{let te=G.loose?u[c.TILDELOOSE]:u[c.TILDE];return $.replace(te,(J,ne,Y,oe,Ne)=>{o("tilde",$,J,ne,Y,oe,Ne);let Ee;return W(ne)?Ee="":W(Y)?Ee=`>=${ne}.0.0 <${+ne+1}.0.0-0`:W(oe)?Ee=`>=${ne}.${Y}.0 <${ne}.${+Y+1}.0-0`:Ne?(o("replaceTilde pr",Ne),Ee=`>=${ne}.${Y}.${oe}-${Ne} <${ne}.${+Y+1}.0-0`):Ee=`>=${ne}.${Y}.${oe} <${ne}.${+Y+1}.0-0`,o("tilde return",Ee),Ee})},F=($,G)=>$.trim().split(/\s+/).map(te=>q(te,G)).join(" "),q=($,G)=>{o("caret",$,G);let te=G.loose?u[c.CARETLOOSE]:u[c.CARET],J=G.includePrerelease?"-0":"";return $.replace(te,(ne,Y,oe,Ne,Ee)=>{o("caret",$,ne,Y,oe,Ne,Ee);let Fe;return W(Y)?Fe="":W(oe)?Fe=`>=${Y}.0.0${J} <${+Y+1}.0.0-0`:W(Ne)?Y==="0"?Fe=`>=${Y}.${oe}.0${J} <${Y}.${+oe+1}.0-0`:Fe=`>=${Y}.${oe}.0${J} <${+Y+1}.0.0-0`:Ee?(o("replaceCaret pr",Ee),Y==="0"?oe==="0"?Fe=`>=${Y}.${oe}.${Ne}-${Ee} <${Y}.${oe}.${+Ne+1}-0`:Fe=`>=${Y}.${oe}.${Ne}-${Ee} <${Y}.${+oe+1}.0-0`:Fe=`>=${Y}.${oe}.${Ne}-${Ee} <${+Y+1}.0.0-0`):(o("no pr"),Y==="0"?oe==="0"?Fe=`>=${Y}.${oe}.${Ne}${J} <${Y}.${oe}.${+Ne+1}-0`:Fe=`>=${Y}.${oe}.${Ne}${J} <${Y}.${+oe+1}.0-0`:Fe=`>=${Y}.${oe}.${Ne} <${+Y+1}.0.0-0`),o("caret return",Fe),Fe})},ee=($,G)=>(o("replaceXRanges",$,G),$.split(/\s+/).map(te=>L(te,G)).join(" ")),L=($,G)=>{$=$.trim();let te=G.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return $.replace(te,(J,ne,Y,oe,Ne,Ee)=>{o("xRange",$,J,ne,Y,oe,Ne,Ee);let Fe=W(Y),Ge=Fe||W(oe),Pn=Ge||W(Ne),Ur=Pn;return ne==="="&&Ur&&(ne=""),Ee=G.includePrerelease?"-0":"",Fe?ne===">"||ne==="<"?J="<0.0.0-0":J="*":ne&&Ur?(Ge&&(oe=0),Ne=0,ne===">"?(ne=">=",Ge?(Y=+Y+1,oe=0,Ne=0):(oe=+oe+1,Ne=0)):ne==="<="&&(ne="<",Ge?Y=+Y+1:oe=+oe+1),ne==="<"&&(Ee="-0"),J=`${ne+Y}.${oe}.${Ne}${Ee}`):Ge?J=`>=${Y}.0.0${Ee} <${+Y+1}.0.0-0`:Pn&&(J=`>=${Y}.${oe}.0${Ee} <${Y}.${+oe+1}.0-0`),o("xRange return",J),J})},_t=($,G)=>(o("replaceStars",$,G),$.trim().replace(u[c.STAR],"")),Yn=($,G)=>(o("replaceGTE0",$,G),$.trim().replace(u[G.includePrerelease?c.GTE0PRE:c.GTE0],"")),Mr=$=>(G,te,J,ne,Y,oe,Ne,Ee,Fe,Ge,Pn,Ur,ae)=>(W(J)?te="":W(ne)?te=`>=${J}.0.0${$?"-0":""}`:W(Y)?te=`>=${J}.${ne}.0${$?"-0":""}`:oe?te=`>=${te}`:te=`>=${te}${$?"-0":""}`,W(Fe)?Ee="":W(Ge)?Ee=`<${+Fe+1}.0.0-0`:W(Pn)?Ee=`<${Fe}.${+Ge+1}.0-0`:Ur?Ee=`<=${Fe}.${Ge}.${Pn}-${Ur}`:$?Ee=`<${Fe}.${Ge}.${+Pn+1}-0`:Ee=`<=${Ee}`,`${te} ${Ee}`.trim()),Dn=($,G,te)=>{for(let J=0;J<$.length;J++)if(!$[J].test(G))return!1;if(G.prerelease.length&&!te.includePrerelease){for(let J=0;J<$.length;J++)if(o($[J].semver),$[J].semver!==i.ANY&&$[J].semver.prerelease.length>0){let ne=$[J].semver;if(ne.major===G.major&&ne.minor===G.minor&&ne.patch===G.patch)return!0}return!1}return!0}}}),qm=le({"node_modules/semver/classes/comparator.js"(e,t){var n=Symbol("SemVer ANY"),r=class s1{static get ANY(){return n}constructor(m,g){if(g=s(g),m instanceof s1){if(m.loose===!!g.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),l("comparator",m,g),this.options=g,this.loose=!!g.loose,this.parse(m),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(m){let g=this.options.loose?a[i.COMPARATORLOOSE]:a[i.COMPARATOR],y=m.match(g);if(!y)throw new TypeError(`Invalid comparator: ${m}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new u(y[2],this.options.loose):this.semver=n}toString(){return this.value}test(m){if(l("Comparator.test",m,this.options.loose),this.semver===n||m===n)return!0;if(typeof m=="string")try{m=new u(m,this.options)}catch{return!1}return o(m,this.operator,this.semver,this.options)}intersects(m,g){if(!(m instanceof s1))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(m.value,g).test(this.value):m.operator===""?m.value===""?!0:new c(this.value,g).test(m.semver):(g=s(g),g.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||o(this.semver,"<",m.semver,g)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||o(this.semver,">",m.semver,g)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}};t.exports=r;var s=p1(),{safeRe:a,t:i}=jf(),o=pI(),l=jm(),u=Nn(),c=Zr()}}),Vm=le({"node_modules/semver/functions/satisfies.js"(e,t){var n=Zr(),r=(s,a,i)=>{try{a=new n(a,i)}catch{return!1}return a.test(s)};t.exports=r}}),mee=le({"node_modules/semver/ranges/to-comparators.js"(e,t){var n=Zr(),r=(s,a)=>new n(s,a).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" "));t.exports=r}}),hee=le({"node_modules/semver/ranges/max-satisfying.js"(e,t){var n=Nn(),r=Zr(),s=(a,i,o)=>{let l=null,u=null,c=null;try{c=new r(i,o)}catch{return null}return a.forEach(f=>{c.test(f)&&(!l||u.compare(f)===-1)&&(l=f,u=new n(l,o))}),l};t.exports=s}}),yee=le({"node_modules/semver/ranges/min-satisfying.js"(e,t){var n=Nn(),r=Zr(),s=(a,i,o)=>{let l=null,u=null,c=null;try{c=new r(i,o)}catch{return null}return a.forEach(f=>{c.test(f)&&(!l||u.compare(f)===1)&&(l=f,u=new n(l,o))}),l};t.exports=s}}),gee=le({"node_modules/semver/ranges/min-version.js"(e,t){var n=Nn(),r=Zr(),s=Km(),a=(i,o)=>{i=new r(i,o);let l=new n("0.0.0");if(i.test(l)||(l=new n("0.0.0-0"),i.test(l)))return l;l=null;for(let u=0;u<i.set.length;++u){let c=i.set[u],f=null;c.forEach(m=>{let g=new n(m.semver.version);switch(m.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!f||s(g,f))&&(f=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),f&&(!l||s(l,f))&&(l=f)}return l&&i.test(l)?l:null};t.exports=a}}),_ee=le({"node_modules/semver/ranges/valid.js"(e,t){var n=Zr(),r=(s,a)=>{try{return new n(s,a).range||"*"}catch{return null}};t.exports=r}}),g1=le({"node_modules/semver/ranges/outside.js"(e,t){var n=Nn(),r=qm(),{ANY:s}=r,a=Zr(),i=Vm(),o=Km(),l=m1(),u=y1(),c=h1(),f=(m,g,y,w)=>{m=new n(m,w),g=new a(g,w);let S,R,B,P,W;switch(y){case">":S=o,R=u,B=l,P=">",W=">=";break;case"<":S=l,R=c,B=o,P="<",W="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(m,g,w))return!1;for(let v=0;v<g.set.length;++v){let U=g.set[v],F=null,q=null;if(U.forEach(ee=>{ee.semver===s&&(ee=new r(">=0.0.0")),F=F||ee,q=q||ee,S(ee.semver,F.semver,w)?F=ee:B(ee.semver,q.semver,w)&&(q=ee)}),F.operator===P||F.operator===W||(!q.operator||q.operator===P)&&R(m,q.semver)||q.operator===W&&B(m,q.semver))return!1}return!0};t.exports=f}}),bee=le({"node_modules/semver/ranges/gtr.js"(e,t){var n=g1(),r=(s,a,i)=>n(s,a,">",i);t.exports=r}}),xee=le({"node_modules/semver/ranges/ltr.js"(e,t){var n=g1(),r=(s,a,i)=>n(s,a,"<",i);t.exports=r}}),kee=le({"node_modules/semver/ranges/intersects.js"(e,t){var n=Zr(),r=(s,a,i)=>(s=new n(s,i),a=new n(a,i),s.intersects(a,i));t.exports=r}}),Aee=le({"node_modules/semver/ranges/simplify.js"(e,t){var n=Vm(),r=Jr();t.exports=(s,a,i)=>{let o=[],l=null,u=null,c=s.sort((y,w)=>r(y,w,i));for(let y of c)n(y,a,i)?(u=y,l||(l=y)):(u&&o.push([l,u]),u=null,l=null);l&&o.push([l,null]);let f=[];for(let[y,w]of o)y===w?f.push(y):!w&&y===c[0]?f.push("*"):w?y===c[0]?f.push(`<=${w}`):f.push(`${y} - ${w}`):f.push(`>=${y}`);let m=f.join(" || "),g=typeof a.raw=="string"?a.raw:String(a);return m.length<g.length?m:a}}}),wee=le({"node_modules/semver/ranges/subset.js"(e,t){var n=Zr(),r=qm(),{ANY:s}=r,a=Vm(),i=Jr(),o=(g,y,w={})=>{if(g===y)return!0;g=new n(g,w),y=new n(y,w);let S=!1;e:for(let R of g.set){for(let B of y.set){let P=c(R,B,w);if(S=S||P!==null,P)continue e}if(S)return!1}return!0},l=[new r(">=0.0.0-0")],u=[new r(">=0.0.0")],c=(g,y,w)=>{if(g===y)return!0;if(g.length===1&&g[0].semver===s){if(y.length===1&&y[0].semver===s)return!0;w.includePrerelease?g=l:g=u}if(y.length===1&&y[0].semver===s){if(w.includePrerelease)return!0;y=u}let S=new Set,R,B;for(let L of g)L.operator===">"||L.operator===">="?R=f(R,L,w):L.operator==="<"||L.operator==="<="?B=m(B,L,w):S.add(L.semver);if(S.size>1)return null;let P;if(R&&B&&(P=i(R.semver,B.semver,w),P>0||P===0&&(R.operator!==">="||B.operator!=="<=")))return null;for(let L of S){if(R&&!a(L,String(R),w)||B&&!a(L,String(B),w))return null;for(let _t of y)if(!a(L,String(_t),w))return!1;return!0}let W,v,U,F,q=B&&!w.includePrerelease&&B.semver.prerelease.length?B.semver:!1,ee=R&&!w.includePrerelease&&R.semver.prerelease.length?R.semver:!1;q&&q.prerelease.length===1&&B.operator==="<"&&q.prerelease[0]===0&&(q=!1);for(let L of y){if(F=F||L.operator===">"||L.operator===">=",U=U||L.operator==="<"||L.operator==="<=",R){if(ee&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===ee.major&&L.semver.minor===ee.minor&&L.semver.patch===ee.patch&&(ee=!1),L.operator===">"||L.operator===">="){if(W=f(R,L,w),W===L&&W!==R)return!1}else if(R.operator===">="&&!a(R.semver,String(L),w))return!1}if(B){if(q&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===q.major&&L.semver.minor===q.minor&&L.semver.patch===q.patch&&(q=!1),L.operator==="<"||L.operator==="<="){if(v=m(B,L,w),v===L&&v!==B)return!1}else if(B.operator==="<="&&!a(B.semver,String(L),w))return!1}if(!L.operator&&(B||R)&&P!==0)return!1}return!(R&&U&&!B&&P!==0||B&&F&&!R&&P!==0||ee||q)},f=(g,y,w)=>{if(!g)return y;let S=i(g.semver,y.semver,w);return S>0?g:S<0||y.operator===">"&&g.operator===">="?y:g},m=(g,y,w)=>{if(!g)return y;let S=i(g.semver,y.semver,w);return S<0?g:S>0||y.operator==="<"&&g.operator==="<="?y:g};t.exports=o}}),Eee=le({"node_modules/semver/index.js"(e,t){var n=jf(),r=$m(),s=Nn(),a=uI(),i=Uu(),o=JZ(),l=ZZ(),u=eee(),c=tee(),f=nee(),m=ree(),g=see(),y=aee(),w=Jr(),S=iee(),R=oee(),B=d1(),P=lee(),W=uee(),v=Km(),U=m1(),F=cI(),q=fI(),ee=h1(),L=y1(),_t=pI(),Yn=cee(),Mr=qm(),Dn=Zr(),$=Vm(),G=mee(),te=hee(),J=yee(),ne=gee(),Y=_ee(),oe=g1(),Ne=bee(),Ee=xee(),Fe=kee(),Ge=Aee(),Pn=wee();t.exports={parse:i,valid:o,clean:l,inc:u,diff:c,major:f,minor:m,patch:g,prerelease:y,compare:w,rcompare:S,compareLoose:R,compareBuild:B,sort:P,rsort:W,gt:v,lt:U,eq:F,neq:q,gte:ee,lte:L,cmp:_t,coerce:Yn,Comparator:Mr,Range:Dn,satisfies:$,toComparators:G,maxSatisfying:te,minSatisfying:J,minVersion:ne,validRange:Y,outside:oe,gtr:Ne,ltr:Ee,intersects:Fe,simplifyRange:Ge,subset:Pn,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}}}),Oee=le({"node_modules/lodash.isplainobject/index.js"(e,t){var n="[object Object]";function r(y){var w=!1;if(y!=null&&typeof y.toString!="function")try{w=!!(y+"")}catch{}return w}function s(y,w){return function(S){return y(w(S))}}var a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,u=o.call(Object),c=i.toString,f=s(Object.getPrototypeOf,Object);function m(y){return!!y&&typeof y=="object"}function g(y){if(!m(y)||c.call(y)!=n||r(y))return!1;var w=f(y);if(w===null)return!0;var S=l.call(w,"constructor")&&w.constructor;return typeof S=="function"&&S instanceof S&&o.call(S)==u}t.exports=g}}),_1=le({"node_modules/lodash.orderby/index.js"(e,t){var n=200,r="Expected a function",s="__lodash_hash_undefined__",a=1,i=2,o=1/0,l=9007199254740991,u="[object Arguments]",c="[object Array]",f="[object Boolean]",m="[object Date]",g="[object Error]",y="[object Function]",w="[object GeneratorFunction]",S="[object Map]",R="[object Number]",B="[object Object]",P="[object Promise]",W="[object RegExp]",v="[object Set]",U="[object String]",F="[object Symbol]",q="[object WeakMap]",ee="[object ArrayBuffer]",L="[object DataView]",_t="[object Float32Array]",Yn="[object Float64Array]",Mr="[object Int8Array]",Dn="[object Int16Array]",$="[object Int32Array]",G="[object Uint8Array]",te="[object Uint8ClampedArray]",J="[object Uint16Array]",ne="[object Uint32Array]",Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/,Ne=/^\./,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,Ge=/\\(\\)?/g,Pn=/^\[object .+?Constructor\]$/,Ur=/^(?:0|[1-9]\d*)$/,ae={};ae[_t]=ae[Yn]=ae[Mr]=ae[Dn]=ae[$]=ae[G]=ae[te]=ae[J]=ae[ne]=!0,ae[u]=ae[c]=ae[ee]=ae[f]=ae[L]=ae[m]=ae[g]=ae[y]=ae[S]=ae[R]=ae[B]=ae[W]=ae[v]=ae[U]=ae[q]=!1;var Ni=typeof global=="object"&&global&&global.Object===Object&&global,Vu=typeof self=="object"&&self&&self.Object===Object&&self,st=Ni||Vu||Function("return this")(),Ii=typeof e=="object"&&e&&!e.nodeType&&e,Ci=Ii&&typeof t=="object"&&t&&!t.nodeType&&t,Hu=Ci&&Ci.exports===Ii,Bi=Hu&&Ni.process,Mi=function(){try{return Bi&&Bi.binding("util")}catch{}}(),Ui=Mi&&Mi.isTypedArray;function rl(d,_){for(var E=-1,p=d?d.length:0,h=Array(p);++E<p;)h[E]=_(d[E],E,d);return h}function Xu(d,_){for(var E=-1,p=d?d.length:0;++E<p;)if(_(d[E],E,d))return!0;return!1}function Lu(d){return function(_){return _?.[d]}}function sl(d,_){var E=d.length;for(d.sort(_);E--;)d[E]=d[E].value;return d}function zu(d,_){for(var E=-1,p=Array(d);++E<d;)p[E]=_(E);return p}function al(d){return function(_){return d(_)}}function Wu(d,_){return d?.[_]}function Di(d){var _=!1;if(d!=null&&typeof d.toString!="function")try{_=!!(d+"")}catch{}return _}function Ia(d){var _=-1,E=Array(d.size);return d.forEach(function(p,h){E[++_]=[h,p]}),E}function Pi(d,_){return function(E){return d(_(E))}}function Fi(d){var _=-1,E=Array(d.size);return d.forEach(function(p){E[++_]=p}),E}var Gi=Array.prototype,Ca=Function.prototype,_n=Object.prototype,$i=st["__core-js_shared__"],ji=function(){var d=/[^.]+$/.exec($i&&$i.keys&&$i.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Ba=Ca.toString,Qn=_n.hasOwnProperty,ss=_n.toString,Ma=RegExp("^"+Ba.call(Qn).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ua=st.Symbol,Fs=st.Uint8Array,Da=_n.propertyIsEnumerable,bn=Gi.splice,xr=Pi(Object.keys,Object),Gs=Fr(st,"DataView"),as=Fr(st,"Map"),Pa=Fr(st,"Promise"),Ki=Fr(st,"Set"),qi=Fr(st,"WeakMap"),$s=Fr(Object,"create"),il=Vs(Gs),Yu=Vs(as),Vi=Vs(Pa),js=Vs(Ki),Hi=Vs(qi),is=Ua?Ua.prototype:void 0,Ks=is?is.valueOf:void 0,Fn=is?is.toString:void 0;function en(d){var _=-1,E=d?d.length:0;for(this.clear();++_<E;){var p=d[_];this.set(p[0],p[1])}}function ol(){this.__data__=$s?$s(null):{}}function Qu(d){return this.has(d)&&delete this.__data__[d]}function Ju(d){var _=this.__data__;if($s){var E=_[d];return E===s?void 0:E}return Qn.call(_,d)?_[d]:void 0}function Zu(d){var _=this.__data__;return $s?_[d]!==void 0:Qn.call(_,d)}function Gn(d,_){var E=this.__data__;return E[d]=$s&&_===void 0?s:_,this}en.prototype.clear=ol,en.prototype.delete=Qu,en.prototype.get=Ju,en.prototype.has=Zu,en.prototype.set=Gn;function xn(d){var _=-1,E=d?d.length:0;for(this.clear();++_<E;){var p=d[_];this.set(p[0],p[1])}}function ll(){this.__data__=[]}function Dr(d){var _=this.__data__,E=Me(_,d);if(E<0)return!1;var p=_.length-1;return E==p?_.pop():bn.call(_,E,1),!0}function ec(d){var _=this.__data__,E=Me(_,d);return E<0?void 0:_[E][1]}function ul(d){return Me(this.__data__,d)>-1}function Fa(d,_){var E=this.__data__,p=Me(E,d);return p<0?E.push([d,_]):E[p][1]=_,this}xn.prototype.clear=ll,xn.prototype.delete=Dr,xn.prototype.get=ec,xn.prototype.has=ul,xn.prototype.set=Fa;function Jn(d){var _=-1,E=d?d.length:0;for(this.clear();++_<E;){var p=d[_];this.set(p[0],p[1])}}function cl(){this.__data__={hash:new en,map:new(as||xn),string:new en}}function Zn(d){return pl(this,d).delete(d)}function qs(d){return pl(this,d).get(d)}function Xi(d){return pl(this,d).has(d)}function tc(d,_){return pl(this,d).set(d,_),this}Jn.prototype.clear=cl,Jn.prototype.delete=Zn,Jn.prototype.get=qs,Jn.prototype.has=Xi,Jn.prototype.set=tc;function Ga(d){var _=-1,E=d?d.length:0;for(this.__data__=new Jn;++_<E;)this.add(d[_])}function nc(d){return this.__data__.set(d,s),this}function er(d){return this.__data__.has(d)}Ga.prototype.add=Ga.prototype.push=nc,Ga.prototype.has=er;function tr(d){this.__data__=new xn(d)}function rc(){this.__data__=new xn}function sc(d){return this.__data__.delete(d)}function ac(d){return this.__data__.get(d)}function x(d){return this.__data__.has(d)}function M(d,_){var E=this.__data__;if(E instanceof xn){var p=E.__data__;if(!as||p.length<n-1)return p.push([d,_]),this;E=this.__data__=new Jn(p)}return E.set(d,_),this}tr.prototype.clear=rc,tr.prototype.delete=sc,tr.prototype.get=ac,tr.prototype.has=x,tr.prototype.set=M;function X(d,_){var E=nr(d)||cc(d)?zu(d.length,String):[],p=E.length,h=!!p;for(var b in d)(_||Qn.call(d,b))&&!(h&&(b=="length"||Gr(b,p)))&&E.push(b);return E}function Me(d,_){for(var E=d.length;E--;)if(lp(d[E][0],_))return E;return-1}var Je=Nh(ic),Pr=Ih();function ic(d,_){return d&&Pr(d,_,bl)}function Li(d,_){_=dl(_,d)?[_]:ep(_);for(var E=0,p=_.length;d!=null&&E<p;)d=d[zi(_[E++])];return E&&E==p?d:void 0}function oc(d){return ss.call(d)}function _h(d,_){return d!=null&&_ in Object(d)}function lc(d,_,E,p,h){return d===_?!0:d==null||_==null||!Yi(d)&&!Qi(_)?d!==d&&_!==_:fl(d,_,lc,E,p,h)}function fl(d,_,E,p,h,b){var O=nr(d),D=nr(_),C=c,V=c;O||(C=os(d),C=C==u?B:C),D||(V=os(_),V=V==u?B:V);var ge=C==B&&!Di(d),ve=V==B&&!Di(_),be=C==V;if(be&&!ge)return b||(b=new tr),O||gl(d)?tp(d,_,E,p,h,b):np(d,_,C,E,p,h,b);if(!(h&i)){var Ce=ge&&Qn.call(d,"__wrapped__"),qe=ve&&Qn.call(_,"__wrapped__");if(Ce||qe){var $e=Ce?d.value():d,Xe=qe?_.value():_;return b||(b=new tr),E($e,Xe,p,h,b)}}return be?(b||(b=new tr),rp(d,_,E,p,h,b)):!1}function Zf(d,_,E,p){var h=E.length,b=h,O=!p;if(d==null)return!b;for(d=Object(d);h--;){var D=E[h];if(O&&D[2]?D[1]!==d[D[0]]:!(D[0]in d))return!1}for(;++h<b;){D=E[h];var C=D[0],V=d[C],ge=D[1];if(O&&D[2]){if(V===void 0&&!(C in d))return!1}else{var ve=new tr;if(p)var be=p(V,ge,C,d,_,ve);if(!(be===void 0?lc(ge,V,p,a|i,ve):be))return!1}}return!0}function bh(d){if(!Yi(d)||ml(d))return!1;var _=ls(d)||Di(d)?Ma:Pn;return _.test(Vs(d))}function xh(d){return Qi(d)&&yl(d.length)&&!!ae[ss.call(d)]}function kh(d){return typeof d=="function"?d:d==null?cp:typeof d=="object"?nr(d)?Eh(d[0],d[1]):wh(d):Uh(d)}function uc(d){if(!Bh(d))return xr(d);var _=[];for(var E in Object(d))Qn.call(d,E)&&E!="constructor"&&_.push(E);return _}function Ah(d,_){var E=-1,p=Wi(d)?Array(d.length):[];return Je(d,function(h,b,O){p[++E]=_(h,b,O)}),p}function wh(d){var _=Ch(d);return _.length==1&&_[0][2]?ip(_[0][0],_[0][1]):function(E){return E===d||Zf(E,d,_)}}function Eh(d,_){return dl(d)&&ap(_)?ip(zi(d),_):function(E){var p=fc(E,d);return p===void 0&&p===_?Mh(E,d):lc(_,p,void 0,a|i)}}function Oh(d,_,E){var p=-1;_=rl(_.length?_:[cp],al(kh));var h=Ah(d,function(b,O,D){var C=rl(_,function(V){return V(b)});return{criteria:C,index:++p,value:b}});return sl(h,function(b,O){return Rh(b,O,E)})}function vh(d){return function(_){return Li(_,d)}}function Sh(d){if(typeof d=="string")return d;if(Hs(d))return Fn?Fn.call(d):"";var _=d+"";return _=="0"&&1/d==-o?"-0":_}function ep(d){return nr(d)?d:op(d)}function Th(d,_){if(d!==_){var E=d!==void 0,p=d===null,h=d===d,b=Hs(d),O=_!==void 0,D=_===null,C=_===_,V=Hs(_);if(!D&&!V&&!b&&d>_||b&&O&&C&&!D&&!V||p&&O&&C||!E&&C||!h)return 1;if(!p&&!b&&!V&&d<_||V&&E&&h&&!p&&!b||D&&E&&h||!O&&h||!C)return-1}return 0}function Rh(d,_,E){for(var p=-1,h=d.criteria,b=_.criteria,O=h.length,D=E.length;++p<O;){var C=Th(h[p],b[p]);if(C){if(p>=D)return C;var V=E[p];return C*(V=="desc"?-1:1)}}return d.index-_.index}function Nh(d,_){return function(E,p){if(E==null)return E;if(!Wi(E))return d(E,p);for(var h=E.length,b=_?h:-1,O=Object(E);(_?b--:++b<h)&&p(O[b],b,O)!==!1;);return E}}function Ih(d){return function(_,E,p){for(var h=-1,b=Object(_),O=p(_),D=O.length;D--;){var C=O[d?D:++h];if(E(b[C],C,b)===!1)break}return _}}function tp(d,_,E,p,h,b){var O=h&i,D=d.length,C=_.length;if(D!=C&&!(O&&C>D))return!1;var V=b.get(d);if(V&&b.get(_))return V==_;var ge=-1,ve=!0,be=h&a?new Ga:void 0;for(b.set(d,_),b.set(_,d);++ge<D;){var Ce=d[ge],qe=_[ge];if(p)var $e=O?p(qe,Ce,ge,_,d,b):p(Ce,qe,ge,d,_,b);if($e!==void 0){if($e)continue;ve=!1;break}if(be){if(!Xu(_,function(Xe,Ze){if(!be.has(Ze)&&(Ce===Xe||E(Ce,Xe,p,h,b)))return be.add(Ze)})){ve=!1;break}}else if(!(Ce===qe||E(Ce,qe,p,h,b))){ve=!1;break}}return b.delete(d),b.delete(_),ve}function np(d,_,E,p,h,b,O){switch(E){case L:if(d.byteLength!=_.byteLength||d.byteOffset!=_.byteOffset)return!1;d=d.buffer,_=_.buffer;case ee:return!(d.byteLength!=_.byteLength||!p(new Fs(d),new Fs(_)));case f:case m:case R:return lp(+d,+_);case g:return d.name==_.name&&d.message==_.message;case W:case U:return d==_+"";case S:var D=Ia;case v:var C=b&i;if(D||(D=Fi),d.size!=_.size&&!C)return!1;var V=O.get(d);if(V)return V==_;b|=a,O.set(d,_);var ge=tp(D(d),D(_),p,h,b,O);return O.delete(d),ge;case F:if(Ks)return Ks.call(d)==Ks.call(_)}return!1}function rp(d,_,E,p,h,b){var O=h&i,D=bl(d),C=D.length,V=bl(_),ge=V.length;if(C!=ge&&!O)return!1;for(var ve=C;ve--;){var be=D[ve];if(!(O?be in _:Qn.call(_,be)))return!1}var Ce=b.get(d);if(Ce&&b.get(_))return Ce==_;var qe=!0;b.set(d,_),b.set(_,d);for(var $e=O;++ve<C;){be=D[ve];var Xe=d[be],Ze=_[be];if(p)var $n=O?p(Ze,Xe,be,_,d,b):p(Xe,Ze,be,d,_,b);if(!($n===void 0?Xe===Ze||E(Xe,Ze,p,h,b):$n)){qe=!1;break}$e||($e=be=="constructor")}if(qe&&!$e){var jn=d.constructor,kr=_.constructor;jn!=kr&&"constructor"in d&&"constructor"in _&&!(typeof jn=="function"&&jn instanceof jn&&typeof kr=="function"&&kr instanceof kr)&&(qe=!1)}return b.delete(d),b.delete(_),qe}function pl(d,_){var E=d.__data__;return sp(_)?E[typeof _=="string"?"string":"hash"]:E.map}function Ch(d){for(var _=bl(d),E=_.length;E--;){var p=_[E],h=d[p];_[E]=[p,h,ap(h)]}return _}function Fr(d,_){var E=Wu(d,_);return bh(E)?E:void 0}var os=oc;(Gs&&os(new Gs(new ArrayBuffer(1)))!=L||as&&os(new as)!=S||Pa&&os(Pa.resolve())!=P||Ki&&os(new Ki)!=v||qi&&os(new qi)!=q)&&(os=function(d){var _=ss.call(d),E=_==B?d.constructor:void 0,p=E?Vs(E):void 0;if(p)switch(p){case il:return L;case Yu:return S;case Vi:return P;case js:return v;case Hi:return q}return _});function $a(d,_,E){_=dl(_,d)?[_]:ep(_);for(var p,h=-1,O=_.length;++h<O;){var b=zi(_[h]);if(!(p=d!=null&&E(d,b)))break;d=d[b]}if(p)return p;var O=d?d.length:0;return!!O&&yl(O)&&Gr(b,O)&&(nr(d)||cc(d))}function Gr(d,_){return _=_??l,!!_&&(typeof d=="number"||Ur.test(d))&&d>-1&&d%1==0&&d<_}function dl(d,_){if(nr(d))return!1;var E=typeof d;return E=="number"||E=="symbol"||E=="boolean"||d==null||Hs(d)?!0:oe.test(d)||!Y.test(d)||_!=null&&d in Object(_)}function sp(d){var _=typeof d;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?d!=="__proto__":d===null}function ml(d){return!!ji&&ji in d}function Bh(d){var _=d&&d.constructor,E=typeof _=="function"&&_.prototype||_n;return d===E}function ap(d){return d===d&&!Yi(d)}function ip(d,_){return function(E){return E==null?!1:E[d]===_&&(_!==void 0||d in Object(E))}}var op=$r(function(d){d=_l(d);var _=[];return Ne.test(d)&&_.push(""),d.replace(Ee,function(E,p,h,b){_.push(h?b.replace(Ge,"$1"):p||E)}),_});function zi(d){if(typeof d=="string"||Hs(d))return d;var _=d+"";return _=="0"&&1/d==-o?"-0":_}function Vs(d){if(d!=null){try{return Ba.call(d)}catch{}try{return d+""}catch{}}return""}function hl(d,_,E,p){return d==null?[]:(nr(_)||(_=_==null?[]:[_]),E=p?void 0:E,nr(E)||(E=E==null?[]:[E]),Oh(d,_,E))}function $r(d,_){if(typeof d!="function"||_&&typeof _!="function")throw new TypeError(r);var E=function(){var p=arguments,h=_?_.apply(this,p):p[0],b=E.cache;if(b.has(h))return b.get(h);var O=d.apply(this,p);return E.cache=b.set(h,O),O};return E.cache=new($r.Cache||Jn),E}$r.Cache=Jn;function lp(d,_){return d===_||d!==d&&_!==_}function cc(d){return up(d)&&Qn.call(d,"callee")&&(!Da.call(d,"callee")||ss.call(d)==u)}var nr=Array.isArray;function Wi(d){return d!=null&&yl(d.length)&&!ls(d)}function up(d){return Qi(d)&&Wi(d)}function ls(d){var _=Yi(d)?ss.call(d):"";return _==y||_==w}function yl(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=l}function Yi(d){var _=typeof d;return!!d&&(_=="object"||_=="function")}function Qi(d){return!!d&&typeof d=="object"}function Hs(d){return typeof d=="symbol"||Qi(d)&&ss.call(d)==F}var gl=Ui?al(Ui):xh;function _l(d){return d==null?"":Sh(d)}function fc(d,_,E){var p=d==null?void 0:Li(d,_);return p===void 0?E:p}function Mh(d,_){return d!=null&&$a(d,_,_h)}function bl(d){return Wi(d)?X(d):uc(d)}function cp(d){return d}function Uh(d){return dl(d)?Lu(zi(d)):vh(d)}t.exports=hl}}),vee=le({"node_modules/lodash.intersectionby/index.js"(e,t){var n=200,r="Expected a function",s="__lodash_hash_undefined__",a=1,i=2,o=1/0,l=9007199254740991,u="[object Arguments]",c="[object Array]",f="[object Boolean]",m="[object Date]",g="[object Error]",y="[object Function]",w="[object GeneratorFunction]",S="[object Map]",R="[object Number]",B="[object Object]",P="[object Promise]",W="[object RegExp]",v="[object Set]",U="[object String]",F="[object Symbol]",q="[object WeakMap]",ee="[object ArrayBuffer]",L="[object DataView]",_t="[object Float32Array]",Yn="[object Float64Array]",Mr="[object Int8Array]",Dn="[object Int16Array]",$="[object Int32Array]",G="[object Uint8Array]",te="[object Uint8ClampedArray]",J="[object Uint16Array]",ne="[object Uint32Array]",Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/,Ne=/^\./,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,Ge=/\\(\\)?/g,Pn=/^\[object .+?Constructor\]$/,Ur=/^(?:0|[1-9]\d*)$/,ae={};ae[_t]=ae[Yn]=ae[Mr]=ae[Dn]=ae[$]=ae[G]=ae[te]=ae[J]=ae[ne]=!0,ae[u]=ae[c]=ae[ee]=ae[f]=ae[L]=ae[m]=ae[g]=ae[y]=ae[S]=ae[R]=ae[B]=ae[W]=ae[v]=ae[U]=ae[q]=!1;var Ni=typeof global=="object"&&global&&global.Object===Object&&global,Vu=typeof self=="object"&&self&&self.Object===Object&&self,st=Ni||Vu||Function("return this")(),Ii=typeof e=="object"&&e&&!e.nodeType&&e,Ci=Ii&&typeof t=="object"&&t&&!t.nodeType&&t,Hu=Ci&&Ci.exports===Ii,Bi=Hu&&Ni.process,Mi=function(){try{return Bi&&Bi.binding("util")}catch{}}(),Ui=Mi&&Mi.isTypedArray;function rl(p,h,b){switch(b.length){case 0:return p.call(h);case 1:return p.call(h,b[0]);case 2:return p.call(h,b[0],b[1]);case 3:return p.call(h,b[0],b[1],b[2])}return p.apply(h,b)}function Xu(p,h){var b=p?p.length:0;return!!b&&Wu(p,h,0)>-1}function Lu(p,h,b){for(var O=-1,D=p?p.length:0;++O<D;)if(b(h,p[O]))return!0;return!1}function sl(p,h){for(var b=-1,O=p?p.length:0,D=Array(O);++b<O;)D[b]=h(p[b],b,p);return D}function zu(p,h){for(var b=-1,O=p?p.length:0;++b<O;)if(h(p[b],b,p))return!0;return!1}function al(p,h,b,O){for(var D=p.length,C=b+(O?1:-1);O?C--:++C<D;)if(h(p[C],C,p))return C;return-1}function Wu(p,h,b){if(h!==h)return al(p,Di,b);for(var O=b-1,D=p.length;++O<D;)if(p[O]===h)return O;return-1}function Di(p){return p!==p}function Ia(p){return function(h){return h?.[p]}}function Pi(p,h){for(var b=-1,O=Array(p);++b<p;)O[b]=h(b);return O}function Fi(p){return function(h){return p(h)}}function Gi(p,h){return p.has(h)}function Ca(p,h){return p?.[h]}function _n(p){var h=!1;if(p!=null&&typeof p.toString!="function")try{h=!!(p+"")}catch{}return h}function $i(p){var h=-1,b=Array(p.size);return p.forEach(function(O,D){b[++h]=[D,O]}),b}function ji(p,h){return function(b){return p(h(b))}}function Ba(p){var h=-1,b=Array(p.size);return p.forEach(function(O){b[++h]=O}),b}var Qn=Array.prototype,ss=Function.prototype,Ma=Object.prototype,Ua=st["__core-js_shared__"],Fs=function(){var p=/[^.]+$/.exec(Ua&&Ua.keys&&Ua.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Da=ss.toString,bn=Ma.hasOwnProperty,xr=Ma.toString,Gs=RegExp("^"+Da.call(bn).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),as=st.Symbol,Pa=st.Uint8Array,Ki=Ma.propertyIsEnumerable,qi=Qn.splice,$s=ji(Object.keys,Object),il=Math.max,Yu=Math.min,Vi=$a(st,"DataView"),js=$a(st,"Map"),Hi=$a(st,"Promise"),is=$a(st,"Set"),Ks=$a(st,"WeakMap"),Fn=$a(Object,"create"),en=$r(Vi),ol=$r(js),Qu=$r(Hi),Ju=$r(is),Zu=$r(Ks),Gn=as?as.prototype:void 0,xn=Gn?Gn.valueOf:void 0,ll=Gn?Gn.toString:void 0;function Dr(p){var h=-1,b=p?p.length:0;for(this.clear();++h<b;){var O=p[h];this.set(O[0],O[1])}}function ec(){this.__data__=Fn?Fn(null):{}}function ul(p){return this.has(p)&&delete this.__data__[p]}function Fa(p){var h=this.__data__;if(Fn){var b=h[p];return b===s?void 0:b}return bn.call(h,p)?h[p]:void 0}function Jn(p){var h=this.__data__;return Fn?h[p]!==void 0:bn.call(h,p)}function cl(p,h){var b=this.__data__;return b[p]=Fn&&h===void 0?s:h,this}Dr.prototype.clear=ec,Dr.prototype.delete=ul,Dr.prototype.get=Fa,Dr.prototype.has=Jn,Dr.prototype.set=cl;function Zn(p){var h=-1,b=p?p.length:0;for(this.clear();++h<b;){var O=p[h];this.set(O[0],O[1])}}function qs(){this.__data__=[]}function Xi(p){var h=this.__data__,b=fl(h,p);if(b<0)return!1;var O=h.length-1;return b==O?h.pop():qi.call(h,b,1),!0}function tc(p){var h=this.__data__,b=fl(h,p);return b<0?void 0:h[b][1]}function Ga(p){return fl(this.__data__,p)>-1}function nc(p,h){var b=this.__data__,O=fl(b,p);return O<0?b.push([p,h]):b[O][1]=h,this}Zn.prototype.clear=qs,Zn.prototype.delete=Xi,Zn.prototype.get=tc,Zn.prototype.has=Ga,Zn.prototype.set=nc;function er(p){var h=-1,b=p?p.length:0;for(this.clear();++h<b;){var O=p[h];this.set(O[0],O[1])}}function tr(){this.__data__={hash:new Dr,map:new(js||Zn),string:new Dr}}function rc(p){return Fr(this,p).delete(p)}function sc(p){return Fr(this,p).get(p)}function ac(p){return Fr(this,p).has(p)}function x(p,h){return Fr(this,p).set(p,h),this}er.prototype.clear=tr,er.prototype.delete=rc,er.prototype.get=sc,er.prototype.has=ac,er.prototype.set=x;function M(p){var h=-1,b=p?p.length:0;for(this.__data__=new er;++h<b;)this.add(p[h])}function X(p){return this.__data__.set(p,s),this}function Me(p){return this.__data__.has(p)}M.prototype.add=M.prototype.push=X,M.prototype.has=Me;function Je(p){this.__data__=new Zn(p)}function Pr(){this.__data__=new Zn}function ic(p){return this.__data__.delete(p)}function Li(p){return this.__data__.get(p)}function oc(p){return this.__data__.has(p)}function _h(p,h){var b=this.__data__;if(b instanceof Zn){var O=b.__data__;if(!js||O.length<n-1)return O.push([p,h]),this;b=this.__data__=new er(O)}return b.set(p,h),this}Je.prototype.clear=Pr,Je.prototype.delete=ic,Je.prototype.get=Li,Je.prototype.has=oc,Je.prototype.set=_h;function lc(p,h){var b=ls(p)||up(p)?Pi(p.length,String):[],O=b.length,D=!!O;for(var C in p)(h||bn.call(p,C))&&!(D&&(C=="length"||sp(C,O)))&&b.push(C);return b}function fl(p,h){for(var b=p.length;b--;)if(Wi(p[b][0],h))return b;return-1}function Zf(p,h){h=ml(h,p)?[h]:np(h);for(var b=0,O=h.length;p!=null&&b<O;)p=p[hl(h[b++])];return b&&b==O?p:void 0}function bh(p){return xr.call(p)}function xh(p,h){return p!=null&&h in Object(p)}function kh(p,h,b){for(var O=b?Lu:Xu,D=p[0].length,C=p.length,V=C,ge=Array(C),ve=1/0,be=[];V--;){var Ce=p[V];V&&h&&(Ce=sl(Ce,Fi(h))),ve=Yu(Ce.length,ve),ge[V]=!b&&(h||D>=120&&Ce.length>=120)?new M(V&&Ce):void 0}Ce=p[0];var qe=-1,$e=ge[0];e:for(;++qe<D&&be.length<ve;){var Xe=Ce[qe],Ze=h?h(Xe):Xe;if(Xe=b||Xe!==0?Xe:0,!($e?Gi($e,Ze):O(be,Ze,b))){for(V=C;--V;){var $n=ge[V];if(!($n?Gi($n,Ze):O(p[V],Ze,b)))continue e}$e&&$e.push(Ze),be.push(Xe)}}return be}function uc(p,h,b,O,D){return p===h?!0:p==null||h==null||!gl(p)&&!_l(h)?p!==p&&h!==h:Ah(p,h,uc,b,O,D)}function Ah(p,h,b,O,D,C){var V=ls(p),ge=ls(h),ve=c,be=c;V||(ve=Gr(p),ve=ve==u?B:ve),ge||(be=Gr(h),be=be==u?B:be);var Ce=ve==B&&!_n(p),qe=be==B&&!_n(h),$e=ve==be;if($e&&!Ce)return C||(C=new Je),V||Mh(p)?rp(p,h,b,O,D,C):pl(p,h,ve,b,O,D,C);if(!(D&i)){var Xe=Ce&&bn.call(p,"__wrapped__"),Ze=qe&&bn.call(h,"__wrapped__");if(Xe||Ze){var $n=Xe?p.value():p,jn=Ze?h.value():h;return C||(C=new Je),b($n,jn,O,D,C)}}return $e?(C||(C=new Je),Ch(p,h,b,O,D,C)):!1}function wh(p,h,b,O){var D=b.length,C=D,V=!O;if(p==null)return!C;for(p=Object(p);D--;){var ge=b[D];if(V&&ge[2]?ge[1]!==p[ge[0]]:!(ge[0]in p))return!1}for(;++D<C;){ge=b[D];var ve=ge[0],be=p[ve],Ce=ge[1];if(V&&ge[2]){if(be===void 0&&!(ve in p))return!1}else{var qe=new Je;if(O)var $e=O(be,Ce,ve,p,h,qe);if(!($e===void 0?uc(Ce,be,O,a|i,qe):$e))return!1}}return!0}function Eh(p){if(!gl(p)||ap(p))return!1;var h=Qi(p)||_n(p)?Gs:Pn;return h.test($r(p))}function Oh(p){return _l(p)&&Hs(p.length)&&!!ae[xr.call(p)]}function vh(p){return typeof p=="function"?p:p==null?_:typeof p=="object"?ls(p)?Th(p[0],p[1]):ep(p):E(p)}function Sh(p){if(!ip(p))return $s(p);var h=[];for(var b in Object(p))bn.call(p,b)&&b!="constructor"&&h.push(b);return h}function ep(p){var h=os(p);return h.length==1&&h[0][2]?zi(h[0][0],h[0][1]):function(b){return b===p||wh(b,p,h)}}function Th(p,h){return ml(p)&&op(h)?zi(hl(p),h):function(b){var O=cp(b,p);return O===void 0&&O===h?Uh(b,p):uc(h,O,void 0,a|i)}}function Rh(p){return function(h){return Zf(h,p)}}function Nh(p,h){return h=il(h===void 0?p.length-1:h,0),function(){for(var b=arguments,O=-1,D=il(b.length-h,0),C=Array(D);++O<D;)C[O]=b[h+O];O=-1;for(var V=Array(h+1);++O<h;)V[O]=b[O];return V[h]=C,rl(p,this,V)}}function Ih(p){if(typeof p=="string")return p;if(fc(p))return ll?ll.call(p):"";var h=p+"";return h=="0"&&1/p==-o?"-0":h}function tp(p){return Yi(p)?p:[]}function np(p){return ls(p)?p:Vs(p)}function rp(p,h,b,O,D,C){var V=D&i,ge=p.length,ve=h.length;if(ge!=ve&&!(V&&ve>ge))return!1;var be=C.get(p);if(be&&C.get(h))return be==h;var Ce=-1,qe=!0,$e=D&a?new M:void 0;for(C.set(p,h),C.set(h,p);++Ce<ge;){var Xe=p[Ce],Ze=h[Ce];if(O)var $n=V?O(Ze,Xe,Ce,h,p,C):O(Xe,Ze,Ce,p,h,C);if($n!==void 0){if($n)continue;qe=!1;break}if($e){if(!zu(h,function(jn,kr){if(!$e.has(kr)&&(Xe===jn||b(Xe,jn,O,D,C)))return $e.add(kr)})){qe=!1;break}}else if(!(Xe===Ze||b(Xe,Ze,O,D,C))){qe=!1;break}}return C.delete(p),C.delete(h),qe}function pl(p,h,b,O,D,C,V){switch(b){case L:if(p.byteLength!=h.byteLength||p.byteOffset!=h.byteOffset)return!1;p=p.buffer,h=h.buffer;case ee:return!(p.byteLength!=h.byteLength||!O(new Pa(p),new Pa(h)));case f:case m:case R:return Wi(+p,+h);case g:return p.name==h.name&&p.message==h.message;case W:case U:return p==h+"";case S:var ge=$i;case v:var ve=C&i;if(ge||(ge=Ba),p.size!=h.size&&!ve)return!1;var be=V.get(p);if(be)return be==h;C|=a,V.set(p,h);var Ce=rp(ge(p),ge(h),O,D,C,V);return V.delete(p),Ce;case F:if(xn)return xn.call(p)==xn.call(h)}return!1}function Ch(p,h,b,O,D,C){var V=D&i,ge=d(p),ve=ge.length,be=d(h),Ce=be.length;if(ve!=Ce&&!V)return!1;for(var qe=ve;qe--;){var $e=ge[qe];if(!(V?$e in h:bn.call(h,$e)))return!1}var Xe=C.get(p);if(Xe&&C.get(h))return Xe==h;var Ze=!0;C.set(p,h),C.set(h,p);for(var $n=V;++qe<ve;){$e=ge[qe];var jn=p[$e],kr=h[$e];if(O)var kx=V?O(kr,jn,$e,h,p,C):O(jn,kr,$e,p,h,C);if(!(kx===void 0?jn===kr||b(jn,kr,O,D,C):kx)){Ze=!1;break}$n||($n=$e=="constructor")}if(Ze&&!$n){var fp=p.constructor,pp=h.constructor;fp!=pp&&"constructor"in p&&"constructor"in h&&!(typeof fp=="function"&&fp instanceof fp&&typeof pp=="function"&&pp instanceof pp)&&(Ze=!1)}return C.delete(p),C.delete(h),Ze}function Fr(p,h){var b=p.__data__;return Bh(h)?b[typeof h=="string"?"string":"hash"]:b.map}function os(p){for(var h=d(p),b=h.length;b--;){var O=h[b],D=p[O];h[b]=[O,D,op(D)]}return h}function $a(p,h){var b=Ca(p,h);return Eh(b)?b:void 0}var Gr=bh;(Vi&&Gr(new Vi(new ArrayBuffer(1)))!=L||js&&Gr(new js)!=S||Hi&&Gr(Hi.resolve())!=P||is&&Gr(new is)!=v||Ks&&Gr(new Ks)!=q)&&(Gr=function(p){var h=xr.call(p),b=h==B?p.constructor:void 0,O=b?$r(b):void 0;if(O)switch(O){case en:return L;case ol:return S;case Qu:return P;case Ju:return v;case Zu:return q}return h});function dl(p,h,b){h=ml(h,p)?[h]:np(h);for(var O,D=-1,V=h.length;++D<V;){var C=hl(h[D]);if(!(O=p!=null&&b(p,C)))break;p=p[C]}if(O)return O;var V=p?p.length:0;return!!V&&Hs(V)&&sp(C,V)&&(ls(p)||up(p))}function sp(p,h){return h=h??l,!!h&&(typeof p=="number"||Ur.test(p))&&p>-1&&p%1==0&&p<h}function ml(p,h){if(ls(p))return!1;var b=typeof p;return b=="number"||b=="symbol"||b=="boolean"||p==null||fc(p)?!0:oe.test(p)||!Y.test(p)||h!=null&&p in Object(h)}function Bh(p){var h=typeof p;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?p!=="__proto__":p===null}function ap(p){return!!Fs&&Fs in p}function ip(p){var h=p&&p.constructor,b=typeof h=="function"&&h.prototype||Ma;return p===b}function op(p){return p===p&&!gl(p)}function zi(p,h){return function(b){return b==null?!1:b[p]===h&&(h!==void 0||p in Object(b))}}var Vs=nr(function(p){p=bl(p);var h=[];return Ne.test(p)&&h.push(""),p.replace(Ee,function(b,O,D,C){h.push(D?C.replace(Ge,"$1"):O||b)}),h});function hl(p){if(typeof p=="string"||fc(p))return p;var h=p+"";return h=="0"&&1/p==-o?"-0":h}function $r(p){if(p!=null){try{return Da.call(p)}catch{}try{return p+""}catch{}}return""}var lp=Nh(function(p){var h=cc(p),b=sl(p,tp);return h===cc(b)?h=void 0:b.pop(),b.length&&b[0]===p[0]?kh(b,vh(h,2)):[]});function cc(p){var h=p?p.length:0;return h?p[h-1]:void 0}function nr(p,h){if(typeof p!="function"||h&&typeof h!="function")throw new TypeError(r);var b=function(){var O=arguments,D=h?h.apply(this,O):O[0],C=b.cache;if(C.has(D))return C.get(D);var V=p.apply(this,O);return b.cache=C.set(D,V),V};return b.cache=new(nr.Cache||er),b}nr.Cache=er;function Wi(p,h){return p===h||p!==p&&h!==h}function up(p){return Yi(p)&&bn.call(p,"callee")&&(!Ki.call(p,"callee")||xr.call(p)==u)}var ls=Array.isArray;function yl(p){return p!=null&&Hs(p.length)&&!Qi(p)}function Yi(p){return _l(p)&&yl(p)}function Qi(p){var h=gl(p)?xr.call(p):"";return h==y||h==w}function Hs(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=l}function gl(p){var h=typeof p;return!!p&&(h=="object"||h=="function")}function _l(p){return!!p&&typeof p=="object"}function fc(p){return typeof p=="symbol"||_l(p)&&xr.call(p)==F}var Mh=Ui?Fi(Ui):Oh;function bl(p){return p==null?"":Ih(p)}function cp(p,h,b){var O=p==null?void 0:Zf(p,h);return O===void 0?b:O}function Uh(p,h){return p!=null&&dl(p,h,xh)}function d(p){return yl(p)?lc(p):Sh(p)}function _(p){return p}function E(p){return ml(p)?Ia(hl(p)):Rh(p)}t.exports=lp}}),See=require("events"),Tee=zh(),Ree=xp(),Nee=ut(Qh()),Iee=ut(gk());function Cee(e){return e.channels===void 0?!1:e.subscriberMode}function Bee(e){return e.connected===void 0?!1:!e.connected}function Mee(e,t){if(Cee(t)&&!(["subscribe","subscribeBuffer","psubscribe","psubscribeBuffer","unsubscribe","unsubscribeBuffer","pubsub","pubsubBuffer","punsubscribe","punsubscribeBuffer","ping","pingBuffer","quit","quitBuffer","disconnect"].indexOf(e)>-1))throw new Error("Connection in subscriber mode, only subscriber commands may be used")}function Uee(e,t){if(Bee(t)&&e!=="connect"&&e!=="defineCommand")throw new Error("Stream isn't writeable and enableOfflineQueue options is false")}function Dee(e,t){Mee(e,t),Uee(e,t)}var Lo={transformers:Iee.default._transformer,setArgumentTransformer:(e,t)=>{Lo.transformers.argument[e]=t},setReplyTransformer:(e,t)=>{Lo.transformers.reply[e]=t}},Pee=e=>e==null?"":e instanceof Buffer?e:e.toString();function dI(e,t){if(t==="defineCommand")return e;let n=e?[].concat(...e):[];return Lo.transformers.argument[t]&&(n=Lo.transformers.argument[t](e)),n=n.map(Pee),n}function Fee(e,t){if(Lo.transformers.reply[t]){let n=e;return t==="hgetall"&&(n=[].concat(...Object.entries(e))),Lo.transformers.reply[t](n)}return e}function a1(e,t,n,...r){Dee(t,n);let s=e(...r);return Fee(s,t.replace(/Buffer$/,""))}function Hm(e,t,n){return(...r)=>{let s=r.length-1,a=r[s];typeof a!="function"?a=void 0:r.length=s;let i=dI(r,t.replace(/Buffer$/,""),n);return t==="defineCommand"?a1(e,t,n,...i):(0,Nee.default)(new Promise(o=>o(a1(e,t,n,...i))),a)}}var Mu={};lI(Mu,{append:()=>mI,appendBuffer:()=>Gee,asking:()=>hI,askingBuffer:()=>$ee,auth:()=>yI,authBuffer:()=>jee,bgrewriteaof:()=>gI,bgrewriteaofBuffer:()=>Kee,bgsave:()=>_I,bgsaveBuffer:()=>qee,brpoplpush:()=>bI,brpoplpushBuffer:()=>Vee,cluster:()=>xI,clusterBuffer:()=>Hee,command:()=>kI,commandBuffer:()=>Xee,config:()=>AI,configBuffer:()=>Lee,connect:()=>zee,customCommand:()=>Xm,dbsize:()=>EI,dbsizeBuffer:()=>Wee,decr:()=>OI,decrBuffer:()=>Yee,decrby:()=>vI,decrbyBuffer:()=>Qee,defineArgv:()=>BI,defineCommand:()=>yte,defineKeys:()=>CI,defineRedisObject:()=>II,del:()=>k1,delBuffer:()=>_te,discard:()=>MI,discardBuffer:()=>bte,echo:()=>UI,echoBuffer:()=>xte,evalBuffer:()=>wte,evalsha:()=>PI,evalshaBuffer:()=>Ete,evaluate:()=>DI,exists:()=>FI,existsBuffer:()=>Ote,expire:()=>Kf,expireBuffer:()=>vte,expireat:()=>A1,expireatBuffer:()=>Ste,expiretime:()=>GI,expiretimeBuffer:()=>Tte,failover:()=>$I,failoverBuffer:()=>Rte,flushall:()=>jI,flushallBuffer:()=>Nte,flushdb:()=>KI,flushdbBuffer:()=>Ite,get:()=>qI,getBuffer:()=>Cte,getbit:()=>VI,getbitBuffer:()=>Bte,getdel:()=>HI,getdelBuffer:()=>Mte,getex:()=>XI,getexBuffer:()=>Ute,getrange:()=>w1,getrangeBuffer:()=>LI,getset:()=>zI,getsetBuffer:()=>Fte,hdel:()=>WI,hdelBuffer:()=>Gte,hexists:()=>YI,hexistsBuffer:()=>$te,hget:()=>QI,hgetBuffer:()=>jte,hgetall:()=>JI,hgetallBuffer:()=>Kte,hincrby:()=>ZI,hincrbyBuffer:()=>qte,hincrbyfloat:()=>eC,hincrbyfloatBuffer:()=>Vte,hkeys:()=>tC,hkeysBuffer:()=>Hte,hlen:()=>nC,hlenBuffer:()=>Xte,hmget:()=>rC,hmgetBuffer:()=>Lte,hmset:()=>sC,hmsetBuffer:()=>zte,hrandfield:()=>aC,hrandfieldBuffer:()=>Yte,hscan:()=>iC,hscanBuffer:()=>Jte,hset:()=>oC,hsetBuffer:()=>Zte,hsetnx:()=>lC,hsetnxBuffer:()=>ene,hstrlen:()=>uC,hstrlenBuffer:()=>tne,hvals:()=>cC,hvalsBuffer:()=>nne,incr:()=>fC,incrBuffer:()=>rne,incrby:()=>pC,incrbyBuffer:()=>sne,incrbyfloat:()=>dC,incrbyfloatBuffer:()=>ane,info:()=>mC,infoBuffer:()=>ine,keys:()=>yC,keysBuffer:()=>lne,lastsave:()=>gC,lastsaveBuffer:()=>une,lindex:()=>_C,lindexBuffer:()=>cne,linsert:()=>bC,linsertBuffer:()=>fne,llen:()=>xC,llenBuffer:()=>pne,lmove:()=>kC,lmoveBuffer:()=>dne,lolwut:()=>AC,lolwutBuffer:()=>gne,lpop:()=>wC,lpopBuffer:()=>_ne,lpush:()=>O1,lpushBuffer:()=>bne,lpushx:()=>EC,lpushxBuffer:()=>xne,lrange:()=>OC,lrangeBuffer:()=>kne,lrem:()=>vC,lremBuffer:()=>Ane,lset:()=>SC,lsetBuffer:()=>wne,ltrim:()=>TC,ltrimBuffer:()=>Ene,mget:()=>RC,mgetBuffer:()=>One,mset:()=>NC,msetBuffer:()=>vne,msetnx:()=>IC,msetnxBuffer:()=>Sne,object:()=>CC,objectBuffer:()=>Rne,persist:()=>v1,persistBuffer:()=>Nne,pexpire:()=>zm,pexpireBuffer:()=>Ine,pexpireat:()=>S1,pexpireatBuffer:()=>Cne,pexpiretime:()=>BC,pexpiretimeBuffer:()=>Bne,ping:()=>MC,pingBuffer:()=>Mne,psetex:()=>UC,psetexBuffer:()=>Une,psubscribe:()=>PC,psubscribeBuffer:()=>Pne,pttl:()=>FC,pttlBuffer:()=>Fne,publish:()=>GC,publishBuffer:()=>Gne,pubsub:()=>$C,pubsubBuffer:()=>$ne,punsubscribe:()=>jC,punsubscribeBuffer:()=>jne,quit:()=>KC,quitBuffer:()=>Kne,randomkey:()=>VC,randomkeyBuffer:()=>qne,readonly:()=>HC,readonlyBuffer:()=>Vne,readwrite:()=>XC,readwriteBuffer:()=>Hne,rename:()=>T1,renameBuffer:()=>Xne,renamenx:()=>LC,renamenxBuffer:()=>Lne,replconf:()=>zC,replconfBuffer:()=>zne,replicaof:()=>R1,replicaofBuffer:()=>WC,role:()=>YC,roleBuffer:()=>Qne,rpop:()=>QC,rpopBuffer:()=>Jne,rpoplpush:()=>JC,rpoplpushBuffer:()=>Zne,rpush:()=>N1,rpushBuffer:()=>ere,rpushx:()=>ZC,rpushxBuffer:()=>tre,sadd:()=>eB,saddBuffer:()=>nre,save:()=>tB,saveBuffer:()=>rre,scan:()=>nB,scanBuffer:()=>sre,scard:()=>rB,scardBuffer:()=>are,sdiff:()=>I1,sdiffBuffer:()=>ire,sdiffstore:()=>sB,sdiffstoreBuffer:()=>lre,set:()=>Du,setBuffer:()=>cre,setbit:()=>aB,setbitBuffer:()=>bre,setex:()=>iB,setexBuffer:()=>xre,setnx:()=>oB,setnxBuffer:()=>kre,setrange:()=>lB,setrangeBuffer:()=>Are,sinter:()=>B1,sinterBuffer:()=>wre,sinterstore:()=>uB,sinterstoreBuffer:()=>Ere,sismember:()=>cB,sismemberBuffer:()=>Ore,slaveof:()=>Wne,slaveofBuffer:()=>Yne,smembers:()=>fB,smembersBuffer:()=>vre,smismember:()=>pB,smismemberBuffer:()=>Sre,smove:()=>dB,smoveBuffer:()=>Tre,spop:()=>mB,spopBuffer:()=>Ire,srandmember:()=>hB,srandmemberBuffer:()=>Bre,srem:()=>yB,sremBuffer:()=>Mre,sscan:()=>gB,sscanBuffer:()=>Ure,strlen:()=>_B,strlenBuffer:()=>Dre,subscribe:()=>bB,subscribeBuffer:()=>Pre,substr:()=>Dte,substrBuffer:()=>Pte,sunion:()=>Wm,sunionBuffer:()=>Fre,sunionstore:()=>xB,sunionstoreBuffer:()=>Gre,time:()=>kB,timeBuffer:()=>$re,ttl:()=>AB,ttlBuffer:()=>jre,type:()=>Ym,typeBuffer:()=>qre,unlink:()=>wB,unlinkBuffer:()=>Vre,unsubscribe:()=>EB,unsubscribeBuffer:()=>Hre,xadd:()=>OB,xaddBuffer:()=>Xre,xlen:()=>vB,xlenBuffer:()=>Lre,xrange:()=>SB,xrangeBuffer:()=>zre,xread:()=>TB,xreadBuffer:()=>Wre,xrevrange:()=>RB,xrevrangeBuffer:()=>Yre,zadd:()=>NB,zaddBuffer:()=>Qre,zcard:()=>IB,zcardBuffer:()=>Jre,zcount:()=>BB,zcountBuffer:()=>rse,zincrby:()=>MB,zincrbyBuffer:()=>sse,zinterstore:()=>UB,zinterstoreBuffer:()=>ise,zpopmax:()=>DB,zpopmaxBuffer:()=>lse,zpopmin:()=>PB,zpopminBuffer:()=>cse,zrange:()=>Qm,zrangeBuffer:()=>fse,zrangebylex:()=>FB,zrangebylexBuffer:()=>pse,zrangebyscore:()=>GB,zrangebyscoreBuffer:()=>dse,zrank:()=>$B,zrankBuffer:()=>mse,zrem:()=>jB,zremBuffer:()=>hse,zremrangebyrank:()=>KB,zremrangebyrankBuffer:()=>yse,zremrangebyscore:()=>qB,zremrangebyscoreBuffer:()=>gse,zrevrange:()=>U1,zrevrangeBuffer:()=>_se,zrevrangebylex:()=>VB,zrevrangebylexBuffer:()=>bse,zrevrangebyscore:()=>D1,zrevrangebyscoreBuffer:()=>xse,zrevrank:()=>HB,zrevrankBuffer:()=>kse,zscan:()=>XB,zscanBuffer:()=>Ase,zscore:()=>LB,zscoreBuffer:()=>wse});function mI(e,t){return this.data.has(e)||this.data.set(e,""),t instanceof Buffer?this.data.set(e,Buffer.concat([Buffer.from(this.data.get(e)),t])):this.data.set(e,this.data.get(e)+t),this.data.get(e).length}var Gee=mI;function QN(e){return Object.prototype.toString.call(e)==="[object String]"}function j(e){if(QN(e))return Buffer.from(e);if(Array.isArray(e)){let{length:t}=e,n=Array(t);for(let r=0;r<t;++r)n[r]=QN(e[r])?Buffer.from(e[r]):j(e[r]);return n}return e}function hI(){throw new Error("ERR This instance has cluster support disabled")}function $ee(){let e=hI.call(this);return j(e)}function yI(){return"OK"}function jee(...e){let t=yI.apply(this,e);return j(t)}function gI(){return"Background append only file rewriting started"}function Kee(){let e=gI.apply(this,[]);return j(e)}function _I(){return"Background saving started"}function qee(){let e=_I.apply(this,[]);return j(e)}function bI(e,t){return this.rpoplpush(e,t)}async function Vee(e,t){let n=await bI.call(this,e,t);return j(n)}function xI(...e){throw e.length===0?new Error("ERR wrong number of arguments for 'cluster' command"):new Error("ERR This instance has cluster support disabled")}function Hee(...e){let t=xI.apply(this,e);return j(t)}async function kI(e,...t){if(!e){let r=await Promise.resolve().then(()=>ut(ay()));return r.default||r}let n=e.toUpperCase();if(n==="HELP"&&t.length===0)return["COMMAND <subcommand> [<arg> [value] [opt] ...]. Subcommands are:","(no subcommand)","    Return details about all Redis commands.","COUNT","    Return the total number of commands in this Redis server.","LIST","    Return a list of all commands in this Redis server.","INFO [<command-name> ...]","    Return details about multiple Redis commands.","    If no command names are given, documentation details for all","    commands are returned.","DOCS [<command-name> ...]","    Return documentation details about multiple Redis commands.","    If no command names are given, documentation details for all","    commands are returned.","GETKEYS <full-command>","    Return the keys from a full Redis command.","GETKEYSANDFLAGS <full-command>","    Return the keys and the access flags from a full Redis command.","HELP","    Prints this help."];if(n==="COUNT"&&t.length===0){let{count:r}=await Promise.resolve().then(()=>ut(xp()));return r}if(n==="LIST"){if(t.length>0)throw new Error("ERR syntax error");let{list:r}=await Promise.resolve().then(()=>ut(xp()));return r}if(n==="INFO"){let r=await Promise.resolve().then(()=>ut(ay())),s=r.default||r,a=t.length>0?s.filter(i=>t.includes(i[0])):s;return a.length===0?[null]:a}if(n==="DOCS"){let r=await Promise.resolve().then(()=>ut(_k())),s=r.default||r;if(t.length===0)return s;let a=[];for(let i of t){let o=s.indexOf(i);o!==-1&&a.push(i,s[o+1])}return a}if(n==="GETKEYS"&&t.length>=2){let{getKeyIndexes:r,exists:s}=await Promise.resolve().then(()=>ut(Zh())),[a,...i]=t;if(!s(a))throw new Error("ERR Invalid command specified");return r(a,i).map(o=>i[o])}throw t.length>0?new Error(`ERR wrong number of arguments for 'command|${e.toLowerCase()}' command`):new Error(`ERR unknown subcommand '${e}'. Try COMMAND HELP.`)}async function Xee(...e){let t=await kI.apply(this,e);return j(t)}function AI(e,...t){if(!e)throw new Error("ERR wrong number of arguments for 'config' command");let n=e.toUpperCase();if(n==="HELP"&&t.length===0)return["CONFIG <subcommand> [<arg> [value] [opt] ...]. Subcommands are:","GET <pattern>","    Return parameters matching the glob-like <pattern> and their values.","SET <directive> <value>","    Set the configuration <directive> to <value>.","RESETSTAT","    Reset statistics reported by the INFO command.","REWRITE","    Rewrite the configuration file.","HELP","    Prints this help."];if(n==="GET"&&t.length>0)return[];if(n==="SET"&&t.length>1)throw new Error(`ERR Unknown option or number of arguments for CONFIG SET - '${t[0]}'`);if(n==="RESETSTAT"&&t.length===0)return"OK";if(n==="REWRITE"&&t.length===0)throw new Error("ERR The server is running without a config file");switch(n){case"HELP":case"GET":case"SET":case"RESETSTAT":case"REWRITE":throw new Error(`ERR wrong number of arguments for 'config|${e.toLowerCase()}' command`);default:throw new Error(`ERR unknown subcommand '${e.toLowerCase()}'. Try CONFIG HELP.`)}}function Lee(...e){let t=AI.apply(this,e);return j(t)}function wI(e){process.nextTick(()=>{e.emit("connect"),e.emit("ready")})}function zee(){if(this.connected)throw new Error("Redis is already connecting/connected");this.connected=!0,wI(this)}function EI(){return this.data.keys().length}var Wee=EI;function OI(e){this.data.has(e)||this.data.set(e,"0");let t=Number(this.data.get(e))-1;return this.data.set(e,t.toString()),t}var Yee=OI;function vI(e,t){if(t===void 0)throw new Error("ERR wrong number of arguments for 'decrby' command");this.data.has(e)||this.data.set(e,"0");let n=Number(this.data.get(e))-parseInt(t,10);return this.data.set(e,n.toString()),n}var Qee=vI,Jee=ut(Ff()),JN=ut(e1()),Zee=ut(Ff()),Is=ut(e1()),{lua:rt,lualib:ete,lauxlib:SI,to_luastring:b1,to_jsstring:tte}=Zee.default,nte=e=>t=>{if(SI.luaL_dostring(e,b1(t))!==0){let n=`Error trying to loading or executing lua code string in VM: ${rt.lua_tojsstring(e,-1)}`;throw new Error(n)}},rte=e=>{rt.lua_len(e,-1);let t=rt.lua_tointeger(e,-1);return rt.lua_pop(e,1),t},ste=e=>t=>tte(rt.lua_typename(e,rt.lua_type(e,t))),ate=e=>{if(rt.lua_isnil(e,-1))throw new Error("cannot get keys on nil");if(!rt.lua_istable(e,-1))throw new Error(`non-tables don't have keys! type is "${ste(e)(-1)}"`);rt.lua_pushnil(e);let t=[];for(;rt.lua_next(e,-2)!==0;)t.push(Is.default.tojs(e,-2)),rt.lua_pop(e,1);return t},TI=e=>()=>{try{return ate(e).reverse().every((t,n)=>t===n+1)}catch{return!1}},RI=e=>{if(!TI(e)()){let s=Is.default.tojs(e,-1);return Array.isArray(s)?s.slice(1):s}let t=rte(e),n=Is.default.tojs(e,-1),r=[];if(t===0)return rt.lua_pop(e,1),r;for(let s=1;s<=t;s++)Is.default.push(e,n.get(s)),r.push(RI(e));return rt.lua_pop(e,1),r},ite=e=>t=>{let n=rt.lua_gettop(e)-t+1,r;return n>0&&(r=RI(e)),rt.lua_settop(e,t),r},ote=e=>t=>{rt.lua_newtable(e);let n=rt.lua_gettop(e);Object.keys(t).forEach(r=>{Is.default.push(e,r),x1(e)(t[r]),rt.lua_settable(e,n)})},lte=e=>t=>{rt.lua_newtable(e);let n=rt.lua_gettop(e);t.forEach((r,s)=>{Is.default.push(e,s+1),Is.default.push(e,r),rt.lua_settable(e,n)})},x1=e=>t=>{Array.isArray(t)?lte(e)(t):t&&typeof t=="object"&&!Array.isArray(t)?ote(e)(t):Is.default.push(e,t)},ute=e=>(t,n)=>{x1(e)(t),rt.lua_setglobal(e,b1(n))},cte=e=>(t,n)=>{rt.lua_pushjsfunction(e,t),rt.lua_setglobal(e,b1(n))},fte=e=>()=>{let t=rt.lua_gettop(e),n=[],r=-t;for(;r<0;)n.push(r),r+=1;return n.map(s=>Is.default.tojs(e,s))},pte=()=>{let e=SI.luaL_newstate();return ete.luaL_openlibs(e),Is.default.luaopen_js(e),{L:e,defineGlobalFunction:cte(e),defineGlobalArray:ute(e),luaExecString:nte(e),extractArgs:fte(e),popReturnValue:ite(e),utils:{isTopArray:TI(e),push:x1(e)}}},dte=e=>{let t=e.L||e;rt.lua_close(t)},{lua:NI,to_luastring:mte}=Jee.default,II=e=>t=>{e.defineGlobalFunction(t,"call"),e.luaExecString(`
    local redis = {}
    function repair(val)
      if val == nil then
        return false
      end
      return val
    end
    unpack = table.unpack
    redis.call = function(...)
        return repair(call(false, ...))
    end
    redis.pcall = function(...)
        return repair(call(true, ...))
    end
    return redis
  `),NI.lua_setglobal(e.L,mte("redis"))},hte=e=>function(){let t=e.extractArgs(),n=t[0],r;try{let s=t.slice(1),a=s[0].toLowerCase();r=Mu[a].bind(this)(...s.slice(1)),a==="hgetall"&&(r=[].concat(...Object.entries(r)))}catch(s){if(!n)throw s;return JN.default.push(e.L,["error",s.toString()]),1}return r||r===0?(Array.isArray(r)&&(r.unshift(null),r[Symbol.for("__len")]=function(){return this.length-1}),JN.default.push(e.L,r),1):0};function CI(e,t,n){let r=n.slice(0,t);e.defineGlobalArray(r,"KEYS")}function BI(e,t,n){let r=n.slice(t);e.defineGlobalArray(r,"ARGV")}var Xm=(e,t)=>function(...n){let r=pte();II(r)(hte(r).bind(this)),CI.bind(this)(r,e,n),BI.bind(this)(r,e,n);let s=NI.lua_gettop(r.L);r.luaExecString(t);let a=r.popReturnValue(s);return dte(r),a};function yte(e,{numberOfKeys:t,lua:n}){let r=Hm(Xm(t,n).bind(this),e,this);this[e]=r,this.customCommands[e]=r}var i1={g:!1,string:!1,l:!1,s:!1,h:!1,z:!1,x:!1,e:!1};function ZN(e){let t={...i1},n="g$lshzxe",r=e.replace("A",n);return t.g=r.includes("g"),t.string=r.includes("$"),t.l=r.includes("l"),t.s=r.includes("s"),t.h=r.includes("h"),t.z=r.includes("z"),t.x=r.includes("x"),t.e=r.includes("e"),t}function gte(e){let t={K:{...i1},E:{...i1}},n=e.includes("K"),r=e.includes("E");return n&&(t.K=ZN(e)),r&&(t.E=ZN(e)),t}function eI(e,t){return`__${e==="K"?"keyspace":"keyevent"}@0__:${t}`}function Pm(e,t,n,r){e.keyspaceEvents.K[t]===!0&&e.publish(eI("K",n),r),e.keyspaceEvents.E[t]===!0&&e.publish(eI("E",r),n)}function k1(...e){if(e.length===0||!e[0])throw new Error("ERR wrong number of arguments for 'del' command");let t=0;return e.forEach(n=>{this.data.has(n)&&(t++,Pm(this,"g",n,"del")),this.data.delete(n)}),t}var _te=k1;function MI(){if(!this.batch)throw new Error("ERR DISCARD without MULTI");return this.batch=void 0,"OK"}function bte(){let e=MI.call(this);return j(e)}function UI(e){return e}function xte(e){let t=UI.call(this,e);return j(t)}var kte=ut(require("crypto"));function Ate(e){let t=kte.default.createHash("sha1");return t.update(e),t.digest("hex")}function DI(e,t,...n){let r=Ate(e);return this.shaScripts[r]=e,Hm(Xm(t,e).bind(this),"",this)(...n)}async function wte(...e){let t=await DI.apply(this,e);return j(t)}function PI(e,t,...n){if(!(e in this.shaScripts)||!this.shaScripts[e])throw new Error("NOSCRIPT No matching script. Please use EVAL.");let r=this.shaScripts[e];return Hm(Xm(t,r).bind(this),"",this)(...n)}async function Ete(...e){let t=await PI.apply(this,e);return j(t)}function FI(...e){return e.reduce((t,n)=>this.data.has(n)?t+1:t,0)}var Ote=FI;function Kf(e,t){return this.data.has(e)?(this.expires.set(e,t*1e3+Date.now()),Pm(this,"g",e,"expire"),1):0}var vte=Kf;function A1(e,t){return this.data.has(e)?(this.expires.set(e,t*1e3),1):0}var Ste=A1;function GI(e){return this.data.has(e)?this.expires.has(e)?Math.round(this.expires.get(e)/1e3):-1:-2}var Tte=GI;function $I(){throw new Error("ERR FAILOVER requires connected replicas.")}function Rte(...e){let t=$I.apply(this,e);return j(t)}function jI(){return this.expires.clear(),this.data.clear(),"OK"}function Nte(){let e=jI.call(this);return j(e)}function KI(){return this.flushall(),"OK"}function Ite(){let e=KI.call(this);return j(e)}function qI(e){let t=this.data.has(e)?this.data.get(e):null;return Buffer.isBuffer(t)?t.toString():t}function Cte(e){return this.data.has(e)?j(this.data.get(e)):null}function VI(e,t){if(t>4294967295)throw new Error("ERR bit offset is not an integer or out of range");if(!this.data.has(e))return 0;let n=this.data.get(e);if(t>n.length*8)return 0;let r=parseInt(t/8,10),s=7-t%8;return n.charCodeAt(r)>>s&1}var Bte=VI;function HI(e){if(!this.data.has(e))return null;if(Ym.call(this,e)!=="string")throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");let t=this.data.get(e);return this.data.delete(e),this.expires.delete(e),t}function Mte(...e){let t=HI.apply(this,e);return j(t)}function XI(e,t,n){let r=t?.toUpperCase();if(!(["EX","PX","EXAT","PXAT"].indexOf(r)!==-1&&n!==void 0)&&!(r==="PERSIST"&&n===void 0)&&r)throw new Error("ERR syntax error");if(!this.data.has(e))return null;switch(r){case"PERSIST":v1.call(this,e);break;case"EX":Kf.call(this,e,n);break;case"PX":zm.call(this,e,n);break;case"EXAT":A1.call(this,e,n);break;case"PXAT":S1.call(this,e,n);break}return qI.call(this,e)}function Ute(...e){let t=XI.apply(this,e);return j(t)}function w1(e,t,n){let r=this.data.get(e),s=parseInt(t,10),a=parseInt(n,10);return a===-1?r.slice(s):r.slice(s,a+1)}function LI(...e){let t=w1.apply(this,e);return j(t)}var Dte=w1,Pte=LI;function zI(e,t){let n=this.data.has(e)?this.data.get(e):null;return this.data.set(e,t),this.expires.delete(e),n}function Fte(...e){let t=zI.apply(this,e);return j(t)}function WI(e,...t){let n=this.data.get(e);if(!n)return 0;let r=t.filter(s=>({}).hasOwnProperty.call(n,s)?(delete n[s],!0):!1).length;return Object.getOwnPropertyNames(n).length>0?this.data.set(e,n):this.data.delete(e),r}var Gte=WI;function YI(e,t){let n=this.data.get(e);return!n||n[t]===void 0?0:{}.hasOwnProperty.call(n,t)?1:0}var $te=YI;function QI(e,t){let n=this.data.get(e);return!n||n[t]===void 0?null:n[t]}function jte(e,t){let n=QI.apply(this,[e,t]);return j(n)}function JI(e){return this.data.get(e)||{}}function Kte(e){let t=JI.apply(this,[e]);return Object.keys(t).forEach(n=>{t[n]=j(t[n])}),t}function ZI(e,t,n=0){this.data.has(e)||this.data.set(e,{[t]:"0"});let r=this.data.get(e);({}).hasOwnProperty.call(r,t)||(r[t]="0");let s=Number(r[t])+parseInt(n,10);return r[t]=s.toString(),this.data.set(e,r),s}var qte=ZI;function eC(e,t,n){this.data.has(e)||this.data.set(e,{[t]:"0"});let r=this.data.get(e);({}).hasOwnProperty.call(r,t)||(r[t]="0");let s=parseFloat(r[t]);return r[t]=(s+parseFloat(n)).toString(),this.data.set(e,r),r[t]}var Vte=eC;function tC(e){return this.data.has(e)?Object.keys(this.data.get(e)):[]}function Hte(e){let t=tC.call(this,e);return j(t)}function nC(e){return this.data.has(e)?Object.keys(this.data.get(e)).length:0}var Xte=nC;function rC(e,...t){let n=this.data.get(e);return t.map(r=>!n||n[r]===void 0?null:n[r])}function Lte(...e){let t=rC.apply(this,e);return j(t)}function sC(e,...t){this.data.has(e)||this.data.set(e,{});let n=this.data.get(e);for(let r=0;r<t.length;r+=2)n[t[r]]=t[r+1];return this.data.set(e,n),"OK"}function zte(...e){let t=sC.apply(this,e);return j(t)}var Wte=ut(f1());function o1(e){let t=e==null?0:e.length;return t?e[Math.floor(Math.random()*t)]:void 0}function aC(e,t,n){if(!e)throw new Error("ERR wrong number of arguments for 'hrandfield' command");if(!this.data.has(e))return null;if(Ym.call(this,e)!=="hash")throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");let r=this.data.get(e),s=Object.keys(r);if(!t)return o1(s);let a=[];if(t>0&&(a=(0,Wte.default)(s).slice(0,t)),t<0){let i=t*-1;for(let o=0;o<i;o++)a.push(o1(s))}return n&&n.toUpperCase()==="WITHVALUES"?a.reduce((i,o)=>i.concat(o,r[o]),[]):a}function Yte(...e){let t=aC.apply(this,e);return j(t)}function tI(e){let t=e.replace(/([+{($^|.\\])/g,"\\$1");t=t.replace(/(^|[^\\])([*?])/g,"$1.$2"),t=`^${t}$`;let n=new RegExp(t);return n.test.bind(n)}function Qte(e){if(e.length>4)throw new Error("Too many arguments");if(e.length%2!==0)throw new Error("Args should be provided by pair (name & value)");let t=10,n=null,r=`${e[0]}${e[2]}`.toUpperCase();if(r==="UNDEFINEDUNDEFINED")return[t,n];if(r==="MATCHUNDEFINED")n=tI(e[1]);else if(r==="COUNTUNDEFINED")t=parseInt(e[1],10);else if(r==="MATCHCOUNT")n=tI(e[1]),t=parseInt(e[3],10);else throw r.startsWith("MATCH")||r.startsWith("COUNT")?new Error("BAD Syntax"):new Error(`Uknown option ${e[0]}`);if(Number.isNaN(t))throw new Error("count must be integer");return[t,n]}function Lm(e,t,n,...r){let s=parseInt(n,10);if(Number.isNaN(s))throw new Error("Cursor must be integer");let[a,i]=Qte(r),o=s+a,l=e.slice(s,o);if(i){let u=0;for(;u<l.length;)i(l[u])?u+=t:l.splice(u,t)}return o>=e.length&&(o=0),[String(o),l]}function iC(e,t,...n){if(!this.data.has(e))return["0",[]];let r=Object.entries(this.data.get(e)),[s,a]=Lm(r,1,t,...n);return[s,a.flat()]}function Jte(...e){let t=iC.apply(this,e);return j(t)}function oC(e,...t){this.data.has(e)||this.data.set(e,{});let n=this.data.get(e),r=0;for(let s=0;s<t.length;s+=2){let a=t[s],i=t[s+1];({}).hasOwnProperty.call(n,a)||r++,n[a]=i}return this.data.set(e,n),r}var Zte=oC;function lC(e,t,n){if(this.data.has(e)||this.data.set(e,{}),!{}.hasOwnProperty.call(this.data.get(e),t)){let r=this.data.get(e);return r[t]=n,this.data.set(e,r),1}return 0}var ene=lC;function uC(e,t){if(!e||!t)throw new Error("ERR wrong number of arguments for 'hstrlen' command");return this.data.has(e)&&{}.hasOwnProperty.call(this.data.get(e),t)?this.data.get(e)[t].length:0}var tne=uC;function cC(e){return this.data.has(e)?Object.values(this.data.get(e)):[]}function nne(e){let t=cC.call(this,e);return j(t)}function fC(e){this.data.has(e)||this.data.set(e,"0");let t=Number(this.data.get(e))+1;return this.data.set(e,t.toString()),t}var rne=fC;function pC(e,t=0){this.data.has(e)||this.data.set(e,"0");let n=Number(this.data.get(e))+parseInt(t,10);return this.data.set(e,n.toString()),n}var sne=pC;function dC(e,t){this.data.has(e)||this.data.set(e,"0");let n=parseFloat(this.data.get(e));return this.data.set(e,(n+parseFloat(t)).toString()),this.data.get(e)}var ane=dC;async function mC(){let e=await Promise.resolve().then(()=>ut(t1()));return e.default||e}async function ine(){let e=await mC.call(this);return j(e)}function hC(e,t,n,r,s,a,i){for(;n&&a;){switch(e[t]){case"*":for(;n&&e[t+1]==="*";)t++,n--;if(n===1)return!0;for(;a;){if(hC(e,t+1,n-1,r,s,a,i))return!0;s++,a--}return!1;case"?":s++,a--;break;case"[":{let o=!1;t++,n--;let l=e[t]==="^";for(l&&(t++,n--);;){if(e[t]==="\\"&&n>=2)t++,n--,e[t]===r[s]&&(o=!0);else{if(e[t]==="]")break;if(n===0){t--,n++;break}else if(n>=3&&e[t+1]==="-"){let u=e[t],c=e[t+2],f=r[s];if(u>c){let m=u;u=c,c=m}i&&(u=u.toLowerCase(),c=c.toLowerCase(),f=f.toLowerCase()),t+=2,n-=2,f>=u&&f<=c&&(o=!0)}else i?e[t].toLowerCase()===r[s].toLowerCase()&&(o=!0):e[t]===r[s]&&(o=!0)}t++,n--}if(l&&(o=!o),!o)return!1;s++,a--;break}case"\\":n>=2&&(t++,n--);default:if(i){if(e[t].toLowerCase()!==r[s].toLowerCase())return!1}else if(e[t]!==r[s])return!1;s++,a--;break}if(t++,n--,a===0){for(;e[t]==="*";)t++,n--;break}}return n===0&&a===0}function one(e,t,n){return hC(e,0,e.length,t,0,t.length,n)}function E1(e,t){return one(e,t,!1)}function yC(e){return this.data.keys().filter(t=>E1(e,t))}function lne(e){let t=yC.call(this,e);return j(t)}function gC(){return Math.floor(new Date().getTime()/1e3)}var une=gC;function _C(e,t){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let n=parseInt(t,10),r=this.data.get(e)||[],s=r[n<0?r.length+n:n];return s!==void 0?s:null}function cne(...e){let t=_C.apply(this,e);return j(t)}function bC(e,t,n,r){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let s=this.data.get(e)||[],a=s.indexOf(n);if(a<0)return-1;let i=a;switch(t){case"BEFORE":i=a;break;case"AFTER":i=a+1;break;default:throw new Error("The position of the new element must be BEFORE the pivot or AFTER the pivot")}s.splice(i,0,r);let{length:o}=s;return this.data.set(e,s),o}var fne=bC;function xC(e){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);return(this.data.get(e)||[]).length}var pne=xC;function kC(e,t,n,r){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");if(this.data.has(t)&&!(this.data.get(t)instanceof Array))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");if(n!=="LEFT"&&n!=="RIGHT")throw new Error("Position1 argument must be 'LEFT' or 'RIGHT'");if(r!=="LEFT"&&r!=="RIGHT")throw new Error("Position2 argument must be 'LEFT' or 'RIGHT'");let s=this.data.get(e)||[],a=s;if(e!==t&&(a=this.data.get(t)||[]),s.length===0)return null;let i;return n==="LEFT"?i=s.shift():i=s.pop(),r==="LEFT"?a.unshift(i):a.push(i),this.data.set(e,s),t!==e&&this.data.set(t,a),i}function dne(...e){let t=kC.apply(this,e);return j(t)}var mne=ut(Eee());async function hne(e){return`\u28B0\u2812\u28B2\u2812\u28B2\u2812\u28F6\u2812\u2856\u28B2\u2856\u28B2\u2812\u28F6\u2812\u2856\u2812\u2856\u2812\u2846
  \u28B8\u2812\u28BA\u2812\u28BA\u2812\u28FF\u2812\u2857\u28BA\u2857\u28BA\u2812\u28FF\u2812\u2857\u2812\u2857\u2812\u2847
  \u285E\u2812\u28FE\u28DB\u28FB\u28DB\u28FF\u28BB\u285F\u28BB\u281B\u28FF\u28BB\u285F\u28BB\u2813\u28B2\u28D7\u28D2\u2847
  \u28FB\u283F\u28FF\u28C9\u28EF\u28F9\u28CF\u28F9\u28EF\u28F9\u28CF\u28F9\u28C9\u28FF\u28B9\u28DF\u28FB\u28D3\u28FA\u2803
  \u28CC\u28C9\u28FF\u282D\u28E7\u28F8\u28CF\u28F9\u28EF\u28EF\u28EF\u28EF\u28FD\u28EF\u28FF\u28C9\u28F9\u28C4\u28F8\u2800
  \u28EF\u28C1\u28FF\u28ED\u28FD\u28FC\u28FC\u287C\u28FF\u28EC\u28C7\u28F9\u286E\u28FF\u28FB\u28D7\u28FD\u28D2\u287C\u2845
  \u2897\u28C9\u28BF\u28E6\u28FF\u28FF\u28E7\u28B7\u28F7\u28EF\u28E7\u28DF\u28F7\u28FE\u28FC\u28D7\u28FF\u2897\u28F9\u2887
  \u28B3\u281E\u28BA\u2836\u28FF\u283E\u28DF\u28FB\u28FE\u281F\u28B7\u28DF\u28BE\u28B7\u28FF\u28D3\u28A7\u2867\u2834\u284E
  \u287C\u2836\u285E\u2892\u287E\u283E\u285D\u28B2\u2877\u287D\u28BE\u28FF\u28BC\u28FE\u28BF\u2812\u28FE\u287F\u2836\u2867
  \u28B7\u2836\u28F7\u28FA\u28B7\u28F9\u289F\u28F2\u28AB\u2837\u286F\u28BF\u28BD\u28BF\u28BE\u285F\u28BA\u28B3\u28B2\u2801
  \u2878\u283A\u287A\u28FA\u287B\u28BE\u281E\u289B\u28B6\u287B\u289E\u283E\u28F9\u28BF\u28FE\u2819\u28FB\u281B\u283A\u2840
  \u2808\u2822\u280A\u281A\u2812\u281A\u2811\u2814\u2811\u281C\u2823\u281B\u283C\u2825\u283C\u2809\u280B\u2822\u280A\u2800
  
  Georg Nees - schotter, plotter on paper, 1968. Redis ver. ${e}`}function yne(e){return`\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m
\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m
\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m
\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m
\x1B[0;97;107m \x1B[0m\x1B[0;97;107m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m
\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m
\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m
\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m
\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m
\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;37;47m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;90;100m \x1B[0m\x1B[0;30;40m \x1B[0m\x1B[0;30;40m \x1B[0m
Dedicated to the 8 bit game developers of past and present.
Original 8 bit image from Plaguemon by hikikomori. Redis ver. ${e}`}async function AC(e="VERSION",t){let n=await Promise.resolve().then(()=>ut(t1())),r=(n.default||n).split(`
`).find(a=>a.indexOf("redis_version")!==-1),s=(0,mne.coerce)(r).version;if(e&&e.toUpperCase()!=="VERSION")throw new Error("ERR value is not an integer or out of range");return t==6?yne(s):t==5?hne(s):`Redis ver. ${s}
`}async function gne(...e){let t=await AC.apply(this,e);return j(t)}function wC(e){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let t=this.data.get(e)||[],n=t.length>0?t.shift():null;return this.data.set(e,t),n}function _ne(e){let t=wC.apply(this,[e]);return j(t)}function O1(e,...t){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let n=this.data.get(e)||[],r=n.unshift(...t.reverse());return this.data.set(e,n),r}var bne=O1;function EC(e,t){return this.data.has(e)?O1.call(this,e,t):0}var xne=EC;function OC(e,t,n){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let r=parseInt(t,10),s=parseInt(n,10),a=this.data.get(e)||[];return r<0&&(r=a.length+r),s<0&&(s=a.length+s),a.slice(r,s+1)}function kne(...e){let t=OC.apply(this,e);return j(t)}function vC(e,t,n){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))return 0;let r=parseInt(t,10),s=[...this.data.get(e)||[]],a=r<0?"lastIndexOf":"indexOf",i=r===0?s.length:Math.abs(r),o=0,l=s[a](n);for(;l!==-1&&o<i;)o++,s.splice(l,1),l=s[a](n);return this.data.set(e,s),o}var Ane=vC;function SC(e,t,n){if(!this.data.has(e))throw new Error("no such key");if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let r=parseInt(t,10),s=this.data.get(e)||[];return s[r<0?s.length+r:r]=n,this.data.set(e,s),"OK"}function wne(...e){let t=SC.apply(this,e);return j(t)}function TC(e,t,n){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let r=parseInt(t,10),s=parseInt(n,10),a=this.data.get(e)||[];return this.data.set(e,a.slice(r,s+1||void 0)),"OK"}function Ene(...e){let t=TC.apply(this,e);return j(t)}function RC(...e){return e.map(t=>this.data.has(t)?this.data.get(t):null)}function One(...e){let t=RC.apply(this,e);return j(t)}function NC(...e){for(let t=0;t<e.length;t+=2)Du.call(this,e[t],e[t+1]);return"OK"}function vne(...e){let t=NC.apply(this,e);return j(t)}function IC(...e){for(let t=0;t<e.length;t+=2)if(this.data.has(e[t]))return 0;for(let t=0;t<e.length;t+=2)Du.call(this,e[t],e[t+1]);return 1}var Sne=IC;function Tne(e){let t=this.data.get(e);return t instanceof Set?[...t].every(n=>n===parseInt(n,10).toString())?"intset":"hashtable":t instanceof Map?"listpack":Array.isArray(t)?"quicklist":typeof t.valueOf()=="string"?t===parseInt(t,10).toString()?"int":"embstr":"listpack"}function CC(e,t,...n){if(!e)throw new Error("ERR wrong number of arguments for 'object' command");let r=e.toUpperCase();if(r==="HELP"&&!t)return["OBJECT <subcommand> [<arg> [value] [opt] ...]. Subcommands are:","ENCODING <key>","    Return the kind of internal representation used in order to store the value","    associated with a <key>.","FREQ <key>","    Return the access frequency index of the <key>. The returned integer is","    proportional to the logarithm of the recent access frequency of the key.","IDLETIME <key>","    Return the idle time of the <key>, that is the approximated number of","    seconds elapsed since the last access to the key.","REFCOUNT <key>","    Return the number of references of the value associated with the specified","    <key>.","HELP","    Prints this help."];if(!t||n.length>0)switch(r){case"REFCOUNT":case"IDLETIME":case"HELP":case"FREQ":case"ENCODING":throw new Error(`ERR wrong number of arguments for 'object|${e.toLowerCase()}' command`);default:throw new Error(`ERR unknown subcommand '${e.toLowerCase()}'. Try OBJECT HELP.`)}if(r!=="HELP"&&!this.data.has(t))return null;switch(r){case"ENCODING":return Tne.call(this,t);case"FREQ":throw new Error("ERR An LFU maxmemory policy is not selected, access frequency not tracked. Please note that when switching between policies at runtime LRU and LFU data will take some time to adjust.");case"HELP":throw new Error(`ERR wrong number of arguments for 'object|${e.toLowerCase()}' command`);case"IDLETIME":return 0;case"REFCOUNT":return 1;default:throw new Error(`ERR unknown subcommand '${e.toLowerCase()}'. Try OBJECT HELP.`)}}function Rne(...e){let t=CC.apply(this,e);return j(t)}function v1(e){return!this.data.has(e)||!this.expires.has(e)?0:(this.expires.delete(e),1)}var Nne=v1;function zm(e,t){return this.data.has(e)?(this.expires.set(e,+t+Date.now()),1):0}var Ine=zm;function S1(e,t){return this.data.has(e)?(this.expires.set(e,t),1):0}var Cne=S1;function BC(e){return this.data.has(e)?this.expires.has(e)?this.expires.get(e):-1:-2}var Bne=BC;function MC(e="PONG"){return e}function Mne(e){let t=MC.call(this,e);return j(t)}function UC(e,t,n){return Du.call(this,e,n),zm.call(this,e,t),"OK"}function Une(...e){let t=UC.apply(this,e);return j(t)}function Dne(e,t,n,r){process.nextTick(()=>{let[s,a,i]=Buffer.isBuffer(n)?["pmessageBuffer","messageBuffer",Buffer.from(t)]:["pmessage","message",t];r?e.emit(s,r,i,n):e.emit(a,i,n)})}function wi(e,t){let n=[];return t.instanceListeners?(t.instanceListeners.forEach((r,s)=>{r.has(e)&&n.push(s)}),n):[]}function DC(e,t,n,r){if(n.instanceListeners.has(t)||n.instanceListeners.set(t,new Map),n.instanceListeners.get(t).has(e))return;let s=(a,i)=>Dne(e,r?i:t,a,r?t:void 0);n.on(t,s),n.instanceListeners.get(t).set(e,s)}function Fm(e,t,n){if(!n.instanceListeners||n.instanceListeners.has(t)===!1)return;let r=n.instanceListeners.get(t);if(r.has(e)===!1)return;let s=r.get(e);n.removeListener(t,s),r.delete(e),r.size===0&&n.instanceListeners.delete(t)}function PC(...e){e.forEach(n=>{this.patternChannels.instanceListeners||(this.patternChannels.instanceListeners=new Map),DC(this,n,this.patternChannels,!0)});let t=wi(this,this.patternChannels).length;return t>0&&(this.subscriberMode=!0),t}var Pne=PC;function FC(e){return this.data.has(e)?this.expires.has(e)?Math.ceil(this.expires.get(e)-Date.now()):-1:-2}var Fne=FC;function GC(e,t){this.channels.emit(e,t);let n=this.patternChannels.eventNames().filter(r=>E1(r,e));return n.forEach(r=>this.patternChannels.emit(r,t,e)),n.length+this.channels.listenerCount(e)}var Gne=GC;function $C(e,t){var n,r;switch(e){case"CHANNELS":{let s=[];return(r=(n=this.channels)==null?void 0:n.instanceListeners)==null||r.forEach((a,i)=>{s.push(i)}),t&&(s=s.filter(a=>E1(t,a))),s}default:throw new Error("Currently not implemented as a mock")}}var $ne=$C;function jC(...e){e.length===0&&wi(this,this.patternChannels).forEach(n=>{Fm(this,n,this.patternChannels)}),e.forEach(n=>{Fm(this,n,this.patternChannels)});let t=wi(this,this.patternChannels).length;return t+wi(this,this.channels).length===0&&(this.subscriberMode=!1),t}var jne=jC;function KC(){return this.disconnect(),"OK"}function Kne(){let e=KC.call(this);return j(e)}function qC(e=1,t=0){let n=Math.ceil(Math.min(e,t)),r=Math.floor(Math.max(e,t));return Math.floor(n+Math.random()*(r-n+1))}function VC(){let e=this.data.keys();return e.length>0?e[qC(0,e.length-1)]:null}function qne(){let e=VC.call(this);return j(e)}function HC(){throw new Error("ERR This instance has cluster support disabled")}function Vne(){let e=HC.call(this);return j(e)}function XC(){return"OK"}function Hne(){let e=XC.call(this);return j(e)}function T1(e,t){let n=this.data.get(e);if(this.expires.has(e)){let r=this.expires.get(e);this.expires.delete(e),this.expires.set(t,r)}return this.data.set(t,n),this.data.delete(e),Pm(this,"g",e,"rename_from"),Pm(this,"g",t,"rename_to"),"OK"}function Xne(...e){let t=T1.apply(this,e);return j(t)}function LC(e,t){return this.data.has(t)?0:(T1.call(this,e,t),1)}var Lne=LC;function zC(){return"OK"}function zne(){let e=zC.call(this);return j(e)}function R1(e,t){if(!e||!t)throw new Error("ERR wrong number of arguments for 'replicaof' command");if(e.toUpperCase()==="NO"&&t.toUpperCase()==="ONE")return"OK";throw new Error("ERR Unsupported operation, PRs welcome ;-)")}function WC(...e){let t=R1.apply(this,e);return j(t)}var Wne=R1,Yne=WC;function YC(){return["master",0]}function Qne(){let e=YC.call(this);return j(e)}function QC(e){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error(`Key ${e} does not contain a list`);let t=this.data.get(e)||[],n=t.length>0?t.pop():null;return this.data.set(e,t),n}function Jne(e){return QC.apply(this,[e])}function JC(e,t){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");if(this.data.has(t)&&!(this.data.get(t)instanceof Array)||!this.data.has(e)||this.data.get(e).length===0)return null;this.data.has(t)||this.data.set(t,[]);let n=this.data.get(e),r=n.pop(),s=this.data.get(t);return s.unshift(r),this.data.set(e,n),this.data.set(t,s),r}function Zne(e,t){return JC.call(this,e,t)}function N1(e,...t){if(this.data.has(e)&&!(this.data.get(e)instanceof Array))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");let n=this.data.get(e)||[],r=n.push(...t);return this.data.set(e,n),r}var ere=N1;function ZC(e,t){return this.data.has(e)?N1.call(this,e,t):0}var tre=ZC;function eB(e,...t){this.data.has(e)||this.data.set(e,new Set);let n=0,r=this.data.get(e);return t.forEach(s=>{r.has(s)||n++,r.add(s)}),this.data.set(e,r),n}var nre=eB;function tB(){return"OK"}function rre(){let e=tB.call(this);return j(e)}function nB(e,t,n,r,s){let a=this.data.keys();return Lm(a,1,e,t,n,r,s)}function sre(...e){let t=nB.apply(this,e);return j(t)}function rB(e){let t=this.data.get(e);if(!t)return 0;if(!(t instanceof Set))throw new Error(`Key ${e} does not contain a set`);return this.data.get(e).size}var are=rB;function I1(e,...t){if(this.data.has(e)&&!(this.data.get(e)instanceof Set))throw new Error(`Key ${e} does not contain a set`);t.forEach(a=>{if(this.data.has(a)&&!(this.data.get(a)instanceof Set))throw new Error(`Key ${a} does not contain a set`)});let n=this.data.has(e)?this.data.get(e):new Set,r=t.map(a=>this.data.has(a)?this.data.get(a):new Set),s=new Set(Array.from(n).filter(a=>r.reduce((i,o)=>o.has(a)?!1:i,!0)));return Array.from(s)}function ire(...e){let t=I1.apply(this,e);return j(t)}function ore(e,t){return function(n,...r){let s=e.call(this,...r);return this.data.set(n,new t(s)),s.length}}function C1(e){return ore(e,Set)}var sB=C1(I1),lre=sB;function ure(e,t){let n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function Du(e,t,...n){let r=n.indexOf("NX")!==-1,s=n.indexOf("XX")!==-1,a=n.filter(u=>u!=="NX"&&u!=="XX");if(r&&s)throw new Error("ERR syntax error");if(r&&this.data.has(e)||s&&!this.data.has(e))return null;let i="OK";n.indexOf("GET")!==-1&&(i=this.data.has(e)?this.data.get(e):null),this.data.set(e,t);let o=new Map(ure(a,2)),l=o.get("EX")||o.get("PX")/1e3;return l?Kf.call(this,e,l):this.expires.delete(e),i}function cre(...e){let t=Du.apply(this,e);return j(t)}var fre=String.fromCharCode(0),pre=e=>t=>t+Array(Math.max(0,e-t.length)).fill(fre).join(""),dre=e=>t=>t>>e&1,mre=e=>t=>t|1<<e,hre=e=>t=>t&~(1<<e),yre=e=>e===1?mre:hre,gre=e=>t=>t.charCodeAt(e),_re=e=>t=>n=>n.substr(0,t)+String.fromCharCode(e)+n.substr(t+1);function aB(e,t,n){if(t>4294967295)throw new Error("ERR bit offset is not an integer or out of range");let r=parseInt(n,10);if(r!==0&&r!==1)throw new Error("ERR bit is not an integer or out of range");let s=parseInt(t/8,10),a=7-t%8,i=this.data.has(e)?this.data.get(e):"",o=gre(s)(i),l=pre(s+1)(i),u=yre(r)(a)(o),c=_re(u)(s)(l);return this.data.set(e,c),dre(a)(o)}var bre=aB;function iB(e,t,n){return Du.call(this,e,n),Kf.call(this,e,t),"OK"}function xre(...e){let t=iB.apply(this,e);return j(t)}function oB(e,t){return this.data.has(e)?0:(this.data.set(e,t),1)}var kre=oB;function lB(e,t,n){let r=this.data.get(e)||"",s=parseInt(t,10),a=parseInt(s+n.length,10),i="";return s>0&&(i=r.slice(0,s)),i+=n,a<r.length&&(i+=r.slice(a,r.length+1)),i.length<a&&(i=i.padStart(a,String.fromCharCode(0))),this.data.set(e,i),i.length}var Are=lB;function B1(...e){let t=Wm.apply(this,e),n=e.map(s=>this.data.has(s)?this.data.get(s):new Set),r=new Set(t.filter(s=>n.reduce((a,i)=>i.has(s)?a:!1,!0)));return Array.from(r)}function wre(...e){let t=B1.apply(this,e);return j(t)}var uB=C1(B1),Ere=uB;function cB(e,t){let n=this.data.get(e);return n&&n.has(t)?1:0}var Ore=cB;function fB(e){return this.data.has(e)?Array.from(this.data.get(e)):[]}function vre(...e){let t=fB.apply(this,e);return j(t)}function pB(e,...t){let n=this.data.get(e);return n?t.map(r=>n.has(r)?1:0):t.map(()=>0)}var Sre=pB;function dB(e,t,n){if(this.data.has(e)&&!(this.data.get(e)instanceof Set))throw new Error(`Key ${e} does not contain a set`);if(this.data.has(t)&&!(this.data.get(t)instanceof Set))throw new Error(`Key ${t} does not contain a set`);if(!this.data.has(e))return 0;let r=this.data.get(e);if(!r.has(n))return 0;r.delete(n),this.data.set(e,r),this.data.has(t)||this.data.set(t,new Set);let s=this.data.get(t);return s.add(n),this.data.set(t,s),1}var Tre=dB,Rre=ut(f1()),Nre=e=>{let t=e!==void 0?parseInt(e,10):1;if(Number.isNaN(t)||t<0)throw new Error("ERR value is not an integer or out of range");return t};function mB(e,t){if(this.data.has(e)&&!(this.data.get(e)instanceof Set))throw new Error(`Key ${e} does not contain a set`);let n=Nre(t),r=this.data.get(e)||new Set,s=r.size;if(n===0)return;if(s===0)return null;let a=Array.from(r),i;return n===1?(i=o1(a),r.delete(i)):s<=n?(i=a,r.clear()):(i=(0,Rre.default)(a).slice(0,n),i.map(o=>r.delete(o))),this.data.set(e,r),i}function Ire(...e){let t=mB.apply(this,e);return j(t)}var Cre=ut(f1());function hB(e,t){if(this.data.has(e)&&!(this.data.get(e)instanceof Set))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");let n=this.data.get(e)||new Set,r=Array.from(n),s=r.length;if(s===0)return null;let a=t!==void 0,i=a?Math.abs(t):1;if(a&&t>-1)return(0,Cre.default)(r.splice(0,i));let o=[],l=0;for(;l<i;){let u=r[qC(0,s-1)];o.push(u),l+=1}return a?o:o[0]}function Bre(...e){let t=hB.apply(this,e);return j(t)}function yB(e,...t){if(!this.data.has(e))return 0;if(this.data.has(e)&&!(this.data.get(e)instanceof Set))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");let n=0,r=this.data.get(e);return t.forEach(s=>{r.has(s)&&n++,r.delete(s)}),r.size===0?this.data.delete(e):this.data.set(e,r),n}var Mre=yB;function gB(e,t,...n){if(!this.data.has(e))return["0",[]];let r=[];return this.data.get(e).forEach(s=>r.push(s)),Lm(r,1,t,...n)}function Ure(...e){let t=gB.apply(this,e);return j(t)}function _B(e){return this.data.has(e)?this.data.get(e).length:0}var Dre=_B;function bB(...e){if(e.forEach(n=>{this.channels.instanceListeners||(this.channels.instanceListeners=new Map),DC(this,n,this.channels)}),!this.channels.instanceListeners)return 0;let t=wi(this,this.channels).length;return t>0&&(this.subscriberMode=!0),t}var Pre=bB;function Wm(...e){e.forEach(r=>{if(this.data.has(r)&&!(this.data.get(r)instanceof Set))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value")});let t=e.map(r=>this.data.has(r)?this.data.get(r):new Set),n=new Set(t.reduce((r,s)=>[...r,...Array.from(s)],[]));return Array.from(n)}function Fre(...e){let t=Wm.apply(this,e);return j(t)}var xB=C1(Wm),Gre=xB;function kB(){return[`${Math.round(new Date().getTime()/1e3)}`,`${Math.round(process.hrtime()[1]/1e3)}`]}function $re(){let e=kB.call(this);return j(e)}function AB(e){return this.data.has(e)?this.expires.has(e)?Math.ceil((this.expires.get(e)-Date.now())/1e3):-1:-2}var jre=AB,Kre=ut(Oee());function Ym(e){if(!this.data.has(e))return"none";let t=this.data.get(e);if(t instanceof Set)return"set";if(t instanceof Map)return"zset";if(Array.isArray(t))return"list";if(t!=null&&typeof t.valueOf()=="string")return"string";if((0,Kre.default)(t))return"hash"}function qre(e){let t=Ym.call(this,e);return j(t)}function wB(...e){return k1.bind(this)(...e)}var Vre=wB;function EB(...e){if(e.length===0)return wi(this,this.channels).forEach(n=>{Fm(this,n,this.channels)}),0;e.forEach(n=>{Fm(this,n,this.channels)});let t=wi(this,this.channels).length;return t+wi(this,this.patternChannels).length===0&&(this.subscriberMode=!1),t}var Hre=EB;function OB(e,t,...n){if(!e||!t||n.length===0||(n.includes("~")||n.includes("=")?n.length<4:n.length%2!==0))throw new Error("ERR wrong number of arguments for 'xadd' command");this.data.has(e)||this.data.set(e,[]);let r,s=t;s==="MAXLEN"&&(r=n.shift(),(r==="="||r==="~")&&(r=n.shift()),s=n.shift());let a=`${s==="*"?this.data.get(e).length+1:s}-0`,i=this.data.get(e);if(i.length>0&&i[0][0]===`${a}`)throw new Error("ERR The ID specified in XADD is equal or smaller than the target stream top item");this.data.set(`stream:${e}:${a}`,{polled:!1});let o=i.concat([[`${a}`,[...n]]]);return r&&o.length>r&&(o=o.slice(-r)),this.data.set(e,o),`${a}`}function Xre(...e){let t=OB.apply(this,e);return j(t)}function vB(e){return(this.data.get(e)||[]).length}var Lre=vB;function SB(e,t,n,...r){if(!e||!t||!n)throw new Error("ERR wrong number of arguments for 'xrange' command");let[s,a]=r;if(s&&!a)throw new Error("ERR syntax error");if(!this.data.has(e))return[];let i=this.data.get(e),o=t==="-"?-1/0:t,l=n==="+"?1/0:n,u=i.filter(([c])=>o<=parseInt(c,10)&&l>=parseInt(c,10));return a?u.slice(0,a):u}function zre(...e){let t=SB.apply(this,e);return j(t)}function TB(e,...t){let{op:n,opVal:r,rest:s}=e==="STREAMS"?{op:"COUNT",opVal:1/0,rest:t}:{op:e,opVal:parseInt(t[0],10),rest:t.slice(2)};if(["COUNT","BLOCK"].indexOf(n)<0)throw new Error("ERR syntax error");if(s.length%2!==0)throw new Error("ERR Unbalanced XREAD list of streams: for each stream key an ID or '$' must be specified.");let a=s.reduce((l,u,c)=>{let f=Math.floor(c/2),m=l[f]||[];return l[f]=m.concat(u),l},[]),i=(l,u,c=1)=>{let f=this.data.get(l);return f?f.reduce((m,[g,...y])=>{let{polled:w}=this.data.get(`stream:${l}:${g}`);return!w&&(u==="$"||g>=u)&&m.length<c?(this.data.set(`stream:${l}:${g}`,{polled:!0}),m.concat([[g,...y]])):m},[]):[]},o=(l,u)=>l.reduce((c,[f,m])=>[[f,i(f,m,u)]].concat(c),[]);return n==="BLOCK"?new Promise(l=>{let u=0,c=()=>setTimeout(()=>{if(r>0&&u<r)return l(null);let f=o(a,1);return f.length>0?l(f):(u+=100,c())},100);c()}):new Promise(l=>{let u=o(a,r);u.length===0&&l(null),l(u.slice().reverse())})}async function Wre(...e){let t=await TB.apply(this,e);return j(t)}function RB(e,t,n,...r){if(!e||!n||!t)throw new Error("ERR wrong number of arguments for 'xrevrange' command");let[s,a]=r;if(s&&!a)throw new Error("ERR syntax error");if(!this.data.has(e))return[];let i=this.data.get(e).slice().reverse(),o=n==="-"?-1/0:n,l=t==="+"?1/0:t,u=i.filter(([c])=>o<=parseInt(c,10)&&l>=parseInt(c,10));return a?u.slice(0,a):u}function Yre(...e){let t=RB.apply(this,e);return j(t)}function NB(e,...t){let n=[];for(;["NX","XX","CH","INCR"].includes(t[0]);)n.push(t.shift());let r=t.length;if(r%2!==0||r<1)throw new Error("ERR syntax error");let s=n.includes("NX"),a=n.includes("XX"),i=n.includes("CH"),o=n.includes("INCR");if(s&&a)throw new Error("XX and NX options at the same time are not compatible");if(o&&r>2)throw new Error("INCR option supports a single increment-element pair");if(!this.data.has(e)){if(a)return 0;this.data.set(e,new Map)}let l=this.data.get(e),u=0,c=0;for(let f=0;f<r;f+=2){let m=Number(t[f]),g=t[f+1];l.has(g)?s||(o&&(m+=Number(l.get(g).score)),l.set(g,{score:m,value:g}),c++):a||(l.set(g,{score:m,value:g}),u++)}return this.data.set(e,l),i?u+c:u}var Qre=NB;function IB(e){let t=this.data.get(e);if(!t)return 0;if(!(t instanceof Map))throw new Error(`Key ${e} does not contain a sorted set`);return this.data.get(e).size}var Jre=IB,n1=ut(_1());function M1(e,t,n){return e.slice(t,n===-1?void 0:n+1)}function Zre(e,t,n){return t<0?-t>n.length?0:n.length+t:e+t}function ese(e,t,n){if(n===0)return[];let r=Zre(t,n,e);return e.slice(t,r)}function Gm(e){let t=`${e}`,n=!1;if(t[0]==="(")t=t.substr(1,t.length),n=!0;else{if(t==="-inf")return{value:-1/0,isStrict:!0};if(t==="+inf")return{value:1/0,isStrict:!0}}return{value:parseInt(t,10),isStrict:n}}function nI(e){if(e==="-")return{value:"-",isExclusive:!1};if(e==="+")return{value:"+",isExclusive:!1};let t=e,n=!1;if(t[0]==="(")t=t.substr(1,t.length),n=!0;else if(t[0]==="[")t=t.substr(1,t.length);else throw new Error("ERR synax error");return{value:t,isExclusive:n}}function CB(e,t){return n=>!(n.score<e.value||e.isStrict&&n.score===e.value||n.score>t.value||t.isStrict&&n.score===t.value)}function tse(e,t){return n=>!(e.value!=="-"&&n.value<e.value||e.isExclusive&&n.value===e.value||t.value!=="+"&&n.value>t.value||t.isExclusive&&n.value===t.value)}function $f(e,t){return e.toString().toLowerCase()===t.toString().toLowerCase()}var Bu="reverse",nse="forward",r1="rank",Ho="lex",Cu="score";function Pu(e,t=0,n=!1,r=null,s=null){let a=e[t],i=this.data.get(a);if(!i)return[];if(this.data.has(a)&&!(this.data.get(a)instanceof Map))throw new Error("WRONGTYPE Operation against a key holding the wrong kind of value");let o=!1,l=0,u=null,c=s||nse,f=r||r1,m,g,y=t+1,w=t+2;for(let P=t+3;P<e.length;P++){let W=e.length-P-1;if(!n&&$f(e[P],"withscores"))o=1;else if($f(e[P],"limit")&&W>=2){if(l=parseInt(e[P+1],10),u=parseInt(e[P+2],10),Number.isNaN(l)||Number.isNaN(u))throw new Error("ERR syntax error");P+=2}else if(!s&&$f(e[P],"rev"))c=Bu;else if(!r&&$f(e[P],"bylex"))f=Ho;else if(!r&&$f(e[P],"byscore"))f=Cu;else throw new Error("ERR syntax error")}if(u!==null&&f===r1)throw new Error("ERR syntax error, LIMIT is only supported in combination with either BYSCORE or BYLEX");if(o&&f===Ho)throw new Error("ERR syntax error, WITHSCORES not supported in combination with BYLEX");if(c===Bu&&(f===Cu||f===Ho)){let P=w;w=y,y=P}switch(f){case r1:if(m=parseInt(e[y],10),g=parseInt(e[w],10),Number.isNaN(m)||Number.isNaN(g))throw new Error("ERR syntax error ");break;case Cu:m=Gm(e[y]),g=Gm(e[w]);break;case Ho:m=nI(e[y]),g=nI(e[w]);break;default:throw new Error("ERR syntax error")}let S;c===Bu&&(S=["desc","desc"]);let R,B=Array.from(i.values());if(f===Cu){let P=B.filter(CB(m,g));R=(0,n1.default)(P,["score","value"],S)}else if(f===Ho){let P=B.filter(tse(m,g));R=(0,n1.default)(P,["score","value"],S)}else R=M1((0,n1.default)(B,["score","value"],S),m,g);return u!==null&&(R=ese(R,l,u)),o?R.flatMap(P=>[P.value,`${P.score}`]):R.map(P=>P.value)}function BB(e,t,n){let r=this.data.get(e);if(!r||this.data.has(e)&&!(this.data.get(e)instanceof Map))return 0;let s=Gm(t),a=Gm(n);return Array.from(r.values()).filter(CB(s,a)).length}var rse=BB;function MB(e,t,n){this.data.has(e)||this.data.set(e,new Map);let r=this.data.get(e),s=0;return r.has(n)&&({score:s}=r.get(n)),s+=parseFloat(t),r.set(n,{value:n,score:s}),this.data.set(e,r),s.toString()}function sse(...e){let t=MB.apply(this,e);return j(t)}var ase=ut(vee());function UB(e,t,...n){let r=[];if(parseInt(t,10)!==n.length)throw new Error("ERR syntax error");for(let o=0;o<n.length;o+=1){if(!this.data.has(n[o])||!(this.data.get(n[o])instanceof Map))return 0;r.push(this.data.get(n[o]))}let s=r.map(o=>JSON.parse(JSON.stringify(Array.from(o.values())))),a=(0,ase.default)(...s,"value");if(a.length===0)return this.data.delete(e),0;for(let o=0;o<a.length;o+=1){let l=0;for(let u=0;u<r.length;u+=1)r[u].get(a[o].value)&&(l+=r[u].get(a[o].value).score);a[o].score=l,a[o]=[a[o].value,a[o]]}let i=new Map(a);return this.data.set(e,i),a.length}var ise=UB,ose=ut(_1());function DB(e,t=1){let n=this.data.get(e);if(n==null||!(n instanceof Map))return[];let r=M1((0,ose.default)(Array.from(n.values()),["score","value"]),-t,-1).reverse();return r.forEach(s=>{n.delete(s.value)}),this.data.set(e,n),r.flatMap(s=>[s.value,s.score])}function lse(...e){let t=DB.apply(this,e);return j(t)}var use=ut(_1());function PB(e,t=1){let n=this.data.get(e);if(n==null||!(n instanceof Map))return[];let r=M1((0,use.default)(Array.from(n.values()),["score","value"]),0,t-1);return r.forEach(s=>{n.delete(s.value)}),this.data.set(e,n),r.flatMap(s=>[s.value,s.score])}function cse(...e){let t=PB.apply(this,e);return j(t)}function Qm(...e){return Pu.call(this,e)}function fse(...e){let t=Qm.apply(this,e);return j(t)}function FB(...e){return Pu.call(this,e,0,!1,Ho)}function pse(...e){let t=FB.apply(this,e);return j(t)}function GB(...e){return Pu.call(this,e,0,!1,Cu)}function dse(...e){let t=GB.apply(this,e);return j(t)}function $B(e,t){let n=Qm.call(this,e,0,-1).indexOf(t);return n>=0?n:null}var mse=$B;function jB(e,...t){let n=this.data.get(e);if(!n)return 0;let r=0;return t.forEach(s=>{n.delete(s)&&r++}),this.data.set(e,n),r}var hse=jB;function KB(e,t,n){let r=Qm.call(this,e,t,n);if(!this.data.has(e))return 0;let s=this.data.get(e);return r.forEach(a=>{s.delete(a)}),this.data.set(e,s),r.length}var yse=KB;function qB(e,t,n){let r=D1.call(this,e,n,t);if(!this.data.has(e))return 0;let s=this.data.get(e);return r.forEach(a=>{s.delete(a)}),this.data.set(e,s),r.length}var gse=qB;function U1(...e){return Pu.call(this,e,0,!1,null,Bu)}function _se(...e){let t=U1.apply(this,e);return j(t)}function VB(...e){return Pu.call(this,e,0,!1,Ho,Bu)}function bse(...e){let t=VB.apply(this,e);return j(t)}function D1(...e){return Pu.call(this,e,0,!1,Cu,Bu)}function xse(...e){let t=D1.apply(this,e);return j(t)}function HB(e,t){let n=U1.call(this,e,0,-1).indexOf(t);return n>=0?n:null}var kse=HB;function XB(e,t,...n){if(!this.data.has(e))return["0",[]];let r=[];this.data.get(e).forEach(({score:i,value:o})=>{r.push([o,i.toString()])});let[s,a]=Lm(r,1,t,...n);return[s,[].concat(...a)]}function Ase(...e){let t=XB.apply(this,e);return j(t)}function LB(e,t){let n=this.data.get(e);if(!n||!(n instanceof Map))return null;let r=n.get(t);return r?r.score.toString():null}function wse(...e){let t=LB.apply(this,e);return j(t)}var l1={};lI(l1,{hscanStream:()=>Ose,scanStream:()=>vse,sscanStream:()=>Sse,zscanStream:()=>Tse});var Ese=require("stream"),Jm=class extends Ese.Readable{constructor(e,t={}){super({objectMode:!0}),this._scanCommand=e,this._cursor=0,this.opt=t,this._drained=!1}_callScan(){let e=[this._cursor];return this.opt.key&&e.unshift(this.opt.key),this.opt.match&&e.push("MATCH",this.opt.match),this.opt.count&&e.push("COUNT",this.opt.count),this._scanCommand(...e)}_read(){if(this._drained){this.push(null);return}this._callScan().then(e=>{let[t,n]=e;t==="0"?this._drained=!0:this._cursor=t,n.length>0?this.push(n):this._read()}).catch(e=>process.nextTick(()=>this.emit("error",e)))}};function Ose(e,t={}){let n=t instanceof Object?t:{};return n.key=e,new Jm(this.hscan,n)}function vse(e){return new Jm(this.scan,e)}function Sse(e,t={}){let n=t instanceof Object?t:{};return n.key=e,new Jm(this.sscan,n)}function Tse(e,t={}){let n=t instanceof Object?t:{};return n.key=e,new Jm(this.zscan,n)}var rI=require("events");function Rse(e){let t={};return Object.freeze({clear(){t={}},delete(n){e.has(n)&&e.delete(n),delete t[n]},get(n){e.has(n)&&e.isExpired(n)&&this.delete(n);let r=t[n];return Array.isArray(r)?r.slice():Buffer.isBuffer(r)?Buffer.from(r):r instanceof Set?new Set(r):r instanceof Map?new Map(r):typeof r=="object"&&r?{...r}:r},has(n){return e.has(n)&&e.isExpired(n)&&this.delete(n),{}.hasOwnProperty.call(t,n)},keys(n){let r=Object.keys(t);return n?r.filter(s=>s.startsWith(n)):r},set(n,r){let s=r;Array.isArray(r)?s=r.slice():Buffer.isBuffer(r)?s=Buffer.from(r):r instanceof Set?s=new Set(r):r instanceof Map?s=new Map(r):typeof r=="object"&&r&&(s={...r}),t[n]=s}})}function Nse(e,t,n={},r=""){function s(i,o){return Object.freeze({clear:()=>e.clear(),delete:l=>e.delete(`${i}${l}`),get:l=>e.get(`${i}${l}`),has:l=>e.has(`${i}${l}`),keys:()=>e.keys(i),set:(l,u)=>e.set(`${i}${l}`,u),withKeyPrefix(l){return l===i?this:s(l,o.withKeyPrefix(l))}})}let a=s(r,t);return Object.keys(n).forEach(i=>a.set(i,n[i])),a}function Ise(){let e={};return Object.freeze({clear(){e={}},get(t){return e[t]},set(t,n){e[t]=+n},has(t){return{}.hasOwnProperty.call(e,t)},isExpired(t){return e[t]<=Date.now()},delete(t){delete e[t]}})}function Cse(e,t=""){function n(r){return{clear:()=>e.clear(),get:s=>e.get(`${r}${s}`),set:(s,a)=>e.set(`${r}${s}`,a),has:s=>e.has(`${r}${s}`),isExpired:s=>e.isExpired(`${r}${s}`),delete:s=>e.delete(`${r}${s}`),withKeyPrefix(s){return s===r?this:n(s)}}}return n(t)}var Bse=new Map,ka=Bse;function Mse(e){let t=Ise();return{channels:new rI.EventEmitter,expires:t,data:Rse(t),patternChannels:new rI.EventEmitter,keyPrefix:e}}var sI=ut(Qh()),Use=class{constructor(e){this.batch=[],this.redis=e,this._transactions=0,this.copyCommands(),Object.defineProperty(this,"length",{get(){return this.batch.length}})}copyCommands(){Object.keys(Mu).forEach(e=>{let t=Mu[e];this[e]=this._createCommand(e,t)}),Object.keys(this.redis.customCommands).forEach(e=>{let t=this.redis.customCommands[e];this[e]=this._createCommand(e,t)})}_createCommand(e,t){return(...n)=>{let r=n.length-1,s=n[r];typeof s!="function"?s=void 0:n.length=r;let a=t.bind(this.redis),i=dI(n,e);return this._addTransaction(a,e,i,s),this}}_addTransaction(e,t,n,r){this.batch.push(()=>(0,sI.default)(new Promise(s=>s(a1(e,t,this.redis,...n))),r)),this._transactions+=1}exec(e){let t=this.batch;return this.batch=[],(0,sI.default)(Promise.all(t.map(n=>n())).then(n=>n.map(r=>[null,r])),e)}},aI=Use,u1={data:{},keyPrefix:"",lazyConnect:!1,notifyKeyspaceEvents:"",host:"localhost",port:6379},iI=e=>{let{host:t,port:n}=(0,Tee.parseURL)(e);return{host:t,port:n}},Dse=(...e)=>{switch(e.length){case 3:return{...e[2],port:e[0],host:e[1]};case 2:return typeof e[0]=="string"?{...e[1],...iI(e[0])}:Number.isInteger(e[0])&&typeof e[1]=="string"?{port:e[0],host:e[1]}:{...e[1],port:e[0]};case 1:return typeof e[0]=="string"?{...iI(e[0])}:Number.isInteger(e[0])?{port:e[0]}:{...e[0]};default:return{}}},Pse=(...e)=>{let t=Dse(...e),n=t.port?parseInt(t.port,10):u1.port,{host:r=u1.host}=t;return{...t,port:n,host:r}},Xo=class zB extends See.EventEmitter{constructor(...t){super(),this.batch=void 0,this.connected=!1,this.subscriberMode=!1,this.customCommands={},this.shaScripts={};let n={...u1,...Pse(...t)};if(this.keyData=`${n.host}:${n.port}`,!ka.get(this.keyData)){let s=Mse(n.keyPrefix);ka.set(this.keyData,s)}let r=ka.get(this.keyData);this.expires=Cse(r.expires,n.keyPrefix),this.data=Nse(r.data,this.expires,n.data,n.keyPrefix),this._initCommands(),this.keyspaceEvents=gte(n.notifyKeyspaceEvents),n.lazyConnect===!1&&(this.connected=!0,wI(this)),this.options=n}get channels(){return ka.get(this.keyData).channels}set channels(t){let n={...ka.get(this.keyData),channels:t};ka.set(this.keyData,n)}get patternChannels(){return ka.get(this.keyData).patternChannels}set patternChannels(t){let n={...ka.get(this.keyData),patternChannels:t};ka.set(this.keyData,n)}multi(t=[]){var n;return this.batch=new aI(this),this.batch._transactions+=1,(n=t.forEach)==null||n.call(t,([r,...s])=>this.batch[r](...s)),this.batch}pipeline(t=[]){return this.batch=new aI(this),t.forEach(([n,...r])=>this.batch[n](...r)),this.batch}exec(t){if(!this.batch)return Promise.reject(new Error("ERR EXEC without MULTI"));let n=this.batch;return this.batch=void 0,n.exec(t)}duplicate(t){let n=new zB({...this.options,...t});return n.expires=this.expires,n.data=this.data,n.channels=this.channels,n.patternChannels=this.patternChannels,n}disconnect(){let t=({instanceListeners:n})=>{n&&n.forEach(r=>{r.forEach((s,a)=>{a===this&&r.delete(a)})})};t(this.channels),t(this.patternChannels)}_initCommands(){Object.keys(Mu).forEach(s=>{let a=s==="evaluate"?"eval":s;this[a]=Hm(Mu[s].bind(this),a,this)}),Object.keys(l1).forEach(s=>{this[s]=l1[s].bind(this)});let t=Ree.list.filter(s=>!s.includes("|")),n=[...t,...t.map(s=>`${s}Buffer`)],r="https://github.com/stipsan/ioredis-mock/blob/main/compat.md#supported-commands-";n.forEach(s=>{s in this||Object.defineProperty(this,s,{value:()=>{throw new TypeError(`Unsupported command: ${JSON.stringify(s)}, please check the full list over mocked commands: ${r}`)},writable:!0})})}};Xo.Command=Lo;Xo.Cluster=class extends Xo{constructor(e,t){t&&t.redisOptions?super(t.redisOptions):super(),e.forEach(n=>this.clusterNodes.all.push(new Xo(n)))}clusterNodes={all:[],master:[],slave:[]};nodes(e="all"){if(e!=="all"&&e!=="master"&&e!=="slave")throw new Error(`Invalid role "${e}". Expected "all", "master" or "slave"`);return this.clusterNodes.all}};Xo.default=Xo;WB.exports=Xo});var t2=T(($oe,e2)=>{"use strict";e2.exports=function(...e){try{return JSON.stringify(...e)}catch(t){return"[Cannot display object: "+t.message+"]"}}});var F1=T((n2,r2)=>{"use strict";var Gse=t2();r2.exports=class extends Error{constructor(e){let t=e.filter(n=>n!=="").map(n=>typeof n=="string"?n:n instanceof Error?n.message:Gse(n));super(t.join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n2.assert)}}});var Ve=T((Koe,s2)=>{"use strict";var $se=F1();s2.exports=function(e,...t){if(!e)throw t.length===1&&t[0]instanceof Error?t[0]:new $se(t)}});var zo=T((qoe,i2)=>{"use strict";var G1=Ve(),a2={};i2.exports=function(e,t,n){if(t===!1||t===null||t===void 0)return e;n=n||{},typeof n=="string"&&(n={separator:n});let r=Array.isArray(t);G1(!r||!n.separator,"Separator option is not valid for array-based chain");let s=r?t:t.split(n.separator||"."),a=e;for(let i=0;i<s.length;++i){let o=s[i],l=n.iterables&&a2.iterables(a);if(Array.isArray(a)||l==="set"){let u=Number(o);Number.isInteger(u)&&(o=u<0?a.length+u:u)}if(!a||typeof a=="function"&&n.functions===!1||!l&&a[o]===void 0){G1(!n.strict||i+1===s.length,"Missing segment",o,"in reach path ",t),G1(typeof a=="object"||n.functions===!0||typeof a!="function","Invalid segment",o,"in reach path ",t),a=n.default;break}l?l==="set"?a=[...a][o]:a=a.get(o):a=a[o]}return a};a2.iterables=function(e){if(e instanceof Set)return"set";if(e instanceof Map)return"map"}});var $1=T((In,l2)=>{"use strict";var o2={};In=l2.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype};o2.typeMap=new Map([["[object Error]",In.error],["[object Map]",In.map],["[object Promise]",In.promise],["[object Set]",In.set],["[object WeakMap]",In.weakMap],["[object WeakSet]",In.weakSet]]);In.getInternalProto=function(e){if(Array.isArray(e))return In.array;if(Buffer&&e instanceof Buffer)return In.buffer;if(e instanceof Date)return In.date;if(e instanceof RegExp)return In.regex;if(e instanceof Error)return In.error;let t=Object.prototype.toString.call(e);return o2.typeMap.get(t)||In.generic}});var j1=T(u2=>{"use strict";u2.keys=function(e,t={}){return t.symbols!==!1?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}});var Cn=T((Hoe,c2)=>{"use strict";var jse=zo(),gr=$1(),Kse=j1(),wa={needsProtoHack:new Set([gr.set,gr.map,gr.weakSet,gr.weakMap])};c2.exports=wa.clone=function(e,t={},n=null){if(typeof e!="object"||e===null)return e;let r=wa.clone,s=n;if(t.shallow){if(t.shallow!==!0)return wa.cloneWithShallow(e,t);r=l=>l}else if(s){let l=s.get(e);if(l)return l}else s=new Map;let a=gr.getInternalProto(e);if(a===gr.buffer)return Buffer&&Buffer.from(e);if(a===gr.date)return new Date(e.getTime());if(a===gr.regex)return new RegExp(e);let i=wa.base(e,a,t);if(i===e)return e;if(s&&s.set(e,i),a===gr.set)for(let l of e)i.add(r(l,t,s));else if(a===gr.map)for(let[l,u]of e)i.set(l,r(u,t,s));let o=Kse.keys(e,t);for(let l of o){if(l==="__proto__")continue;if(a===gr.array&&l==="length"){i.length=e.length;continue}let u=Object.getOwnPropertyDescriptor(e,l);u?u.get||u.set?Object.defineProperty(i,l,u):u.enumerable?i[l]=r(e[l],t,s):Object.defineProperty(i,l,{enumerable:!1,writable:!0,configurable:!0,value:r(e[l],t,s)}):Object.defineProperty(i,l,{enumerable:!0,writable:!0,configurable:!0,value:r(e[l],t,s)})}return i};wa.cloneWithShallow=function(e,t){let n=t.shallow;t=Object.assign({},t),t.shallow=!1;let r=new Map;for(let s of n){let a=jse(e,s);(typeof a=="object"||typeof a=="function")&&r.set(a,a)}return wa.clone(e,t,r)};wa.base=function(e,t,n){if(n.prototype===!1)return wa.needsProtoHack.has(t)?new t.constructor:t===gr.array?[]:{};let r=Object.getPrototypeOf(e);if(r&&r.isImmutable)return e;if(t===gr.array){let s=[];return r!==t&&Object.setPrototypeOf(s,r),s}if(wa.needsProtoHack.has(t)){let s=new r.constructor;return r!==t&&Object.setPrototypeOf(s,r),s}return Object.create(r)}});var f2=T((Xoe,qse)=>{qse.exports={name:"joi",description:"Object schema validation",version:"17.9.2",repository:"git://github.com/hapijs/joi",main:"lib/index.js",types:"lib/index.d.ts",browser:"dist/joi-browser.min.js",files:["lib/**/*","dist/*"],keywords:["schema","validation"],dependencies:{"@hapi/hoek":"^9.0.0","@hapi/topo":"^5.0.0","@sideway/address":"^4.1.3","@sideway/formula":"^3.0.1","@sideway/pinpoint":"^2.0.0"},devDependencies:{"@hapi/bourne":"2.x.x","@hapi/code":"8.x.x","@hapi/joi-legacy-test":"npm:@hapi/joi@15.x.x","@hapi/lab":"^25.0.1","@types/node":"^14.18.24",typescript:"4.3.x"},scripts:{prepublishOnly:"cd browser && npm install && npm run build",test:"lab -t 100 -a @hapi/code -L -Y","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"}});var Zm=T(qf=>{"use strict";var A=K1(),ye={};ye.wrap=A.string().min(1).max(2).allow(!1);qf.preferences=A.object({allowUnknown:A.boolean(),abortEarly:A.boolean(),artifacts:A.boolean(),cache:A.boolean(),context:A.object(),convert:A.boolean(),dateFormat:A.valid("date","iso","string","time","utc"),debug:A.boolean(),errors:{escapeHtml:A.boolean(),label:A.valid("path","key",!1),language:[A.string(),A.object().ref()],render:A.boolean(),stack:A.boolean(),wrap:{label:ye.wrap,array:ye.wrap,string:ye.wrap}},externals:A.boolean(),messages:A.object(),noDefaults:A.boolean(),nonEnumerables:A.boolean(),presence:A.valid("required","optional","forbidden"),skipFunctions:A.boolean(),stripUnknown:A.object({arrays:A.boolean(),objects:A.boolean()}).or("arrays","objects").allow(!0,!1),warnings:A.boolean()}).strict();ye.nameRx=/^[a-zA-Z0-9]\w*$/;ye.rule=A.object({alias:A.array().items(A.string().pattern(ye.nameRx)).single(),args:A.array().items(A.string(),A.object({name:A.string().pattern(ye.nameRx).required(),ref:A.boolean(),assert:A.alternatives([A.function(),A.object().schema()]).conditional("ref",{is:!0,then:A.required()}),normalize:A.function(),message:A.string().when("assert",{is:A.function(),then:A.required()})})),convert:A.boolean(),manifest:A.boolean(),method:A.function().allow(!1),multi:A.boolean(),validate:A.function()});qf.extension=A.object({type:A.alternatives([A.string(),A.object().regex()]).required(),args:A.function(),cast:A.object().pattern(ye.nameRx,A.object({from:A.function().maxArity(1).required(),to:A.function().minArity(1).maxArity(2).required()})),base:A.object().schema().when("type",{is:A.object().regex(),then:A.forbidden()}),coerce:[A.function().maxArity(3),A.object({method:A.function().maxArity(3).required(),from:A.array().items(A.string()).single()})],flags:A.object().pattern(ye.nameRx,A.object({setter:A.string(),default:A.any()})),manifest:{build:A.function().arity(2)},messages:[A.object(),A.string()],modifiers:A.object().pattern(ye.nameRx,A.function().minArity(1).maxArity(2)),overrides:A.object().pattern(ye.nameRx,A.function()),prepare:A.function().maxArity(3),rebuild:A.function().arity(1),rules:A.object().pattern(ye.nameRx,ye.rule),terms:A.object().pattern(ye.nameRx,A.object({init:A.array().allow(null).required(),manifest:A.object().pattern(/.+/,[A.valid("schema","single"),A.object({mapped:A.object({from:A.string().required(),to:A.string().required()}).required()})])})),validate:A.function().maxArity(3)}).strict();qf.extensions=A.array().items(A.object(),A.function().arity(1)).strict();ye.desc={buffer:A.object({buffer:A.string()}),func:A.object({function:A.function().required(),options:{literal:!0}}),override:A.object({override:!0}),ref:A.object({ref:A.object({type:A.valid("value","global","local"),path:A.array().required(),separator:A.string().length(1).allow(!1),ancestor:A.number().min(0).integer().allow("root"),map:A.array().items(A.array().length(2)).min(1),adjust:A.function(),iterables:A.boolean(),in:A.boolean(),render:A.boolean()}).required()}),regex:A.object({regex:A.string().min(3)}),special:A.object({special:A.valid("deep").required()}),template:A.object({template:A.string().required(),options:A.object()}),value:A.object({value:A.alternatives([A.object(),A.array()]).required()})};ye.desc.entity=A.alternatives([A.array().items(A.link("...")),A.boolean(),A.function(),A.number(),A.string(),ye.desc.buffer,ye.desc.func,ye.desc.ref,ye.desc.regex,ye.desc.special,ye.desc.template,ye.desc.value,A.link("/")]);ye.desc.values=A.array().items(null,A.boolean(),A.function(),A.number().allow(1/0,-1/0),A.string().allow(""),A.symbol(),ye.desc.buffer,ye.desc.func,ye.desc.override,ye.desc.ref,ye.desc.regex,ye.desc.template,ye.desc.value);ye.desc.messages=A.object().pattern(/.+/,[A.string(),ye.desc.template,A.object().pattern(/.+/,[A.string(),ye.desc.template])]);qf.description=A.object({type:A.string().required(),flags:A.object({cast:A.string(),default:A.any(),description:A.string(),empty:A.link("/"),failover:ye.desc.entity,id:A.string(),label:A.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:A.boolean(),unit:A.string()}).unknown(),preferences:{allowUnknown:A.boolean(),abortEarly:A.boolean(),artifacts:A.boolean(),cache:A.boolean(),convert:A.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:A.boolean(),label:["path","key"],language:[A.string(),ye.desc.ref],wrap:{label:ye.wrap,array:ye.wrap}},externals:A.boolean(),messages:ye.desc.messages,noDefaults:A.boolean(),nonEnumerables:A.boolean(),presence:["required","optional","forbidden"],skipFunctions:A.boolean(),stripUnknown:A.object({arrays:A.boolean(),objects:A.boolean()}).or("arrays","objects").allow(!0,!1),warnings:A.boolean()},allow:ye.desc.values,invalid:ye.desc.values,rules:A.array().min(1).items({name:A.string().required(),args:A.object().min(1),keep:A.boolean(),message:[A.string(),ye.desc.messages],warn:A.boolean()}),keys:A.object().pattern(/.*/,A.link("/")),link:ye.desc.ref}).pattern(/^[a-z]\w*$/,A.any())});var d2=T((zoe,p2)=>{"use strict";var Oi={};p2.exports=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);Oi.isSafe(r)?t+=e[n]:t+=Oi.escapeHtmlChar(r)}return t};Oi.escapeHtmlChar=function(e){let t=Oi.namedHtml.get(e);return t||(e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`)};Oi.isSafe=function(e){return Oi.safeCharCodes.has(e)};Oi.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]);Oi.safeCharCodes=function(){let e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||t===32||t===46||t===44||t===45||t===58||t===95)&&e.add(t);return e}()});var m2=T(Vf=>{"use strict";var Pe={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};Vf.Parser=class{constructor(e,t={}){if(!t[Pe.settings]&&t.constants)for(let n in t.constants){let r=t.constants[n];if(r!==null&&!["boolean","number","string"].includes(typeof r))throw new Error(`Formula constant ${n} contains invalid ${typeof r} value type`)}this.settings=t[Pe.settings]?t:Object.assign({[Pe.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let t=[],n="",r=0,s=!1,a=o=>{if(r)throw new Error("Formula missing closing parenthesis");let l=t.length?t[t.length-1]:null;if(!(!s&&!n&&!o)){if(l&&l.type==="reference"&&o===")"){l.type="function",l.value=this._subFormula(n,l.value),n="";return}if(o===")"){let u=new Vf.Parser(n,this.settings);t.push({type:"segment",value:u})}else if(s){if(s==="]"){t.push({type:"reference",value:n}),n="";return}t.push({type:"literal",value:n})}else if(Pe.operatorCharacters.includes(n))l&&l.type==="operator"&&Pe.operators.includes(l.value+n)?l.value+=n:t.push({type:"operator",value:n});else if(n.match(Pe.numberRx))t.push({type:"constant",value:parseFloat(n)});else if(this.settings.constants[n]!==void 0)t.push({type:"constant",value:this.settings.constants[n]});else{if(!n.match(Pe.tokenRx))throw new Error(`Formula contains invalid token: ${n}`);t.push({type:"reference",value:n})}n=""}};for(let o of e)s?o===s?(a(),s=!1):n+=o:r?o==="("?(n+=o,++r):o===")"?(--r,r?n+=o:a(o)):n+=o:o in Pe.literals?s=Pe.literals[o]:o==="("?(a(),++r):Pe.operatorCharacters.includes(o)?(a(),n=o,a()):o!==" "?n+=o:a();a(),t=t.map((o,l)=>o.type!=="operator"||o.value!=="-"||l&&t[l-1].type!=="operator"?o:{type:"operator",value:"n"});let i=!1;for(let o of t){if(o.type==="operator"){if(Pe.operatorsPrefix.includes(o.value))continue;if(!i)throw new Error("Formula contains an operator in invalid position");if(!Pe.operators.includes(o.value))throw new Error(`Formula contains an unknown operator ${o.value}`)}else if(i)throw new Error("Formula missing expected operator");i=!i}if(!i)throw new Error("Formula contains invalid trailing operator");t.length===1&&["reference","literal","constant"].includes(t[0].type)&&(this.single={type:t[0].type==="reference"?"reference":"value",value:t[0].value}),this._parts=t.map(o=>{if(o.type==="operator")return Pe.operatorsPrefix.includes(o.value)?o:o.value;if(o.type!=="reference")return o.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(o.value))throw new Error(`Formula contains invalid reference ${o.value}`);return this.settings.reference?this.settings.reference(o.value):Pe.reference(o.value)})}_subFormula(e,t){let n=this.settings.functions[t];if(typeof n!="function")throw new Error(`Formula contains unknown function ${t}`);let r=[];if(e){let s="",a=0,i=!1,o=()=>{if(!s)throw new Error(`Formula contains function ${t} with invalid arguments ${e}`);r.push(s),s=""};for(let l=0;l<e.length;++l){let u=e[l];i?(s+=u,u===i&&(i=!1)):u in Pe.literals&&!a?(s+=u,i=Pe.literals[u]):u===","&&!a?o():(s+=u,u==="("?++a:u===")"&&--a)}o()}return r=r.map(s=>new Vf.Parser(s,this.settings)),function(s){let a=[];for(let i of r)a.push(i.evaluate(s));return n.call(s,...a)}}evaluate(e){let t=this._parts.slice();for(let n=t.length-2;n>=0;--n){let r=t[n];if(r&&r.type==="operator"){let s=t[n+1];t.splice(n+1,1);let a=Pe.evaluate(s,e);t[n]=Pe.single(r.value,a)}}return Pe.operatorsOrder.forEach(n=>{for(let r=1;r<t.length-1;)if(n.includes(t[r])){let s=t[r],a=Pe.evaluate(t[r-1],e),i=Pe.evaluate(t[r+1],e);t.splice(r,2);let o=Pe.calculate(s,a,i);t[r-1]=o===0?0:o}else r+=2}),Pe.evaluate(t[0],e)}};Vf.Parser.prototype[Pe.symbol]=!0;Pe.reference=function(e){return function(t){return t&&t[e]!==void 0?t[e]:null}};Pe.evaluate=function(e,t){return e===null?null:typeof e=="function"?e(t):e[Pe.symbol]?e.evaluate(t):e};Pe.single=function(e,t){if(e==="!")return!t;let n=-t;return n===0?0:n};Pe.calculate=function(e,t,n){if(e==="??")return Pe.exists(t)?t:n;if(typeof t=="string"||typeof n=="string"){if(e==="+")return t=Pe.exists(t)?t:"",n=Pe.exists(n)?n:"",t+n}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null};Pe.exists=function(e){return e!=null}});var y2=T(h2=>{"use strict";var Vse=Cn(),Hse=ct(),Wo={annotations:Symbol("annotations")};h2.error=function(e){if(!this._original||typeof this._original!="object")return this.details[0].message;let t=e?"":"\x1B[31m",n=e?"":"\x1B[41m",r=e?"":"\x1B[0m",s=Vse(this._original);for(let o=this.details.length-1;o>=0;--o){let l=o+1,u=this.details[o],c=u.path,f=s;for(let m=0;;++m){let g=c[m];if(Hse.isSchema(f)&&(f=f.clone()),m+1<c.length&&typeof f[g]!="string")f=f[g];else{let y=f[Wo.annotations]||{errors:{},missing:{}};f[Wo.annotations]=y;let w=g||u.context.key;f[g]!==void 0?(y.errors[w]=y.errors[w]||[],y.errors[w].push(l)):y.missing[w]=l;break}}}let a={key:/_\$key\$_([, \d]+)_\$end\$_"/g,missing:/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,arrayIndex:/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g},i=Wo.safeStringify(s,2).replace(a.key,(o,l)=>`" ${t}[${l}]${r}`).replace(a.missing,(o,l,u)=>`${n}"${l}"${r}${t} [${u}]: -- missing --${r}`).replace(a.arrayIndex,(o,l,u)=>`
${u} ${t}[${l}]${r}`).replace(a.specials,(o,l)=>l);i=`${i}
${t}`;for(let o=0;o<this.details.length;++o){let l=o+1;i=`${i}
[${l}] ${this.details[o].message}`}return i=i+r,i};Wo.safeStringify=function(e,t){return JSON.stringify(e,Wo.serializer(),t)};Wo.serializer=function(){let e=[],t=[],n=(r,s)=>t[0]===s?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(s)).join(".")+"]";return function(r,s){if(t.length>0){let a=t.indexOf(this);~a?(t.length=a+1,e.length=a+1,e[a]=r):(t.push(this),e.push(r)),~t.indexOf(s)&&(s=n.call(this,r,s))}else t.push(s);if(s){let a=s[Wo.annotations];if(a){if(Array.isArray(s)){let i=[];for(let o=0;o<s.length;++o)a.errors[o]&&i.push(`_$idx$_${a.errors[o].sort().join(", ")}_$end$_`),i.push(s[o]);s=i}else{for(let i in a.errors)s[`${i}_$key$_${a.errors[i].sort().join(", ")}_$end$_`]=s[i],s[i]=void 0;for(let i in a.missing)s[`_$miss$_${i}|${a.missing[i]}_$end$_`]="__missing__"}return s}}return s===1/0||s===-1/0||Number.isNaN(s)||typeof s=="function"||typeof s=="symbol"?"["+s.toString()+"]":s}}});var Ea=T(Ut=>{"use strict";var Xse=y2(),Lse=ct(),zse=vi();Ut.Report=class{constructor(e,t,n,r,s,a,i){if(this.code=e,this.flags=r,this.messages=s,this.path=a.path,this.prefs=i,this.state=a,this.value=t,this.message=null,this.template=null,this.local=n||{},this.local.label=Ut.label(this.flags,this.state,this.prefs,this.messages),this.value!==void 0&&!this.local.hasOwnProperty("value")&&(this.local.value=this.value),this.path.length){let o=this.path[this.path.length-1];typeof o!="object"&&(this.local.key=o)}}_setTemplate(e){if(this.template=e,!this.flags.label&&this.path.length===0){let t=this._template(this.template,"root");t&&(this.local.label=t)}}toString(){if(this.message)return this.message;let e=this.code;if(!this.prefs.errors.render)return this.code;let t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return t===void 0?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,t){return Ut.template(this.value,e,t||this.code,this.state,this.prefs)}};Ut.path=function(e){let t="";for(let n of e)typeof n!="object"&&(typeof n=="string"?(t&&(t+="."),t+=n):t+=`[${n}]`);return t};Ut.template=function(e,t,n,r,s){if(!t)return;if(zse.isTemplate(t))return n!=="root"?t:null;let a=s.errors.language;if(Lse.isResolvable(a)&&(a=a.resolve(e,r,s)),a&&t[a]){if(t[a][n]!==void 0)return t[a][n];if(t[a]["*"]!==void 0)return t[a]["*"]}return t[n]?t[n]:t["*"]};Ut.label=function(e,t,n,r){if(e.label)return e.label;if(!n.errors.label)return"";let s=t.path;n.errors.label==="key"&&t.path.length>1&&(s=t.path.slice(-1));let a=Ut.path(s);return a||Ut.template(null,n.messages,"root",t,n)||r&&Ut.template(null,r,"root",t,n)||"value"};Ut.process=function(e,t,n){if(!e)return null;let{override:r,message:s,details:a}=Ut.details(e);if(r)return r;if(n.errors.stack)return new Ut.ValidationError(s,a,t);let i=Error.stackTraceLimit;Error.stackTraceLimit=0;let o=new Ut.ValidationError(s,a,t);return Error.stackTraceLimit=i,o};Ut.details=function(e,t={}){let n=[],r=[];for(let s of e){if(s instanceof Error){if(t.override!==!1)return{override:s};let i=s.toString();n.push(i),r.push({message:i,type:"override",context:{error:s}});continue}let a=s.toString();n.push(a),r.push({message:a,path:s.path.filter(i=>typeof i!="object"),type:s.code,context:s.local})}return n.length>1&&(n=[...new Set(n)]),{message:n.join(". "),details:r}};Ut.ValidationError=class extends Error{constructor(e,t,n){super(e),this._original=n,this.details=t}static isError(e){return e instanceof Ut.ValidationError}};Ut.ValidationError.prototype.isJoi=!0;Ut.ValidationError.prototype.name="ValidationError";Ut.ValidationError.prototype.annotate=Xse.error});var Oa=T(Rr=>{"use strict";var Sr=Ve(),Wse=Cn(),Yse=zo(),Hf=ct(),q1,Tr={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};Rr.create=function(e,t={}){Sr(typeof e=="string","Invalid reference key:",e),Hf.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),Sr(!t.prefix||typeof t.prefix=="object","options.prefix must be of type object");let n=Object.assign({},Tr.defaults,t);delete n.prefix;let r=n.separator,s=Tr.context(e,r,t.prefix);if(n.type=s.type,e=s.key,n.type==="value")if(s.root&&(Sr(!r||e[0]!==r,"Cannot specify relative path with root prefix"),n.ancestor="root",e||(e=null)),r&&r===e)e=null,n.ancestor=0;else if(n.ancestor!==void 0)Sr(!r||!e||e[0]!==r,"Cannot combine prefix with ancestor option");else{let[a,i]=Tr.ancestor(e,r);i&&(e=e.slice(i),e===""&&(e=null)),n.ancestor=a}return n.path=r?e===null?[]:e.split(r):[e],new Tr.Ref(n)};Rr.in=function(e,t={}){return Rr.create(e,{...t,in:!0})};Rr.isRef=function(e){return e?!!e[Hf.symbols.ref]:!1};Tr.Ref=class{constructor(e){Sr(typeof e=="object","Invalid reference construction"),Hf.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),Sr([!1,void 0].includes(e.separator)||typeof e.separator=="string"&&e.separator.length===1,"Invalid separator"),Sr(!e.adjust||typeof e.adjust=="function","options.adjust must be a function"),Sr(!e.map||Array.isArray(e.map),"options.map must be an array"),Sr(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,Tr.defaults,e),Sr(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,n,r,s={}){return Sr(!this.in||s.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(n.context,t,s):this.type==="local"?this._resolve(r,t,s):this.ancestor?this.ancestor==="root"?this._resolve(t.ancestors[t.ancestors.length-1],t,s):(Sr(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,s)):this._resolve(e,t,s)}_resolve(e,t,n){let r;if(this.type==="value"&&t.mainstay.shadow&&n.shadow!==!1&&(r=t.mainstay.shadow.get(this.absolute(t))),r===void 0&&(r=Yse(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){let s=this.map.get(r);s!==void 0&&(r=s)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,r),r}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new Tr.Ref(this)}describe(){let e={path:this.path};this.type!=="value"&&(e.type=this.type),this.separator!=="."&&(e.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(let t of["adjust","iterables","render"])this[t]!==null&&this[t]!==void 0&&(e[t]=this[t]);return this.in!==!1&&(e.in=!0),{ref:e}}updateDisplay(){let e=this.key!==null?this.key:"";if(this.type!=="value"){this.display=`ref:${this.type}:${e}`;return}if(!this.separator){this.display=`ref:${e}`;return}if(!this.ancestor){this.display=`ref:${this.separator}${e}`;return}if(this.ancestor==="root"){this.display=`ref:root:${e}`;return}if(this.ancestor===1){this.display=`ref:${e||".."}`;return}let t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}};Tr.Ref.prototype[Hf.symbols.ref]=!0;Rr.build=function(e){return e=Object.assign({},Tr.defaults,e),e.type==="value"&&e.ancestor===void 0&&(e.ancestor=1),new Tr.Ref(e)};Tr.context=function(e,t,n={}){if(e=e.trim(),n){let r=n.global===void 0?"$":n.global;if(r!==t&&e.startsWith(r))return{key:e.slice(r.length),type:"global"};let s=n.local===void 0?"#":n.local;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"local"};let a=n.root===void 0?"/":n.root;if(a!==t&&e.startsWith(a))return{key:e.slice(a.length),type:"value",root:!0}}return{key:e,type:"value"}};Tr.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let n=2;for(;e[n]===t;)++n;return[n-1,n]};Rr.toSibling=0;Rr.toParent=1;Rr.Manager=class{constructor(){this.refs=[]}register(e,t){if(e){if(t=t===void 0?Rr.toParent:t,Array.isArray(e)){for(let n of e)this.register(n,t);return}if(Hf.isSchema(e)){for(let n of e._refs.refs)n.ancestor-t>=0&&this.refs.push({ancestor:n.ancestor-t,root:n.root});return}Rr.isRef(e)&&e.type==="value"&&e.ancestor-t>=0&&this.refs.push({ancestor:e.ancestor-t,root:e.root}),q1=q1||vi(),q1.isTemplate(e)&&this.register(e.refs(),t)}}get length(){return this.refs.length}clone(){let e=new Rr.Manager;return e.refs=Wse(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}});var vi=T((k2,A2)=>{"use strict";var g2=Ve(),Qse=Cn(),Jse=d2(),Zse=m2(),b2=ct(),_2=Ea(),x2=Oa(),Ye={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};A2.exports=k2=Ye.Template=class{constructor(e,t){g2(typeof e=="string","Template source must be a string"),g2(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=Qse(t),this._parse()}_parse(){if(!this.source.includes("{"))return;let e=Ye.encode(this.source),t=Ye.split(e),n=!1,r=[],s=t.shift();s&&r.push(s);for(let a of t){let i=a[0]!=="{",o=i?"}":"}}",l=a.indexOf(o);if(l===-1||a[1]==="{"){r.push(`{${Ye.decode(a)}`);continue}let u=a.slice(i?0:1,l),c=u[0]===":";c&&(u=u.slice(1));let f=this._ref(Ye.decode(u),{raw:i,wrapped:c});r.push(f),typeof f!="string"&&(n=!0);let m=a.slice(l+o.length);m&&r.push(Ye.decode(m))}if(!n){this.rendered=r.join("");return}this._template=r}static date(e,t){return Ye.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;let t={template:this.source};return this._settings&&(t.options=this._settings),t}static build(e){return new Ye.Template(e.template,e.options)}isDynamic(){return!!this._template}static isTemplate(e){return e?!!e[b2.symbols.template]:!1}refs(){if(!this._template)return;let e=[];for(let t of this._template)typeof t!="string"&&e.push(...t.refs);return e}resolve(e,t,n,r){return this._template&&this._template.length===1?this._part(this._template[0],e,t,n,r,{}):this.render(e,t,n,r)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,n,r,s={}){if(!this.isDynamic())return this.rendered;let a=[];for(let i of this._template)if(typeof i=="string")a.push(i);else{let o=this._part(i,e,t,n,r,s),l=Ye.stringify(o,e,t,n,r,s);if(l!==void 0){let u=i.raw||(s.errors&&s.errors.escapeHtml)===!1?l:Jse(l);a.push(Ye.wrap(u,i.wrapped&&n.errors.wrap.label))}}return a.join("")}_ref(e,{raw:t,wrapped:n}){let r=[],s=i=>{let o=x2.create(i,this._settings);return r.push(o),l=>o.resolve(...l)};try{var a=new Zse.Parser(e,{reference:s,functions:Ye.functions,constants:Ye.constants})}catch(i){throw i.message=`Invalid template variable "${e}" fails due to: ${i.message}`,i}if(a.single){if(a.single.type==="reference"){let i=r[0];return{ref:i,raw:t,refs:r,wrapped:n||i.type==="local"&&i.key==="label"}}return Ye.stringify(a.single.value)}return{formula:a,raw:t,refs:r}}toString(){return this.source}};Ye.Template.prototype[b2.symbols.template]=!0;Ye.Template.prototype.isImmutable=!0;Ye.encode=function(e){return e.replace(/\\(\{+)/g,(t,n)=>Ye.opens.slice(0,n.length)).replace(/\\(\}+)/g,(t,n)=>Ye.closes.slice(0,n.length))};Ye.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")};Ye.split=function(e){let t=[],n="";for(let r=0;r<e.length;++r){let s=e[r];if(s==="{"){let a="";for(;r+1<e.length&&e[r+1]==="{";)a+="{",++r;t.push(n),n=a}else n+=s}return t.push(n),t};Ye.wrap=function(e,t){return t?t.length===1?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e};Ye.stringify=function(e,t,n,r,s,a={}){let i=typeof e,o=r&&r.errors&&r.errors.wrap||{},l=!1;if(x2.isRef(e)&&e.render&&(l=e.in,e=e.resolve(t,n,r,s,{in:e.in,...a})),e===null)return"null";if(i==="string")return Ye.wrap(e,a.arrayItems&&o.string);if(i==="number"||i==="function"||i==="symbol")return e.toString();if(i!=="object")return JSON.stringify(e);if(e instanceof Date)return Ye.Template.date(e,r);if(e instanceof Map){let c=[];for(let[f,m]of e.entries())c.push(`${f.toString()} -> ${m.toString()}`);e=c}if(!Array.isArray(e))return e.toString();let u=[];for(let c of e)u.push(Ye.stringify(c,t,n,r,s,{arrayItems:!0,...a}));return Ye.wrap(u.join(", "),!l&&o.array)};Ye.constants={true:!0,false:!1,null:null,second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3};Ye.functions={if(e,t,n){return e?t:n},length(e){return typeof e=="string"?e.length:!e||typeof e!="object"?null:Array.isArray(e)?e.length:Object.keys(e).length},msg(e){let[t,n,r,s,a]=this,i=a.messages;if(!i)return"";let o=_2.template(t,i[0],e,n,r)||_2.template(t,i[1],e,n,r);return o?o.render(t,n,r,s,a):""},number(e){return typeof e=="number"?e:typeof e=="string"?parseFloat(e):typeof e=="boolean"?e?1:0:e instanceof Date?e.getTime():null}}});var Fu=T(Xf=>{"use strict";var Yo=Ve(),w2=Cn(),_r=vi();Xf.compile=function(e,t){if(typeof e=="string")return Yo(!t,"Cannot set single message string"),new _r(e);if(_r.isTemplate(e))return Yo(!t,"Cannot set single message template"),e;Yo(typeof e=="object"&&!Array.isArray(e),"Invalid message options"),t=t?w2(t):{};for(let n in e){let r=e[n];if(n==="root"||_r.isTemplate(r)){t[n]=r;continue}if(typeof r=="string"){t[n]=new _r(r);continue}Yo(typeof r=="object"&&!Array.isArray(r),"Invalid message for",n);let s=n;t[s]=t[s]||{};for(n in r){let a=r[n];if(n==="root"||_r.isTemplate(a)){t[s][n]=a;continue}Yo(typeof a=="string","Invalid message for",n,"in",s),t[s][n]=new _r(a)}}return t};Xf.decompile=function(e){let t={};for(let n in e){let r=e[n];if(n==="root"){t.root=r;continue}if(_r.isTemplate(r)){t[n]=r.describe({compact:!0});continue}let s=n;t[s]={};for(n in r){let a=r[n];if(n==="root"){t[s].root=a;continue}t[s][n]=a.describe({compact:!0})}}return t};Xf.merge=function(e,t){if(!e)return Xf.compile(t);if(!t)return e;if(typeof t=="string")return new _r(t);if(_r.isTemplate(t))return t;let n=w2(e);for(let r in t){let s=t[r];if(r==="root"||_r.isTemplate(s)){n[r]=s;continue}if(typeof s=="string"){n[r]=new _r(s);continue}Yo(typeof s=="object"&&!Array.isArray(s),"Invalid message for",r);let a=r;n[a]=n[a]||{};for(r in s){let i=s[r];if(r==="root"||_r.isTemplate(i)){n[a][r]=i;continue}Yo(typeof i=="string","Invalid message for",r,"in",a),n[a][r]=new _r(i)}}return n}});var ct=T(ft=>{"use strict";var eh=Ve(),eae=F1(),tae=f2(),V1,H1,nae={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};ft.version=tae.version;ft.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1};ft.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")};ft.assertOptions=function(e,t,n="Options"){eh(e&&typeof e=="object"&&!Array.isArray(e),"Options must be of type object");let r=Object.keys(e).filter(s=>!t.includes(s));eh(r.length===0,`${n} contain unknown keys: ${r}`)};ft.checkPreferences=function(e){H1=H1||Zm();let t=H1.preferences.validate(e);if(t.error)throw new eae([t.error.details[0].message])};ft.compare=function(e,t,n){switch(n){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}};ft.default=function(e,t){return e===void 0?t:e};ft.isIsoDate=function(e){return nae.isoDate.test(e)};ft.isNumber=function(e){return typeof e=="number"&&!isNaN(e)};ft.isResolvable=function(e){return e?e[ft.symbols.ref]||e[ft.symbols.template]:!1};ft.isSchema=function(e,t={}){let n=e&&e[ft.symbols.any];return n?(eh(t.legacy||n.version===ft.version,"Cannot mix different versions of joi schemas"),!0):!1};ft.isValues=function(e){return e[ft.symbols.values]};ft.limit=function(e){return Number.isSafeInteger(e)&&e>=0};ft.preferences=function(e,t){V1=V1||Fu(),e=e||{},t=t||{};let n=Object.assign({},e,t);return t.errors&&e.errors&&(n.errors=Object.assign({},e.errors,t.errors),n.errors.wrap=Object.assign({},e.errors.wrap,t.errors.wrap)),t.messages&&(n.messages=V1.compile(t.messages,e.messages)),delete n[ft.symbols.prefs],n};ft.tryWithPath=function(e,t,n={}){try{return e()}catch(r){throw r.path!==void 0?r.path=t+"."+r.path:r.path=t,n.append&&(r.message=`${r.message} (${r.path})`),r}};ft.validateArg=function(e,t,{assert:n,message:r}){if(ft.isSchema(n)){let s=n.validate(e);return s.error?s.error.message:void 0}else if(!n(e))return t?`${t} ${r}`:r};ft.verifyFlat=function(e,t){for(let n of e)eh(!Array.isArray(n),"Method no longer accepts array arguments:",t)}});var X1=T(E2=>{"use strict";var rae=Ve(),sae=Cn(),aae=ct(),Gu={max:1e3,supported:new Set(["undefined","boolean","number","string"])};E2.provider={provision(e){return new Gu.Cache(e)}};Gu.Cache=class{constructor(e={}){aae.assertOptions(e,["max"]),rae(e.max===void 0||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||Gu.max,this._map=new Map,this._list=new Gu.List}get length(){return this._map.size}set(e,t){if(e!==null&&!Gu.supported.has(typeof e))return;let n=this._map.get(e);if(n){n.value=t,this._list.first(n);return}n=this._list.unshift({key:e,value:t}),this._map.set(e,n),this._compact()}get(e){let t=this._map.get(e);if(t)return this._list.first(t),sae(t.value)}_compact(){if(this._map.size>this._max){let e=this._list.pop();this._map.delete(e.key)}}};Gu.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){let{next:t,prev:n}=e;return t.prev=n,n&&(n.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}});var Qo=T(va=>{"use strict";var wt=Ve(),br=ct(),$u=Oa(),Nr={};va.schema=function(e,t,n={}){br.assertOptions(n,["appendPath","override"]);try{return Nr.schema(e,t,n)}catch(r){throw n.appendPath&&r.path!==void 0&&(r.message=`${r.message} (${r.path})`),r}};Nr.schema=function(e,t,n){wt(t!==void 0,"Invalid undefined schema"),Array.isArray(t)&&(wt(t.length,"Invalid empty array schema"),t.length===1&&(t=t[0]));let r=(s,...a)=>n.override!==!1?s.valid(e.override,...a):s.valid(...a);if(Nr.simple(t))return r(e,t);if(typeof t=="function")return e.custom(t);if(wt(typeof t=="object","Invalid schema content:",typeof t),br.isResolvable(t))return r(e,t);if(br.isSchema(t))return t;if(Array.isArray(t)){for(let s of t)if(!Nr.simple(s))return e.alternatives().try(...t);return r(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?r(e.date(),t):(wt(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))};va.ref=function(e,t){return $u.isRef(e)?e:$u.create(e,t)};va.compile=function(e,t,n={}){br.assertOptions(n,["legacy"]);let r=t&&t[br.symbols.any];if(r)return wt(n.legacy||r.version===br.version,"Cannot mix different versions of joi schemas:",r.version,br.version),t;if(typeof t!="object"||!n.legacy)return va.schema(e,t,{appendPath:!0});let s=Nr.walk(t);return s?s.compile(s.root,t):va.schema(e,t,{appendPath:!0})};Nr.walk=function(e){if(typeof e!="object")return null;if(Array.isArray(e)){for(let n of e){let r=Nr.walk(n);if(r)return r}return null}let t=e[br.symbols.any];if(t)return{root:e[t.root],compile:t.compile};wt(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(let n in e){let r=Nr.walk(e[n]);if(r)return r}return null};Nr.simple=function(e){return e===null||["boolean","string","number"].includes(typeof e)};va.when=function(e,t,n){if(n===void 0&&(wt(t&&typeof t=="object","Missing options"),n=t,t=$u.create(".")),Array.isArray(n)&&(n={switch:n}),br.assertOptions(n,["is","not","then","otherwise","switch","break"]),br.isSchema(t))return wt(n.is===void 0,'"is" can not be used with a schema condition'),wt(n.not===void 0,'"not" can not be used with a schema condition'),wt(n.switch===void 0,'"switch" can not be used with a schema condition'),Nr.condition(e,{is:t,then:n.then,otherwise:n.otherwise,break:n.break});if(wt($u.isRef(t)||typeof t=="string","Invalid condition:",t),wt(n.not===void 0||n.is===void 0,'Cannot combine "is" with "not"'),n.switch===void 0){let s=n;n.not!==void 0&&(s={is:n.not,then:n.otherwise,otherwise:n.then,break:n.break});let a=s.is!==void 0?e.$_compile(s.is):e.$_root.invalid(null,!1,0,"").required();return wt(s.then!==void 0||s.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),wt(s.break===void 0||s.then===void 0||s.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),n.is!==void 0&&!$u.isRef(n.is)&&!br.isSchema(n.is)&&(a=a.required()),Nr.condition(e,{ref:va.ref(t),is:a,then:s.then,otherwise:s.otherwise,break:s.break})}wt(Array.isArray(n.switch),'"switch" must be an array'),wt(n.is===void 0,'Cannot combine "switch" with "is"'),wt(n.not===void 0,'Cannot combine "switch" with "not"'),wt(n.then===void 0,'Cannot combine "switch" with "then"');let r={ref:va.ref(t),switch:[],break:n.break};for(let s=0;s<n.switch.length;++s){let a=n.switch[s],i=s===n.switch.length-1;br.assertOptions(a,i?["is","then","otherwise"]:["is","then"]),wt(a.is!==void 0,'Switch statement missing "is"'),wt(a.then!==void 0,'Switch statement missing "then"');let o={is:e.$_compile(a.is),then:e.$_compile(a.then)};if(!$u.isRef(a.is)&&!br.isSchema(a.is)&&(o.is=o.is.required()),i){wt(n.otherwise===void 0||a.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let l=n.otherwise!==void 0?n.otherwise:a.otherwise;l!==void 0&&(wt(r.break===void 0,"Cannot specify both otherwise and break"),o.otherwise=e.$_compile(l))}r.switch.push(o)}return r};Nr.condition=function(e,t){for(let n of["then","otherwise"])t[n]===void 0?delete t[n]:t[n]=e.$_compile(t[n]);return t}});var L1=T(v2=>{"use strict";var Si=Ve(),iae=Cn(),O2=ct(),oae=Fu(),Cs={};v2.type=function(e,t){let n=Object.getPrototypeOf(e),r=iae(n),s=e._assign(Object.create(r)),a=Object.assign({},t);delete a.base,r._definition=a;let i=n._definition||{};a.messages=oae.merge(i.messages,a.messages),a.properties=Object.assign({},i.properties,a.properties),s.type=a.type,a.flags=Object.assign({},i.flags,a.flags);let o=Object.assign({},i.terms);if(a.terms)for(let f in a.terms){let m=a.terms[f];Si(s.$_terms[f]===void 0,"Invalid term override for",a.type,f),s.$_terms[f]=m.init,o[f]=m}a.terms=o,a.args||(a.args=i.args),a.prepare=Cs.prepare(a.prepare,i.prepare),a.coerce&&(typeof a.coerce=="function"&&(a.coerce={method:a.coerce}),a.coerce.from&&!Array.isArray(a.coerce.from)&&(a.coerce={method:a.coerce.method,from:[].concat(a.coerce.from)})),a.coerce=Cs.coerce(a.coerce,i.coerce),a.validate=Cs.validate(a.validate,i.validate);let l=Object.assign({},i.rules);if(a.rules)for(let f in a.rules){let m=a.rules[f];Si(typeof m=="object","Invalid rule definition for",a.type,f);let g=m.method;if(g===void 0&&(g=function(){return this.$_addRule(f)}),g&&(Si(!r[f],"Rule conflict in",a.type,f),r[f]=g),Si(!l[f],"Rule conflict in",a.type,f),l[f]=m,m.alias){let y=[].concat(m.alias);for(let w of y)r[w]=m.method}m.args&&(m.argsByName=new Map,m.args=m.args.map(y=>(typeof y=="string"&&(y={name:y}),Si(!m.argsByName.has(y.name),"Duplicated argument name",y.name),O2.isSchema(y.assert)&&(y.assert=y.assert.strict().label(y.name)),m.argsByName.set(y.name,y),y)))}a.rules=l;let u=Object.assign({},i.modifiers);if(a.modifiers)for(let f in a.modifiers){Si(!r[f],"Rule conflict in",a.type,f);let m=a.modifiers[f];Si(typeof m=="function","Invalid modifier definition for",a.type,f);let g=function(y){return this.rule({[f]:y})};r[f]=g,u[f]=m}if(a.modifiers=u,a.overrides){r._super=n,s.$_super={};for(let f in a.overrides)Si(n[f],"Cannot override missing",f),a.overrides[f][O2.symbols.parent]=n[f],s.$_super[f]=n[f].bind(s);Object.assign(r,a.overrides)}a.cast=Object.assign({},i.cast,a.cast);let c=Object.assign({},i.manifest,a.manifest);return c.build=Cs.build(a.manifest&&a.manifest.build,i.manifest&&i.manifest.build),a.manifest=c,a.rebuild=Cs.rebuild(a.rebuild,i.rebuild),s};Cs.build=function(e,t){return!e||!t?e||t:function(n,r){return t(e(n,r),r)}};Cs.coerce=function(e,t){return!e||!t?e||t:{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(n,r){let s;if((!t.from||t.from.includes(typeof n))&&(s=t.method(n,r),s)){if(s.errors||s.value===void 0)return s;n=s.value}if(!e.from||e.from.includes(typeof n)){let a=e.method(n,r);if(a)return a}return s}}};Cs.prepare=function(e,t){return!e||!t?e||t:function(n,r){let s=e(n,r);if(s){if(s.errors||s.value===void 0)return s;n=s.value}return t(n,r)||s}};Cs.rebuild=function(e,t){return!e||!t?e||t:function(n){t(n),e(n)}};Cs.validate=function(e,t){return!e||!t?e||t:function(n,r){let s=t(n,r);if(s){if(s.errors&&(!Array.isArray(s.errors)||s.errors.length))return s;n=s.value}return e(n,r)||s}}});var Y1=T(W1=>{"use strict";var Bs=Ve(),th=Cn(),Jo=ct(),lae=Fu(),S2=Oa(),uae=vi(),z1,Bn={};W1.describe=function(e){let t=e._definition,n={type:e.type,flags:{},rules:[]};for(let r in e._flags)r[0]!=="_"&&(n.flags[r]=Bn.describe(e._flags[r]));Object.keys(n.flags).length||delete n.flags,e._preferences&&(n.preferences=th(e._preferences,{shallow:["messages"]}),delete n.preferences[Jo.symbols.prefs],n.preferences.messages&&(n.preferences.messages=lae.decompile(n.preferences.messages))),e._valids&&(n.allow=e._valids.describe()),e._invalids&&(n.invalid=e._invalids.describe());for(let r of e._rules){if(t.rules[r.name].manifest===!1)continue;let a={name:r.name};for(let i in t.modifiers)r[i]!==void 0&&(a[i]=Bn.describe(r[i]));if(r.args){a.args={};for(let i in r.args){let o=r.args[i];i==="options"&&!Object.keys(o).length||(a.args[i]=Bn.describe(o,{assign:i}))}Object.keys(a.args).length||delete a.args}n.rules.push(a)}n.rules.length||delete n.rules;for(let r in e.$_terms){if(r[0]==="_")continue;Bs(!n[r],"Cannot describe schema due to internal name conflict with",r);let s=e.$_terms[r];if(!s)continue;if(s instanceof Map){s.size&&(n[r]=[...s.entries()]);continue}if(Jo.isValues(s)){n[r]=s.describe();continue}Bs(t.terms[r],"Term",r,"missing configuration");let a=t.terms[r].manifest,i=typeof a=="object";if(!s.length&&!i)continue;let o=[];for(let l of s)o.push(Bn.describe(l));if(i){let{from:l,to:u}=a.mapped;n[r]={};for(let c of o)n[r][c[u]]=c[l];continue}if(a==="single"){Bs(o.length===1,"Term",r,"contains more than one item"),n[r]=o[0];continue}n[r]=o}return Bn.validate(e.$_root,n),n};Bn.describe=function(e,t={}){if(Array.isArray(e))return e.map(Bn.describe);if(e===Jo.symbols.deepDefault)return{special:"deep"};if(typeof e!="object"||e===null)return e;if(t.assign==="options")return th(e);if(Buffer&&Buffer.isBuffer(e))return{buffer:e.toString("binary")};if(e instanceof Date)return e.toISOString();if(e instanceof Error)return e;if(e instanceof RegExp)return t.assign==="regex"?e.toString():{regex:e.toString()};if(e[Jo.symbols.literal])return{function:e.literal};if(typeof e.describe=="function")return t.assign==="ref"?e.describe().ref:e.describe();let n={};for(let r in e){let s=e[r];s!==void 0&&(n[r]=Bn.describe(s,{assign:r}))}return n};W1.build=function(e,t){return new Bn.Builder(e).parse(t)};Bn.Builder=class{constructor(e){this.joi=e}parse(e){Bn.validate(this.joi,e);let t=this.joi[e.type]()._bare(),n=t._definition;if(e.flags)for(let s in e.flags){let a=n.flags[s]&&n.flags[s].setter||s;Bs(typeof t[a]=="function","Invalid flag",s,"for type",e.type),t=t[a](this.build(e.flags[s]))}if(e.preferences&&(t=t.preferences(this.build(e.preferences))),e.allow&&(t=t.allow(...this.build(e.allow))),e.invalid&&(t=t.invalid(...this.build(e.invalid))),e.rules)for(let s of e.rules){Bs(typeof t[s.name]=="function","Invalid rule",s.name,"for type",e.type);let a=[];if(s.args){let o={};for(let c in s.args)o[c]=this.build(s.args[c],{assign:c});let l=Object.keys(o),u=n.rules[s.name].args;if(u){Bs(l.length<=u.length,"Invalid number of arguments for",e.type,s.name,"(expected up to",u.length,", found",l.length,")");for(let{name:c}of u)a.push(o[c])}else Bs(l.length===1,"Invalid number of arguments for",e.type,s.name,"(expected up to 1, found",l.length,")"),a.push(o[l[0]])}t=t[s.name](...a);let i={};for(let o in n.modifiers)s[o]!==void 0&&(i[o]=this.build(s[o]));Object.keys(i).length&&(t=t.rule(i))}let r={};for(let s in e){if(["allow","flags","invalid","whens","preferences","rules","type"].includes(s))continue;Bs(n.terms[s],"Term",s,"missing configuration");let a=n.terms[s].manifest;if(a==="schema"){r[s]=e[s].map(i=>this.parse(i));continue}if(a==="values"){r[s]=e[s].map(i=>this.build(i));continue}if(a==="single"){r[s]=this.build(e[s]);continue}if(typeof a=="object"){r[s]={};for(let i in e[s]){let o=e[s][i];r[s][i]=this.parse(o)}continue}r[s]=this.build(e[s])}return e.whens&&(r.whens=e.whens.map(s=>this.build(s))),t=n.manifest.build(t,r),t.$_temp.ruleset=!1,t}build(e,t={}){if(e===null)return null;if(Array.isArray(e))return e.map(r=>this.build(r));if(e instanceof Error)return e;if(t.assign==="options")return th(e);if(t.assign==="regex")return Bn.regex(e);if(t.assign==="ref")return S2.build(e);if(typeof e!="object")return e;if(Object.keys(e).length===1){if(e.buffer)return Bs(Buffer,"Buffers are not supported"),Buffer&&Buffer.from(e.buffer,"binary");if(e.function)return{[Jo.symbols.literal]:!0,literal:e.function};if(e.override)return Jo.symbols.override;if(e.ref)return S2.build(e.ref);if(e.regex)return Bn.regex(e.regex);if(e.special)return Bs(["deep"].includes(e.special),"Unknown special value",e.special),Jo.symbols.deepDefault;if(e.value)return th(e.value)}if(e.type)return this.parse(e);if(e.template)return uae.build(e);let n={};for(let r in e)n[r]=this.build(e[r],{assign:r});return n}};Bn.regex=function(e){let t=e.lastIndexOf("/"),n=e.slice(1,t),r=e.slice(t+1);return new RegExp(n,r)};Bn.validate=function(e,t){z1=z1||Zm(),e.assert(t,z1.description)}});var Lf=T((mle,T2)=>{"use strict";var Ms=$1(),hn={mismatched:null};T2.exports=function(e,t,n){return n=Object.assign({prototype:!0},n),!!hn.isDeepEqual(e,t,n,[])};hn.isDeepEqual=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;let s=typeof e;if(s!==typeof t||e===null||t===null)return!1;if(s==="function"){if(!n.deepFunction||e.toString()!==t.toString())return!1}else if(s!=="object")return e!==e&&t!==t;let a=hn.getSharedType(e,t,!!n.prototype);switch(a){case Ms.buffer:return Buffer&&Buffer.prototype.equals.call(e,t);case Ms.promise:return e===t;case Ms.regex:return e.toString()===t.toString();case hn.mismatched:return!1}for(let i=r.length-1;i>=0;--i)if(r[i].isSame(e,t))return!0;r.push(new hn.SeenEntry(e,t));try{return!!hn.isDeepEqualObj(a,e,t,n,r)}finally{r.pop()}};hn.getSharedType=function(e,t,n){if(n)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?hn.mismatched:Ms.getInternalProto(e);let r=Ms.getInternalProto(e);return r!==Ms.getInternalProto(t)?hn.mismatched:r};hn.valueOf=function(e){let t=e.valueOf;if(t===void 0)return e;try{return t.call(e)}catch(n){return n}};hn.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)};hn.isSetSimpleEqual=function(e,t){for(let n of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,n))return!1;return!0};hn.isDeepEqualObj=function(e,t,n,r,s){let{isDeepEqual:a,valueOf:i,hasOwnEnumerableProperty:o}=hn,{keys:l,getOwnPropertySymbols:u}=Object;if(e===Ms.array)if(r.part){for(let y of t)for(let w of n)if(a(y,w,r,s))return!0}else{if(t.length!==n.length)return!1;for(let y=0;y<t.length;++y)if(!a(t[y],n[y],r,s))return!1;return!0}else if(e===Ms.set){if(t.size!==n.size)return!1;if(!hn.isSetSimpleEqual(t,n)){let y=new Set(Set.prototype.values.call(n));for(let w of Set.prototype.values.call(t)){if(y.delete(w))continue;let S=!1;for(let R of y)if(a(w,R,r,s)){y.delete(R),S=!0;break}if(!S)return!1}}}else if(e===Ms.map){if(t.size!==n.size)return!1;for(let[y,w]of Map.prototype.entries.call(t))if(w===void 0&&!Map.prototype.has.call(n,y)||!a(w,Map.prototype.get.call(n,y),r,s))return!1}else if(e===Ms.error&&(t.name!==n.name||t.message!==n.message))return!1;let c=i(t),f=i(n);if((t!==c||n!==f)&&!a(c,f,r,s))return!1;let m=l(t);if(!r.part&&m.length!==l(n).length&&!r.skip)return!1;let g=0;for(let y of m){if(r.skip&&r.skip.includes(y)){n[y]===void 0&&++g;continue}if(!o(n,y)||!a(t[y],n[y],r,s))return!1}if(!r.part&&m.length-g!==l(n).length)return!1;if(r.symbols!==!1){let y=u(t),w=new Set(u(n));for(let S of y){if(!r.skip||!r.skip.includes(S)){if(o(t,S)){if(!o(n,S)||!a(t[S],n[S],r,s))return!1}else if(o(n,S))return!1}w.delete(S)}for(let S of w)if(o(n,S))return!1}return!0};hn.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}});var N2=T(R2=>{"use strict";R2.location=function(e=0){let t=Error.prepareStackTrace;Error.prepareStackTrace=(s,a)=>a;let n={};Error.captureStackTrace(n,this);let r=n.stack[e+1];return Error.prepareStackTrace=t,{filename:r.getFileName(),line:r.getLineNumber()}}});var J1=T(Q1=>{"use strict";var I2=Lf(),C2=N2(),cae=Ea(),yn={codes:{error:1,pass:2,full:3},labels:{0:"never used",1:"always error",2:"always pass"}};Q1.setup=function(e){let t=function(){return e._tracer=e._tracer||new yn.Tracer,e._tracer};e.trace=t,e[Symbol.for("@hapi/lab/coverage/initialize")]=t,e.untrace=()=>{e._tracer=null}};Q1.location=function(e){return e.$_setFlag("_tracerLocation",C2.location(2))};yn.Tracer=class{constructor(){this.name="Joi",this._schemas=new Map}_register(e){let t=this._schemas.get(e);if(t)return t.store;let n=new yn.Store(e),{filename:r,line:s}=e._flags._tracerLocation||C2.location(5);return this._schemas.set(e,{filename:r,line:s,store:n}),n}_combine(e,t){for(let{store:n}of this._schemas.values())n._combine(e,t)}report(e){let t=[];for(let{filename:n,line:r,store:s}of this._schemas.values()){if(e&&e!==n)continue;let a=[],i=[];for(let[o,l]of s._sources.entries()){if(yn.sub(l.paths,i))continue;if(!l.entry){a.push({status:"never reached",paths:[...l.paths]}),i.push(...l.paths);continue}for(let c of["valid","invalid"]){let f=o[`_${c}s`];if(!f)continue;let m=new Set(f._values),g=new Set(f._refs);for(let{value:y,ref:w}of l[c])m.delete(y),g.delete(w);(m.size||g.size)&&a.push({status:[...m,...[...g].map(y=>y.display)],rule:`${c}s`})}let u=o._rules.map(c=>c.name);for(let c of["default","failover"])o._flags[c]!==void 0&&u.push(c);for(let c of u){let f=yn.labels[l.rule[c]||0];if(f){let m={rule:c,status:f};l.paths.size&&(m.paths=[...l.paths]),a.push(m)}}}a.length&&t.push({filename:n,line:r,missing:a,severity:"error",message:`Schema missing tests for ${a.map(yn.message).join(", ")}`})}return t.length?t:null}};yn.Store=class{constructor(e){this.active=!0,this._sources=new Map,this._combos=new Map,this._scan(e)}debug(e,t,n,r){e.mainstay.debug&&e.mainstay.debug.push({type:t,name:n,result:r,path:e.path})}entry(e,t){yn.debug(t,{type:"entry"}),this._record(e,n=>{n.entry=!0})}filter(e,t,n,r){yn.debug(t,{type:n,...r}),this._record(e,s=>{s[n].add(r)})}log(e,t,n,r,s){yn.debug(t,{type:n,name:r,result:s==="full"?"pass":s}),this._record(e,a=>{a[n][r]=a[n][r]||0,a[n][r]|=yn.codes[s]})}resolve(e,t,n){if(!e.mainstay.debug)return;let r={type:"resolve",ref:t.display,to:n,path:e.path};e.mainstay.debug.push(r)}value(e,t,n,r,s){if(!e.mainstay.debug||I2(n,r))return;let a={type:"value",by:t,from:n,to:r,path:e.path};s&&(a.name=s),e.mainstay.debug.push(a)}_record(e,t){let n=this._sources.get(e);if(n){t(n);return}let r=this._combos.get(e);for(let s of r)this._record(s,t)}_scan(e,t){let n=t||[],r=this._sources.get(e);r||(r={paths:new Set,entry:!1,rule:{},valid:new Set,invalid:new Set},this._sources.set(e,r)),n.length&&r.paths.add(n);let s=(a,i)=>{let o=yn.id(a,i);this._scan(a,n.concat(o))};e.$_modify({each:s,ref:!1})}_combine(e,t){this._combos.set(e,t)}};yn.message=function(e){return`${e.paths?cae.path(e.paths[0])+(e.rule?":":""):""}${e.rule||""} (${e.status})`};yn.id=function(e,{source:t,name:n,path:r,key:s}){return e._flags.id?e._flags.id:s||(n=`@${n}`,t==="terms"?[n,r[Math.min(r.length-1,1)]]:n)};yn.sub=function(e,t){for(let n of e)for(let r of t)if(I2(n.slice(0,r.length),r))return!0;return!1};yn.debug=function(e,t){e.mainstay.debug&&(t.path=e.debug?[...e.path,e.debug]:e.path,e.mainstay.debug.push(t))}});var nh=T((xle,U2)=>{"use strict";var Z1=Ve(),B2=Cn(),fae=j1(),M2={};U2.exports=M2.merge=function(e,t,n){if(Z1(e&&typeof e=="object","Invalid target value: must be an object"),Z1(t==null||typeof t=="object","Invalid source value: must be null, undefined, or an object"),!t)return e;if(n=Object.assign({nullOverride:!0,mergeArrays:!0},n),Array.isArray(t)){Z1(Array.isArray(e),"Cannot merge array onto an object"),n.mergeArrays||(e.length=0);for(let s=0;s<t.length;++s)e.push(B2(t[s],{symbols:n.symbols}));return e}let r=fae.keys(t,n);for(let s=0;s<r.length;++s){let a=r[s];if(a==="__proto__"||!Object.prototype.propertyIsEnumerable.call(t,a))continue;let i=t[a];if(i&&typeof i=="object"){if(e[a]===i)continue;!e[a]||typeof e[a]!="object"||Array.isArray(e[a])!==Array.isArray(i)||i instanceof Date||Buffer&&Buffer.isBuffer(i)||i instanceof RegExp?e[a]=B2(i,{symbols:n.symbols}):M2.merge(e[a],i,n)}else(i!=null||n.nullOverride)&&(e[a]=i)}return e}});var D2=T(rh=>{"use strict";var Sa=Ve(),ex=ct(),pae=Oa(),Us={};rh.Ids=Us.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let e=new Us.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(let[t,n]of e._byId.entries())Sa(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,n);for(let[t,n]of e._byKey.entries())Sa(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,n)}fork(e,t,n){let r=this._collect(e);r.push({schema:n});let s=r.shift(),a={id:s.id,schema:t(s.schema)};Sa(ex.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(let i of r)a={id:i.id,schema:Us.fork(i.schema,a.id,a.schema)};return a.schema}labels(e,t=[]){let n=e[0],r=this._get(n);if(!r)return[...t,...e].join(".");let s=e.slice(1);return t=[...t,r.schema._flags.label||n],s.length?r.schema._ids.labels(s,t):t.join(".")}reach(e,t=[]){let n=e[0],r=this._get(n);Sa(r,"Schema does not contain path",[...t,...e].join("."));let s=e.slice(1);return s.length?r.schema._ids.reach(s,[...t,n]):r.schema}register(e,{key:t}={}){if(!e||!ex.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);let n=e._flags.id;if(n){let r=this._byId.get(n);Sa(!r||r.schema===e,"Cannot add different schemas with the same id:",n),Sa(!this._byKey.has(n),"Schema id conflicts with existing key:",n),this._byId.set(n,{schema:e,id:n})}t&&(Sa(!this._byKey.has(t),"Schema already contains key:",t),Sa(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],n=[]){let r=e[0],s=this._get(r);Sa(s,"Schema does not contain path",[...t,...e].join(".")),n=[s,...n];let a=e.slice(1);return a.length?s.schema._ids._collect(a,[...t,r],n):n}_get(e){return this._byId.get(e)||this._byKey.get(e)}};Us.fork=function(e,t,n){let r=(a,{key:i})=>{if(t===(a._flags.id||i))return n},s=rh.schema(e,{each:r,ref:!1});return s?s.$_mutateRebuild():e};rh.schema=function(e,t){let n;for(let r in e._flags){if(r[0]==="_")continue;let s=Us.scan(e._flags[r],{source:"flags",name:r},t);s!==void 0&&(n=n||e.clone(),n._flags[r]=s)}for(let r=0;r<e._rules.length;++r){let s=e._rules[r],a=Us.scan(s.args,{source:"rules",name:s.name},t);if(a!==void 0){n=n||e.clone();let i=Object.assign({},s);i.args=a,n._rules[r]=i,n._singleRules.get(s.name)===s&&n._singleRules.set(s.name,i)}}for(let r in e.$_terms){if(r[0]==="_")continue;let s=Us.scan(e.$_terms[r],{source:"terms",name:r},t);s!==void 0&&(n=n||e.clone(),n.$_terms[r]=s)}return n};Us.scan=function(e,t,n,r,s){let a=r||[];if(e===null||typeof e!="object")return;let i;if(Array.isArray(e)){for(let o=0;o<e.length;++o){let l=t.source==="terms"&&t.name==="keys"&&e[o].key,u=Us.scan(e[o],t,n,[o,...a],l);u!==void 0&&(i=i||e.slice(),i[o]=u)}return i}if(n.schema!==!1&&ex.isSchema(e)||n.ref!==!1&&pae.isRef(e)){let o=n.each(e,{...t,path:a,key:s});return o===e?void 0:o}for(let o in e){if(o[0]==="_")continue;let l=Us.scan(e[o],t,n,[o,...a],s);l!==void 0&&(i=i||Object.assign({},e),i[o]=l)}return i}});var F2=T((wle,P2)=>{"use strict";P2.exports=function(){}});var j2=T((Ele,$2)=>{"use strict";var dae=Cn(),G2=zo(),mae=ct(),Ds={value:Symbol("value")};$2.exports=Ds.State=class{constructor(e,t,n){this.path=e,this.ancestors=t,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}localize(e,t=null,n=null){let r=new Ds.State(e,t,this);return n&&r.schemas&&(r.schemas=[Ds.schemas(n),...r.schemas]),r}nest(e,t){let n=new Ds.State(this.path,this.ancestors,this);return n.schemas=n.schemas&&[Ds.schemas(e),...n.schemas],n.debug=t,n}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new Ds.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=dae(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}};Ds.schemas=function(e){return mae.isSchema(e)?{schema:e}:e};Ds.Shadow=class{constructor(){this._values=null}set(e,t,n){if(!e.length||n==="strip"&&typeof e[e.length-1]=="number")return;this._values=this._values||new Map;let r=this._values;for(let s=0;s<e.length;++s){let a=e[s],i=r.get(a);i||(i=new Map,r.set(a,i)),r=i}r[Ds.value]=t}get(e){let t=this.node(e);if(t)return t[Ds.value]}node(e){if(this._values)return G2(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;let n=e.slice(0,-1),r=e[e.length-1],s=G2(this._values,n,{iterables:!0});if(t){s.set(r,t);return}s&&s.delete(r)}}});var q2=T(Wf=>{"use strict";var zf=Ve(),K2=Cn(),ju=F2(),hae=zo(),qt=ct(),Ti=Ea(),yae=j2(),we={result:Symbol("result")};Wf.entry=function(e,t,n){let r=qt.defaults;n&&(zf(n.warnings===void 0,"Cannot override warnings preference in synchronous validation"),zf(n.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),r=qt.preferences(qt.defaults,n));let s=we.entry(e,t,r);zf(!s.mainstay.externals.length,"Schema with external rules must use validateAsync()");let a={value:s.value};return s.error&&(a.error=s.error),s.mainstay.warnings.length&&(a.warning=Ti.details(s.mainstay.warnings)),s.mainstay.debug&&(a.debug=s.mainstay.debug),s.mainstay.artifacts&&(a.artifacts=s.mainstay.artifacts),a};Wf.entryAsync=async function(e,t,n){let r=qt.defaults;n&&(r=qt.preferences(qt.defaults,n));let s=we.entry(e,t,r),a=s.mainstay;if(s.error)throw a.debug&&(s.error.debug=a.debug),s.error;if(a.externals.length){let o=s.value,l=[];for(let u of a.externals){let c=u.state.path,f=u.schema.type==="link"?a.links.get(u.schema):null,m=o,g,y,w=c.length?[o]:[],S=c.length?hae(e,c):e;if(c.length){g=c[c.length-1];let R=o;for(let B of c.slice(0,-1))R=R[B],w.unshift(R);y=w[0],m=y[g]}try{let R=(P,W)=>(f||u.schema).$_createError(P,m,W,u.state,r),B=await u.method(m,{schema:u.schema,linked:f,state:u.state,prefs:n,original:S,error:R,errorsArray:we.errorsArray,warn:(P,W)=>a.warnings.push((f||u.schema).$_createError(P,m,W,u.state,r)),message:(P,W)=>(f||u.schema).$_createError("external",m,W,u.state,r,{messages:P})});if(B===void 0||B===m)continue;if(B instanceof Ti.Report){if(a.tracer.log(u.schema,u.state,"rule","external","error"),l.push(B),r.abortEarly)break;continue}if(Array.isArray(B)&&B[qt.symbols.errors]){if(a.tracer.log(u.schema,u.state,"rule","external","error"),l.push(...B),r.abortEarly)break;continue}y?(a.tracer.value(u.state,"rule",m,B,"external"),y[g]=B):(a.tracer.value(u.state,"rule",o,B,"external"),o=B)}catch(R){throw r.errors.label&&(R.message+=` (${u.label})`),R}}if(s.value=o,l.length)throw s.error=Ti.process(l,e,r),a.debug&&(s.error.debug=a.debug),s.error}if(!r.warnings&&!r.debug&&!r.artifacts)return s.value;let i={value:s.value};return a.warnings.length&&(i.warning=Ti.details(a.warnings)),a.debug&&(i.debug=a.debug),a.artifacts&&(i.artifacts=a.artifacts),i};we.Mainstay=class{constructor(e,t,n){this.externals=[],this.warnings=[],this.tracer=e,this.debug=t,this.links=n,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){let e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}};we.entry=function(e,t,n){let{tracer:r,cleanup:s}=we.tracer(t,n),a=n.debug?[]:null,i=t._ids._schemaChain?new Map:null,o=new we.Mainstay(r,a,i),l=t._ids._schemaChain?[{schema:t}]:null,u=new yae([],[],{mainstay:o,schemas:l}),c=Wf.validate(e,t,u,n);s&&t.$_root.untrace();let f=Ti.process(c.errors,e,n);return{value:c.value,error:f,mainstay:o}};we.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(zf(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:we.ignore}};Wf.validate=function(e,t,n,r,s={}){if(t.$_terms.whens&&(t=t._generate(e,n,r).schema),t._preferences&&(r=we.prefs(t,r)),t._cache&&r.cache){let f=t._cache.get(e);if(n.mainstay.tracer.debug(n,"validate","cached",!!f),f)return f}let a=(f,m,g)=>t.$_createError(f,e,m,g||n,r),i={original:e,prefs:r,schema:t,state:n,error:a,errorsArray:we.errorsArray,warn:(f,m,g)=>n.mainstay.warnings.push(a(f,m,g)),message:(f,m)=>t.$_createError("custom",e,m,n,r,{messages:f})};n.mainstay.tracer.entry(t,n);let o=t._definition;if(o.prepare&&e!==void 0&&r.convert){let f=o.prepare(e,i);if(f){if(n.mainstay.tracer.value(n,"prepare",e,f.value),f.errors)return we.finalize(f.value,[].concat(f.errors),i);e=f.value}}if(o.coerce&&e!==void 0&&r.convert&&(!o.coerce.from||o.coerce.from.includes(typeof e))){let f=o.coerce.method(e,i);if(f){if(n.mainstay.tracer.value(n,"coerced",e,f.value),f.errors)return we.finalize(f.value,[].concat(f.errors),i);e=f.value}}let l=t._flags.empty;l&&l.$_match(we.trim(e,t),n.nest(l),qt.defaults)&&(n.mainstay.tracer.value(n,"empty",e,void 0),e=void 0);let u=s.presence||t._flags.presence||(t._flags._endedSwitch?null:r.presence);if(e===void 0){if(u==="forbidden")return we.finalize(e,null,i);if(u==="required")return we.finalize(e,[t.$_createError("any.required",e,null,n,r)],i);if(u==="optional"){if(t._flags.default!==qt.symbols.deepDefault)return we.finalize(e,null,i);n.mainstay.tracer.value(n,"default",e,{}),e={}}}else if(u==="forbidden")return we.finalize(e,[t.$_createError("any.unknown",e,null,n,r)],i);let c=[];if(t._valids){let f=t._valids.get(e,n,r,t._flags.insensitive);if(f)return r.convert&&(n.mainstay.tracer.value(n,"valids",e,f.value),e=f.value),n.mainstay.tracer.filter(t,n,"valid",f),we.finalize(e,null,i);if(t._flags.only){let m=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},n,r);if(r.abortEarly)return we.finalize(e,[m],i);c.push(m)}}if(t._invalids){let f=t._invalids.get(e,n,r,t._flags.insensitive);if(f){n.mainstay.tracer.filter(t,n,"invalid",f);let m=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},n,r);if(r.abortEarly)return we.finalize(e,[m],i);c.push(m)}}if(o.validate){let f=o.validate(e,i);if(f&&(n.mainstay.tracer.value(n,"base",e,f.value),e=f.value,f.errors)){if(!Array.isArray(f.errors))return c.push(f.errors),we.finalize(e,c,i);if(f.errors.length)return c.push(...f.errors),we.finalize(e,c,i)}}return t._rules.length?we.rules(e,c,i):we.finalize(e,c,i)};we.rules=function(e,t,n){let{schema:r,state:s,prefs:a}=n;for(let i of r._rules){let o=r._definition.rules[i.method];if(o.convert&&a.convert){s.mainstay.tracer.log(r,s,"rule",i.name,"full");continue}let l,u=i.args;if(i._resolve.length){u=Object.assign({},u);for(let f of i._resolve){let m=o.argsByName.get(f),g=u[f].resolve(e,s,a),y=m.normalize?m.normalize(g):g,w=qt.validateArg(y,null,m);if(w){l=r.$_createError("any.ref",g,{arg:f,ref:u[f],reason:w},s,a);break}u[f]=y}}l=l||o.validate(e,n,u,i);let c=we.rule(l,i);if(c.errors){if(s.mainstay.tracer.log(r,s,"rule",i.name,"error"),i.warn){s.mainstay.warnings.push(...c.errors);continue}if(a.abortEarly)return we.finalize(e,c.errors,n);t.push(...c.errors)}else s.mainstay.tracer.log(r,s,"rule",i.name,"pass"),s.mainstay.tracer.value(s,"rule",e,c.value,i.name),e=c.value}return we.finalize(e,t,n)};we.rule=function(e,t){return e instanceof Ti.Report?(we.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[qt.symbols.errors]?(e.forEach(n=>we.error(n,t)),{errors:e,value:null}):{errors:null,value:e}};we.error=function(e,t){return t.message&&e._setTemplate(t.message),e};we.finalize=function(e,t,n){t=t||[];let{schema:r,state:s,prefs:a}=n;if(t.length){let o=we.default("failover",void 0,t,n);o!==void 0&&(s.mainstay.tracer.value(s,"failover",e,o),e=o,t=[])}if(t.length&&r._flags.error)if(typeof r._flags.error=="function"){t=r._flags.error(t),Array.isArray(t)||(t=[t]);for(let o of t)zf(o instanceof Error||o instanceof Ti.Report,"error() must return an Error object")}else t=[r._flags.error];if(e===void 0){let o=we.default("default",e,t,n);s.mainstay.tracer.value(s,"default",e,o),e=o}if(r._flags.cast&&e!==void 0){let o=r._definition.cast[r._flags.cast];if(o.from(e)){let l=o.to(e,n);s.mainstay.tracer.value(s,"cast",e,l,r._flags.cast),e=l}}if(r.$_terms.externals&&a.externals&&a._externals!==!1)for(let{method:o}of r.$_terms.externals)s.mainstay.externals.push({method:o,schema:r,state:s,label:Ti.label(r._flags,s,a)});let i={value:e,errors:t.length?t:null};return r._flags.result&&(i.value=r._flags.result==="strip"?void 0:n.original,s.mainstay.tracer.value(s,r._flags.result,e,i.value),s.shadow(e,r._flags.result)),r._cache&&a.cache!==!1&&!r._refs.length&&r._cache.set(n.original,i),e!==void 0&&!i.errors&&r._flags.artifact!==void 0&&(s.mainstay.artifacts=s.mainstay.artifacts||new Map,s.mainstay.artifacts.has(r._flags.artifact)||s.mainstay.artifacts.set(r._flags.artifact,[]),s.mainstay.artifacts.get(r._flags.artifact).push(s.path)),i};we.prefs=function(e,t){let n=t===qt.defaults;return n&&e._preferences[qt.symbols.prefs]?e._preferences[qt.symbols.prefs]:(t=qt.preferences(t,e._preferences),n&&(e._preferences[qt.symbols.prefs]=t),t)};we.default=function(e,t,n,r){let{schema:s,state:a,prefs:i}=r,o=s._flags[e];if(i.noDefaults||o===void 0)return t;if(a.mainstay.tracer.log(s,a,"rule",e,"full"),!o)return o;if(typeof o=="function"){let l=o.length?[K2(a.ancestors[0]),r]:[];try{return o(...l)}catch(u){n.push(s.$_createError(`any.${e}`,null,{error:u},a,i));return}}return typeof o!="object"?o:o[qt.symbols.literal]?o.literal:qt.isResolvable(o)?o.resolve(t,a,i):K2(o)};we.trim=function(e,t){if(typeof e!="string")return e;let n=t.$_getRule("trim");return!n||!n.args.enabled?e:e.trim()};we.ignore={active:!1,debug:ju,entry:ju,filter:ju,log:ju,resolve:ju,value:ju};we.errorsArray=function(){let e=[];return e[qt.symbols.errors]=!0,e}});var nx=T((Rle,H2)=>{"use strict";var gae=Ve(),V2=Lf(),tx=ct(),Ta={};H2.exports=Ta.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=Ta.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){if(tx.isResolvable(e)){this._refs.has(e)||(this._refs.add(e),t&&t.register(e));return}this.has(e,null,null,!1)||(this._values.add(e),typeof e=="string"&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,n){if(e=e||new Ta.Values,t){if(t._override)return t.clone();for(let r of[...t._values,...t._refs])e.add(r)}if(n)for(let r of[...n._values,...n._refs])e.remove(r);return e.length?e:null}remove(e){if(tx.isResolvable(e)){this._refs.delete(e);return}this._values.delete(e),typeof e=="string"&&this._lowercase.delete(e.toLowerCase())}has(e,t,n,r){return!!this.get(e,t,n,r)}get(e,t,n,r){if(!this.length)return!1;if(this._values.has(e))return{value:e};if(typeof e=="string"&&e&&r){let s=this._lowercase.get(e.toLowerCase());if(s)return{value:s}}if(!this._refs.size&&typeof e!="object")return!1;if(typeof e=="object"){for(let s of this._values)if(V2(s,e))return{value:s}}if(t)for(let s of this._refs){let a=s.resolve(e,t,n,null,{in:!0});if(a===void 0)continue;let i=!s.in||typeof a!="object"?[a]:Array.isArray(a)?a:Object.keys(a);for(let o of i)if(typeof o==typeof e){if(r&&e&&typeof e=="string"){if(o.toLowerCase()===e.toLowerCase())return{value:o,ref:s}}else if(V2(o,e))return{value:o,ref:s}}}return!1}override(){this._override=!0}values(e){if(e&&e.display){let t=[];for(let n of[...this._values,...this._refs])n!==void 0&&t.push(n);return t}return Array.from([...this._values,...this._refs])}clone(){let e=new Ta.Values(this._values,this._refs);return e._override=this._override,e}concat(e){gae(!e._override,"Cannot concat override set of values");let t=new Ta.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){let e=[];this._override&&e.push({override:!0});for(let t of this._values.values())e.push(t&&typeof t=="object"?{value:t}:t);for(let t of this._refs.values())e.push(t.describe());return e}};Ta.Values.prototype[tx.symbols.values]=!0;Ta.Values.prototype.slice=Ta.Values.prototype.clone;Ta.lowercases=function(e){let t=new Map;if(e)for(let n of e)typeof n=="string"&&t.set(n.toLowerCase(),n);return t}});var Z2=T((Ile,J2)=>{"use strict";var z=Ve(),X2=Cn(),L2=Lf(),rx=nh(),_ae=X1(),Tt=ct(),sx=Qo(),bae=Ea(),xae=L1(),z2=Y1(),kae=Fu(),W2=D2(),Y2=Oa(),Q2=J1(),sh=q2(),ah=nx(),Zt={};Zt.Base=class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new W2.Ids,this._preferences=null,this._refs=new Y2.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return z(typeof z2.describe=="function","Manifest functionality disabled"),z2.describe(this)}allow(...e){return Tt.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){z(e&&typeof e=="object"&&!Array.isArray(e),"Invalid targets argument"),z(!this._inRuleset(),"Cannot set alterations inside a ruleset");let t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(let n in e){let r=e[n];z(typeof r=="function","Alteration adjuster for",n,"must be a function"),t.$_terms.alterations.push({target:n,adjuster:r})}return t.$_temp.ruleset=!1,t}artifact(e){return z(e!==void 0,"Artifact cannot be undefined"),z(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return z(e===!1||typeof e=="string","Invalid to value"),z(e===!1||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",e===!1?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return z(e&&typeof e=="string","Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){let t=this.clone();return e!==void 0&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return z(e,"Missing error"),z(e instanceof Error||typeof e=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return z(e!==void 0,"Missing example"),Tt.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return typeof e=="object"&&(z(!t,"Cannot combine options with description"),t=e.description,e=e.method),z(typeof e=="function","Method must be a function"),z(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(z(typeof e=="string","id must be a non-empty string"),z(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return z(e&&typeof e=="string","Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return z(e!==void 0,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){z(e.length,"Missing notes");for(let t of e)z(t&&typeof t=="string","Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return z(typeof e=="boolean","Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){z(e,"Missing preferences"),z(e.context===void 0,"Cannot override context"),z(e.externals===void 0,"Cannot override externals"),z(e.warnings===void 0,"Cannot override warnings"),z(e.debug===void 0,"Cannot override debug"),Tt.checkPreferences(e);let t=this.clone();return t._preferences=Tt.preferences(t._preferences,e),t}presence(e){return z(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return z(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){let t=this.clone(),n=e===void 0?!1:!e;return t._preferences=Tt.preferences(t._preferences,{convert:n}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){z(e.length,"Missing tags");for(let t of e)z(t&&typeof t=="string","Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return z(e&&typeof e=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){Tt.verifyFlat(e,"valid");let t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){let n=this.clone();n.$_terms.whens||(n.$_terms.whens=[]);let r=sx.when(n,e,t);if(!["any","link"].includes(n.type)){let s=r.is?[r]:r.switch;for(let a of s)z(!a.then||a.then.type==="any"||a.then.type===n.type,"Cannot combine",n.type,"with",a.then&&a.then.type),z(!a.otherwise||a.otherwise.type==="any"||a.otherwise.type===n.type,"Cannot combine",n.type,"with",a.otherwise&&a.otherwise.type)}return n.$_terms.whens.push(r),n.$_mutateRebuild()}cache(e){z(!this._inRuleset(),"Cannot set caching inside a ruleset"),z(!this._cache,"Cannot override schema cache"),z(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");let t=this.clone();return t._cache=e||_ae.provider.provision(),t.$_temp.ruleset=!1,t}clone(){let e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){z(Tt.isSchema(e),"Invalid schema object"),z(this.type==="any"||e.type==="any"||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),z(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),z(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if(this.type==="any"&&e.type!=="any"){let n=e.clone();for(let r of Object.keys(t))r!=="type"&&(n[r]=t[r]);t=n}t._ids.concat(e._ids),t._refs.register(e,Y2.toSibling),t._preferences=t._preferences?Tt.preferences(t._preferences,e._preferences):e._preferences,t._valids=ah.merge(t._valids,e._valids,e._invalids),t._invalids=ah.merge(t._invalids,e._invalids,e._valids);for(let n of e._singleRules.keys())t._singleRules.has(n)&&(t._rules=t._rules.filter(r=>r.keep||r.name!==n),t._singleRules.delete(n));for(let n of e._rules)e._definition.rules[n.method].multi||t._singleRules.set(n.name,n),t._rules.push(n);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);let n=Object.assign({},e._flags);delete n.empty,rx(t._flags,n)}else if(e._flags.empty){t._flags.empty=e._flags.empty;let n=Object.assign({},e._flags);delete n.empty,rx(t._flags,n)}else rx(t._flags,e._flags);for(let n in e.$_terms){let r=e.$_terms[n];if(!r){t.$_terms[n]||(t.$_terms[n]=r);continue}if(!t.$_terms[n]){t.$_terms[n]=r.slice();continue}t.$_terms[n]=t.$_terms[n].concat(r)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return z(!e.base,"Cannot extend type with another base"),xae.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){z(!this._inRuleset(),"Cannot fork inside a ruleset");let n=this;for(let r of[].concat(e))r=Array.isArray(r)?r:r.split("."),n=n._ids.fork(r,t,n);return n.$_temp.ruleset=!1,n}rule(e){let t=this._definition;Tt.assertOptions(e,Object.keys(t.modifiers)),z(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");let n=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;z(n>=0&&n<this._rules.length,"Cannot apply rules to empty ruleset");let r=this.clone();for(let s=n;s<r._rules.length;++s){let a=r._rules[s],i=X2(a);for(let o in e)t.modifiers[o](i,e[o]),z(i.name===a.name,"Cannot change rule name");r._rules[s]=i,r._singleRules.get(i.name)===a&&r._singleRules.set(i.name,i)}return r.$_temp.ruleset=!1,r.$_mutateRebuild()}get ruleset(){z(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");let e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),z(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(let{target:n,adjuster:r}of this.$_terms.alterations)e.includes(n)&&(t=r(t),z(Tt.isSchema(t),"Alteration adjuster for",n,"failed to return a schema object"));return t=t.$_modify({each:n=>n.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return Q2.location?Q2.location(this):this}validate(e,t){return sh.entry(e,this,t)}validateAsync(e,t){return sh.entryAsync(e,this,t)}$_addRule(e){typeof e=="string"&&(e={name:e}),z(e&&typeof e=="object","Invalid options"),z(e.name&&typeof e.name=="string","Invalid rule name");for(let a in e)z(a[0]!=="_","Cannot set private rule properties");let t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;let n=this._definition.rules[t.method],r=t.args;z(n,"Unknown rule",t.method);let s=this.clone();if(r){z(Object.keys(r).length===1||Object.keys(r).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(let a in r){let i=r[a];if(n.argsByName){let o=n.argsByName.get(a);if(o.ref&&Tt.isResolvable(i))t._resolve.push(a),s.$_mutateRegister(i);else if(o.normalize&&(i=o.normalize(i),r[a]=i),o.assert){let l=Tt.validateArg(i,a,o);z(!l,l,"or reference")}}if(i===void 0){delete r[a];continue}r[a]=i}}return n.multi||(s._ruleRemove(t.name,{clone:!1}),s._singleRules.set(t.name,t)),s.$_temp.ruleset===!1&&(s.$_temp.ruleset=null),n.priority?s._rules.unshift(t):s._rules.push(t),s}$_compile(e,t){return sx.schema(this.$_root,e,t)}$_createError(e,t,n,r,s,a={}){let i=a.flags!==!1?this._flags:{},o=a.messages?kae.merge(this._definition.messages,a.messages):this._definition.messages;return new bae.Report(e,t,n,i,o,r,s)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,n,r){n=Object.assign({},n),n.abortEarly=!0,n._externals=!1,t.snapshot();let s=!sh.validate(e,this,t,n,r).errors;return t.restore(),s}$_modify(e){return Tt.assertOptions(e,["each","once","ref","schema"]),W2.schema(this,e)||this}$_mutateRebuild(){z(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset();let e=(t,{source:n,name:r,path:s,key:a})=>{let i=this._definition[n][r]&&this._definition[n][r].register;i!==!1&&this.$_mutateRegister(t,{family:i,key:a})};return this.$_modify({each:e}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:n}={}){this._refs.register(e,t),this._ids.register(e,{key:n})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,n={}){z(e[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");let r=this._definition.flags[e]||{};if(L2(t,r.default)&&(t=void 0),L2(t,this._flags[e]))return this;let s=n.clone!==!1?this.clone():this;return t!==void 0?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],e[0]!=="_"&&(s.$_temp.ruleset=!1),s}$_parent(e,...t){return this[e][Tt.symbols.parent].call(this,...t)}$_validate(e,t,n){return sh.validate(e,this,t,n)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=X2(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(let t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(let t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){let e=this.clone();e._reset();let t=e._definition.terms;for(let n in t){let r=t[n];e.$_terms[n]=r.init}return e.$_mutateRebuild()}_default(e,t,n={}){return Tt.assertOptions(n,"literal"),z(t!==void 0,"Missing",e,"value"),z(typeof t=="function"||!n.literal,"Only function value supports literal option"),typeof t=="function"&&n.literal&&(t={[Tt.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,n){if(!this.$_terms.whens)return{schema:this};let r=[],s=[];for(let o=0;o<this.$_terms.whens.length;++o){let l=this.$_terms.whens[o];if(l.concat){r.push(l.concat),s.push(`${o}.concat`);continue}let u=l.ref?l.ref.resolve(e,t,n):e,c=l.is?[l]:l.switch,f=s.length;for(let m=0;m<c.length;++m){let{is:g,then:y,otherwise:w}=c[m],S=`${o}${l.switch?"."+m:""}`;if(g.$_match(u,t.nest(g,`${S}.is`),n)){if(y){let R=t.localize([...t.path,`${S}.then`],t.ancestors,t.schemas),{schema:B,id:P}=y._generate(e,R,n);r.push(B),s.push(`${S}.then${P?`(${P})`:""}`);break}}else if(w){let R=t.localize([...t.path,`${S}.otherwise`],t.ancestors,t.schemas),{schema:B,id:P}=w._generate(e,R,n);r.push(B),s.push(`${S}.otherwise${P?`(${P})`:""}`);break}}if(l.break&&s.length>f)break}let a=s.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",a),!a)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[a])return{schema:this.$_temp.whens[a],id:a};let i=this;this._definition.generate&&(i=this._definition.generate(this,e,t,n));for(let o of r)i=i.concat(o);return this.$_root._tracer&&this.$_root._tracer._combine(i,[this,...r]),this.$_temp.whens[a]=i,{schema:i,id:a}}_inner(e,t,n={}){z(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);let r=this.clone();return(!r.$_terms[e]||n.override)&&(r.$_terms[e]=[]),n.single?r.$_terms[e].push(t):r.$_terms[e].push(...t),r.$_temp.ruleset=!1,r}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;let n=t.clone!==!1?this.clone():this;n._singleRules.delete(e);let r=[];for(let s=0;s<n._rules.length;++s){let a=n._rules[s];if(a.name===e&&!a.keep){n._inRuleset()&&s<n.$_temp.ruleset&&--n.$_temp.ruleset;continue}r.push(a)}return n._rules=r,n}_values(e,t){Tt.verifyFlat(e,t.slice(1,-1));let n=this.clone(),r=e[0]===Tt.symbols.override;if(r&&(e=e.slice(1)),!n[t]&&e.length?n[t]=new ah:r&&(n[t]=e.length?new ah:null,n.$_mutateRebuild()),!n[t])return n;r&&n[t].override();for(let s of e){z(s!==void 0,"Cannot call allow/valid/invalid with undefined"),z(s!==Tt.symbols.override,"Override must be the first value");let a=t==="_invalids"?"_valids":"_invalids";n[a]&&(n[a].remove(s),n[a].length||(z(t==="_valids"||!n._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),n[a]=null)),n[t].add(s,n._refs)}return n}};Zt.Base.prototype[Tt.symbols.any]={version:Tt.version,compile:sx.compile,root:"$_root"};Zt.Base.prototype.isImmutable=!0;Zt.Base.prototype.deny=Zt.Base.prototype.invalid;Zt.Base.prototype.disallow=Zt.Base.prototype.invalid;Zt.Base.prototype.equal=Zt.Base.prototype.valid;Zt.Base.prototype.exist=Zt.Base.prototype.required;Zt.Base.prototype.not=Zt.Base.prototype.invalid;Zt.Base.prototype.options=Zt.Base.prototype.prefs;Zt.Base.prototype.preferences=Zt.Base.prototype.prefs;J2.exports=new Zt.Base});var Ir=T((Ble,eM)=>{"use strict";var ih=Ve(),Aae=Z2(),wae=ct(),Eae=Fu();eM.exports=Aae.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return ih(typeof e=="function","Method must be a function"),ih(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:n}){try{return n(e,t)}catch(r){return t.error("any.custom",{error:r})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){ih(wae.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");let t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return ih(e&&typeof e=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate(e,t,{code:n,local:r}){return t.error(n,r)},args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=Eae.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(let n in t){let r=t[n];if(["examples","externals","metas","notes","tags"].includes(n)){for(let s of r)e=e[n.slice(0,-1)](s);continue}if(n==="alterations"){let s={};for(let{target:a,adjuster:i}of r)s[a]=i;e=e.alter(s);continue}if(n==="whens"){for(let s of r){let{ref:a,is:i,not:o,then:l,otherwise:u,concat:c}=s;c?e=e.concat(c):a?e=e.when(a,{is:i,not:o,then:l,otherwise:u,switch:s.switch,break:s.break}):e=e.when(i,{then:l,otherwise:u,break:s.break})}continue}if(n==="shared")for(let s of r)e=e.shared(s)}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})});var rM=T((Mle,nM)=>{"use strict";var Zo=Ve(),Oae=nh(),vae=Ir(),tM=ct(),Sae=Qo(),oh=Ea(),Tae=Oa(),Ku={};nM.exports=vae.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:Tae.toSibling}},args(e,...t){return t.length===1&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t)},validate(e,t){let{schema:n,error:r,state:s,prefs:a}=t;if(n._flags.match){let o=[],l=[];for(let c=0;c<n.$_terms.matches.length;++c){let f=n.$_terms.matches[c],m=s.nest(f.schema,`match.${c}`);m.snapshot();let g=f.schema.$_validate(e,m,a);g.errors?(l.push(g.errors),m.restore()):(o.push(g.value),m.commit())}if(o.length===0){let c={details:l.map(f=>oh.details(f,{override:!1}))};return{errors:r("alternatives.any",c)}}if(n._flags.match==="one")return o.length===1?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==n.$_terms.matches.length){let c={details:l.map(f=>oh.details(f,{override:!1}))};return{errors:r("alternatives.all",c)}}let u=c=>c.$_terms.matches.some(f=>f.schema.type==="object"||f.schema.type==="alternatives"&&u(f.schema));return u(n)?{value:o.reduce((c,f)=>Oae(c,f,{mergeArrays:!1}))}:{value:o[o.length-1]}}let i=[];for(let o=0;o<n.$_terms.matches.length;++o){let l=n.$_terms.matches[o];if(l.schema){let f=s.nest(l.schema,`match.${o}`);f.snapshot();let m=l.schema.$_validate(e,f,a);if(!m.errors)return f.commit(),m;f.restore(),i.push({schema:l.schema,reports:m.errors});continue}let u=l.ref?l.ref.resolve(e,s,a):e,c=l.is?[l]:l.switch;for(let f=0;f<c.length;++f){let m=c[f],{is:g,then:y,otherwise:w}=m,S=`match.${o}${l.switch?"."+f:""}`;if(g.$_match(u,s.nest(g,`${S}.is`),a)){if(y)return y.$_validate(e,s.nest(y,`${S}.then`),a)}else if(w)return w.$_validate(e,s.nest(w,`${S}.otherwise`),a)}}return Ku.errors(i,t)},rules:{conditional:{method(e,t){Zo(!this._flags._endedSwitch,"Unreachable condition"),Zo(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),Zo(t.break===void 0,"Cannot use break option with alternatives conditional");let n=this.clone(),r=Sae.when(n,e,t),s=r.is?[r]:r.switch;for(let a of s)if(a.then&&a.otherwise){n.$_setFlag("_endedSwitch",!0,{clone:!1});break}return n.$_terms.matches.push(r),n.$_mutateRebuild()}},match:{method(e){if(Zo(["any","one","all"].includes(e),"Invalid alternatives match mode",e),e!=="any")for(let t of this.$_terms.matches)Zo(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){Zo(e.length,"Missing alternative schemas"),tM.verifyFlat(e,"try"),Zo(!this._flags._endedSwitch,"Unreachable condition");let t=this.clone();for(let n of e)t.$_terms.matches.push({schema:t.$_compile(n)});return t.$_mutateRebuild()}}},overrides:{label(e){let t=this.$_parent("label",e),n=(r,s)=>s.path[0]!=="is"?r.label(e):void 0;return t.$_modify({each:n,ref:!1})}},rebuild(e){let t=n=>{tM.isSchema(n)&&n.type==="array"&&e.$_setFlag("_arrayItems",!0,{clone:!1})};e.$_modify({each:t})},manifest:{build(e,t){if(t.matches)for(let n of t.matches){let{schema:r,ref:s,is:a,not:i,then:o,otherwise:l}=n;r?e=e.try(r):s?e=e.conditional(s,{is:a,then:o,not:i,otherwise:l,switch:n.switch}):e=e.conditional(a,{then:o,otherwise:l})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}});Ku.errors=function(e,{error:t,state:n}){if(!e.length)return{errors:t("alternatives.any")};if(e.length===1)return{errors:e[0].reports};let r=new Set,s=[];for(let{reports:a,schema:i}of e){if(a.length>1)return Ku.unmatched(e,t);let o=a[0];if(!(o instanceof oh.Report))return Ku.unmatched(e,t);if(o.state.path.length!==n.path.length){s.push({type:i.type,report:o});continue}if(o.code==="any.only"){for(let c of o.local.valids)r.add(c);continue}let[l,u]=o.code.split(".");if(u!=="base"){s.push({type:i.type,report:o});continue}r.add(l)}return s.length?s.length===1?{errors:s[0].report}:Ku.unmatched(e,t):{errors:t("alternatives.types",{types:[...r]})}};Ku.unmatched=function(e,t){let n=[];for(let r of e)n.push(...r.reports);return{errors:t("alternatives.match",oh.details(n,{override:!1}))}}});var aM=T((Ule,sM)=>{"use strict";var Yf=Ve(),Rae=Lf(),Nae=zo(),Iae=Ir(),Cr=ct(),Cae=Qo(),gt={};sM.exports=Iae.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:n,prefs:r}){if(!Array.isArray(e))return;let s=t.$_getRule("sort");if(s)return gt.sort(t,e,s.args.options,n,r)}},validate(e,{schema:t,error:n}){if(!Array.isArray(e)){if(t._flags.single){let r=[e];return r[Cr.symbols.arraySingle]=!0,{value:r}}return{errors:n("array.base")}}if(!(!t.$_getRule("items")&&!t.$_terms.externals))return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});let t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:n,error:r},{schema:s}){let a=[e,...t.ancestors];for(let o=0;o<e.length;++o){let l=t.localize([...t.path,o],a,s);if(s.$_match(e[o],l,n))return e}let i=s._flags.label;return i?r("array.hasKnown",{patternLabel:i}):r("array.hasUnknown",null)},multi:!0},items:{method(...e){Cr.verifyFlat(e,"items");let t=this.$_addRule("items");for(let n=0;n<e.length;++n){let r=Cr.tryWithPath(()=>this.$_compile(e[n]),n,{append:!0});t.$_terms.items.push(r)}return t.$_mutateRebuild()},validate(e,{schema:t,error:n,state:r,prefs:s,errorsArray:a}){let i=t.$_terms._requireds.slice(),o=t.$_terms.ordered.slice(),l=[...t.$_terms._inclusions,...i],u=!e[Cr.symbols.arraySingle];delete e[Cr.symbols.arraySingle];let c=a(),f=e.length;for(let m=0;m<f;++m){let g=e[m],y=!1,w=!1,S=u?m:new Number(m),R=[...r.path,S];if(!t._flags.sparse&&g===void 0){if(c.push(n("array.sparse",{key:S,path:R,pos:m,value:void 0},r.localize(R))),s.abortEarly)return c;o.shift();continue}let B=[e,...r.ancestors];for(let U of t.$_terms._exclusions)if(U.$_match(g,r.localize(R,B,U),s,{presence:"ignore"})){if(c.push(n("array.excludes",{pos:m,value:g},r.localize(R))),s.abortEarly)return c;y=!0,o.shift();break}if(y)continue;if(t.$_terms.ordered.length){if(o.length){let U=o.shift(),F=U.$_validate(g,r.localize(R,B,U),s);if(F.errors){if(c.push(...F.errors),s.abortEarly)return c}else if(U._flags.result==="strip")gt.fastSplice(e,m),--m,--f;else if(!t._flags.sparse&&F.value===void 0){if(c.push(n("array.sparse",{key:S,path:R,pos:m,value:void 0},r.localize(R))),s.abortEarly)return c;continue}else e[m]=F.value;continue}else if(!t.$_terms.items.length){if(c.push(n("array.orderedLength",{pos:m,limit:t.$_terms.ordered.length})),s.abortEarly)return c;break}}let P=[],W=i.length;for(let U=0;U<W;++U){let F=r.localize(R,B,i[U]);F.snapshot();let q=i[U].$_validate(g,F,s);if(P[U]=q,!q.errors){if(F.commit(),e[m]=q.value,w=!0,gt.fastSplice(i,U),--U,--W,!t._flags.sparse&&q.value===void 0&&(c.push(n("array.sparse",{key:S,path:R,pos:m,value:void 0},r.localize(R))),s.abortEarly))return c;break}F.restore()}if(w)continue;let v=s.stripUnknown&&!!s.stripUnknown.arrays||!1;W=l.length;for(let U of l){let F,q=i.indexOf(U);if(q!==-1)F=P[q];else{let ee=r.localize(R,B,U);if(ee.snapshot(),F=U.$_validate(g,ee,s),!F.errors){ee.commit(),U._flags.result==="strip"?(gt.fastSplice(e,m),--m,--f):!t._flags.sparse&&F.value===void 0?(c.push(n("array.sparse",{key:S,path:R,pos:m,value:void 0},r.localize(R))),y=!0):e[m]=F.value,w=!0;break}ee.restore()}if(W===1){if(v){gt.fastSplice(e,m),--m,--f,w=!0;break}if(c.push(...F.errors),s.abortEarly)return c;y=!0;break}}if(!y&&(t.$_terms._inclusions.length||t.$_terms._requireds.length)&&!w){if(v){gt.fastSplice(e,m),--m,--f;continue}if(c.push(n("array.includes",{pos:m,value:g},r.localize(R))),s.abortEarly)return c}}return i.length&&gt.fillMissedErrors(t,c,i,e,r,s),o.length&&(gt.fillOrderedErrors(t,c,o,e,r,s),c.length||gt.fillDefault(o,e,r,s)),c.length?c:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:n},{name:r,operator:s,args:a}){return Cr.compare(e.length,n,s)?e:t.error("array."+r,{limit:a.limit,value:e})},args:[{name:"limit",ref:!0,assert:Cr.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){Cr.verifyFlat(e,"ordered");let t=this.$_addRule("items");for(let n=0;n<e.length;++n){let r=Cr.tryWithPath(()=>this.$_compile(e[n]),n,{append:!0});gt.validateSingle(r,t),t.$_mutateRegister(r),t.$_terms.ordered.push(r)}return t.$_mutateRebuild()}},single:{method(e){let t=e===void 0?!0:!!e;return Yf(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){Cr.assertOptions(e,["by","order"]);let t={order:e.order||"ascending"};return e.by&&(t.by=Cae.ref(e.by,{ancestor:0}),Yf(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:n,prefs:r,schema:s},{options:a}){let{value:i,errors:o}=gt.sort(s,e,a,n,r);if(o)return o;for(let l=0;l<e.length;++l)if(e[l]!==i[l])return t("array.sort",{order:a.order,by:a.by?a.by.key:"value"});return e},convert:!0},sparse:{method(e){let t=e===void 0?!0:!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){Yf(!e||typeof e=="function"||typeof e=="string","comparator must be a function or a string"),Cr.assertOptions(t,["ignoreUndefined","separator"]);let n={name:"unique",args:{options:t,comparator:e}};if(e)if(typeof e=="string"){let r=Cr.default(t.separator,".");n.path=r?e.split(r):[e]}else n.comparator=e;return this.$_addRule(n)},validate(e,{state:t,error:n,schema:r},{comparator:s,options:a},{comparator:i,path:o}){let l={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},u=i||Rae,c=a.ignoreUndefined;for(let f=0;f<e.length;++f){let m=o?Nae(e[f],o):e[f],g=i?l.custom:l[typeof m];if(Yf(g,"Failed to find unique map container for type",typeof m),g instanceof Map){let y=g.entries(),w;for(;!(w=y.next()).done;)if(u(w.value[0],m)){let S=t.localize([...t.path,f],[e,...t.ancestors]),R={pos:f,value:e[f],dupePos:w.value[1],dupeValue:e[w.value[1]]};return o&&(R.path=s),n("array.unique",R,S)}g.set(m,f)}else{if((!c||m!==void 0)&&g[m]!==void 0){let y={pos:f,value:e[f],dupePos:g[m],dupeValue:e[g[m]]};o&&(y.path=s);let w=t.localize([...t.path,f],[e,...t.ancestors]);return n("array.unique",y,w)}g[m]=f}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to(e,t){return new Set(e)}}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(let t of e.$_terms.items)gt.validateSingle(t,e),t._flags.presence==="required"?e.$_terms._requireds.push(t):t._flags.presence==="forbidden"?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(let t of e.$_terms.ordered)gt.validateSingle(t,e)},manifest:{build(e,t){return t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}});gt.fillMissedErrors=function(e,t,n,r,s,a){let i=[],o=0;for(let l of n){let u=l._flags.label;u?i.push(u):++o}i.length?o?t.push(e.$_createError("array.includesRequiredBoth",r,{knownMisses:i,unknownMisses:o},s,a)):t.push(e.$_createError("array.includesRequiredKnowns",r,{knownMisses:i},s,a)):t.push(e.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},s,a))};gt.fillOrderedErrors=function(e,t,n,r,s,a){let i=[];for(let o of n)o._flags.presence==="required"&&i.push(o);i.length&&gt.fillMissedErrors(e,t,i,r,s,a)};gt.fillDefault=function(e,t,n,r){let s=[],a=!0;for(let i=e.length-1;i>=0;--i){let o=e[i],l=[t,...n.ancestors],u=o.$_validate(void 0,n.localize(n.path,l,o),r).value;if(a){if(u===void 0)continue;a=!1}s.unshift(u)}s.length&&t.push(...s)};gt.fastSplice=function(e,t){let n=t;for(;n<e.length;)e[n++]=e[n];--e.length};gt.validateSingle=function(e,t){(e.type==="array"||e._flags._arrayItems)&&(Yf(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))};gt.sort=function(e,t,n,r,s){let a=n.order==="ascending"?1:-1,i=-1*a,o=a,l=(u,c)=>{let f=gt.compare(u,c,i,o);if(f!==null||(n.by&&(u=n.by.resolve(u,r,s),c=n.by.resolve(c,r,s)),f=gt.compare(u,c,i,o),f!==null))return f;let m=typeof u;if(m!==typeof c)throw e.$_createError("array.sort.mismatching",t,null,r,s);if(m!=="number"&&m!=="string")throw e.$_createError("array.sort.unsupported",t,{type:m},r,s);return m==="number"?(u-c)*a:u<c?i:o};try{return{value:t.slice().sort(l)}}catch(u){return{errors:u}}};gt.compare=function(e,t,n,r){return e===t?0:e===void 0?1:t===void 0?-1:e===null?r:t===null?n:null}});var cM=T((Dle,uM)=>{"use strict";var iM=Ve(),Bae=Ir(),oM=ct(),lM=nx(),ax={};ax.isBool=function(e){return typeof e=="boolean"};uM.exports=Bae.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if(typeof e!="boolean"){if(typeof e=="string"){let n=t._flags.sensitive?e:e.toLowerCase();e=n==="true"?!0:n==="false"?!1:e}return typeof e!="boolean"&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(t.$_terms.falsy&&t.$_terms.falsy.has(e,null,null,!t._flags.sensitive)?!1:e)),{value:e}}},validate(e,{error:t}){if(typeof e!="boolean")return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){oM.verifyFlat(e,"truthy");let t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new lM;for(let n=0;n<e.length;++n){let r=e[n];iM(r!==void 0,"Cannot call truthy with undefined"),t.$_terms.truthy.add(r)}return t}},falsy:{method(...e){oM.verifyFlat(e,"falsy");let t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new lM;for(let n=0;n<e.length;++n){let r=e[n];iM(r!==void 0,"Cannot call falsy with undefined"),t.$_terms.falsy.add(r)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:ax.isBool,to(e,t){return e?1:0}},string:{from:ax.isBool,to(e,t){return e?"true":"false"}}},manifest:{build(e,t){return t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})});var mM=T((Ple,dM)=>{"use strict";var fM=Ve(),Mae=Ir(),pM=ct(),Uae=vi(),es={};es.isDate=function(e){return e instanceof Date};dM.exports=Mae.extend({type:"date",coerce:{from:["number","string"],method(e,{schema:t}){return{value:es.parse(e,t._flags.format)||e}}},validate(e,{schema:t,error:n,prefs:r}){if(e instanceof Date&&!isNaN(e.getTime()))return;let s=t._flags.format;return!r.convert||!s||typeof e!="string"?{value:e,errors:n("date.base")}:{value:e,errors:n("date.format",{format:s})}},rules:{compare:{method:!1,validate(e,t,{date:n},{name:r,operator:s,args:a}){let i=n==="now"?Date.now():n.getTime();return pM.compare(e.getTime(),i,s)?e:t.error("date."+r,{limit:a.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>e==="now"?e:es.parse(e),assert:e=>e!==null,message:"must have a valid date format"}]},format:{method(e){return fM(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return fM(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:es.isDate,to(e,t){return e.getTime()}},string:{from:es.isDate,to(e,{prefs:t}){return Uae.date(e,t)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}});es.parse=function(e,t){if(e instanceof Date)return e;if(typeof e!="string"&&(isNaN(e)||!isFinite(e))||/^\s*$/.test(e))return null;if(t==="iso")return pM.isIsoDate(e)?es.date(e.toString()):null;let n=e;if(typeof e=="string"&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if(t==="javascript")return es.date(1*e);if(t==="unix")return es.date(1e3*e);if(typeof n=="string")return null}return es.date(e)};es.date=function(e){let t=new Date(e);return isNaN(t.getTime())?null:t}});var bM=T((Fle,_M)=>{"use strict";var lh=Ve(),yM=Cn(),gM=nh(),hM=zo(),uh={};_M.exports=function(e,t,n={}){if(lh(e&&typeof e=="object","Invalid defaults value: must be an object"),lh(!t||t===!0||typeof t=="object","Invalid source value: must be true, falsy or an object"),lh(typeof n=="object","Invalid options: must be an object"),!t)return null;if(n.shallow)return uh.applyToDefaultsWithShallow(e,t,n);let r=yM(e);if(t===!0)return r;let s=n.nullOverride!==void 0?n.nullOverride:!1;return gM(r,t,{nullOverride:s,mergeArrays:!1})};uh.applyToDefaultsWithShallow=function(e,t,n){let r=n.shallow;lh(Array.isArray(r),"Invalid keys");let s=new Map,a=t===!0?null:new Set;for(let l of r){l=Array.isArray(l)?l:l.split(".");let u=hM(e,l);u&&typeof u=="object"?s.set(u,a&&hM(t,l)||u):a&&a.add(l)}let i=yM(e,{},s);if(!a)return i;for(let l of a)uh.reachCopy(i,t,l);let o=n.nullOverride!==void 0?n.nullOverride:!1;return gM(i,t,{nullOverride:o,mergeArrays:!1})};uh.reachCopy=function(e,t,n){for(let a of n){if(!(a in t))return;let i=t[a];if(typeof i!="object"||i===null)return;t=i}let r=t,s=e;for(let a=0;a<n.length-1;++a){let i=n[a];typeof s[i]!="object"&&(s[i]={}),s=s[i]}s[n[n.length-1]]=r}});var AM=T(kM=>{"use strict";var el=Ve(),xM={};kM.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){t=t||{};let n=[].concat(t.before||[]),r=[].concat(t.after||[]),s=t.group||"?",a=t.sort||0;el(!n.includes(s),`Item cannot come before itself: ${s}`),el(!n.includes("?"),"Item cannot come before unassociated items"),el(!r.includes(s),`Item cannot come after itself: ${s}`),el(!r.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(let i of e){let o={seq:this._items.length,sort:a,before:n,after:r,group:s,node:i};this._items.push(o)}if(!t.manual){let i=this._sort();el(i,"item",s!=="?"?`added into group ${s}`:"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(let n of e)if(n)for(let r of n._items)this._items.push(Object.assign({},r));this._items.sort(xM.mergeSort);for(let n=0;n<this._items.length;++n)this._items[n].seq=n;let t=this._sort();return el(t,"merge created a dependencies error"),this.nodes}sort(){let e=this._sort();return el(e,"sort created a dependencies error"),this.nodes}_sort(){let e={},t=Object.create(null),n=Object.create(null);for(let o of this._items){let l=o.seq,u=o.group;n[u]=n[u]||[],n[u].push(l),e[l]=o.before;for(let c of o.after)t[c]=t[c]||[],t[c].push(l)}for(let o in e){let l=[];for(let u in e[o]){let c=e[o][u];n[c]=n[c]||[],l.push(...n[c])}e[o]=l}for(let o in t)if(n[o])for(let l of n[o])e[l].push(...t[o]);let r={};for(let o in e){let l=e[o];for(let u of l)r[u]=r[u]||[],r[u].push(o)}let s={},a=[];for(let o=0;o<this._items.length;++o){let l=o;if(r[o]){l=null;for(let u=0;u<this._items.length;++u){if(s[u]===!0)continue;r[u]||(r[u]=[]);let c=r[u].length,f=0;for(let m=0;m<c;++m)s[r[u][m]]&&++f;if(f===c){l=u;break}}}l!==null&&(s[l]=!0,a.push(l))}if(a.length!==this._items.length)return!1;let i={};for(let o of this._items)i[o.seq]=o;this._items=[],this.nodes=[];for(let o of a){let l=i[o];this.nodes.push(l.node),this._items.push(l)}return!0}};xM.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1});var ox=T((jle,OM)=>{"use strict";var Dae=bM(),Br=Ve(),wM=Cn(),Pae=AM(),Fae=Ir(),gn=ct(),ix=Qo(),Gae=Ea(),EM=Oa(),ch=vi(),pe={renameDefaults:{alias:!1,multiple:!1,override:!1}};OM.exports=Fae.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args(e,t){return e.keys(t)},validate(e,{schema:t,error:n,state:r,prefs:s}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:t.$_property("typeof")})};if(!t.$_terms.renames&&!t.$_terms.dependencies&&!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.externals)return;e=pe.clone(e,s);let a=[];if(t.$_terms.renames&&!pe.rename(t,e,r,s,a))return{value:e,errors:a};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:a};let i=new Set(Object.keys(e));if(t.$_terms.keys){let o=[e,...r.ancestors];for(let l of t.$_terms.keys){let u=l.key,c=e[u];i.delete(u);let f=r.localize([...r.path,u],o,l),m=l.schema.$_validate(c,f,s);if(m.errors){if(s.abortEarly)return{value:e,errors:m.errors};m.value!==void 0&&(e[u]=m.value),a.push(...m.errors)}else l.schema._flags.result==="strip"||m.value===void 0&&c!==void 0?delete e[u]:m.value!==void 0&&(e[u]=m.value)}}if(i.size||t._flags._hasPatternMatch){let o=pe.unknown(t,e,i,a,r,s);if(o)return o}if(t.$_terms.dependencies)for(let o of t.$_terms.dependencies){if(o.key!==null&&pe.isPresent(o.options)(o.key.resolve(e,r,s,null,{shadow:!1}))===!1)continue;let l=pe.dependencies[o.rel](t,o,e,r,s);if(l){let u=t.$_createError(l.code,e,l.context,r,s);if(s.abortEarly)return{value:e,errors:u};a.push(u)}}return{value:e,errors:a}},rules:{and:{method(...e){return gn.verifyFlat(e,"and"),pe.dependency(this,"and",null,e)}},append:{method(e){return e==null||Object.keys(e).length===0?this:this.keys(e)}},assert:{method(e,t,n){ch.isTemplate(e)||(e=ix.ref(e)),Br(n===void 0||typeof n=="string","Message must be a string"),t=this.$_compile(t,{appendPath:!0});let r=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:n}});return r.$_mutateRegister(e),r.$_mutateRegister(t),r},validate(e,{error:t,prefs:n,state:r},{subject:s,schema:a,message:i}){let o=s.resolve(e,r,n),l=EM.isRef(s)?s.absolute(r):[];return a.$_match(o,r.localize(l,[e,...r.ancestors],a),n)?e:t("object.assert",{subject:s,message:i})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return Br(typeof e=="function","constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate(e,t,{constructor:n,name:r}){return e instanceof n?e:t.error("object.instance",{type:r,value:e})},args:["constructor","name"]},keys:{method(e){Br(e===void 0||typeof e=="object","Object schema must be a valid object"),Br(!gn.isSchema(e),"Object schema cannot be a joi schema");let t=this.clone();if(!e)t.$_terms.keys=null;else if(!Object.keys(e).length)t.$_terms.keys=new pe.Keys;else{t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(n=>!e.hasOwnProperty(n.key)):new pe.Keys;for(let n in e)gn.tryWithPath(()=>t.$_terms.keys.push({key:n,schema:this.$_compile(e[n])}),n)}return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:n},{name:r,operator:s,args:a}){return gn.compare(Object.keys(e).length,n,s)?e:t.error("object."+r,{limit:a.limit,value:e})},args:[{name:"limit",ref:!0,assert:gn.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return gn.verifyFlat(e,"nand"),pe.dependency(this,"nand",null,e)}},or:{method(...e){return gn.verifyFlat(e,"or"),pe.dependency(this,"or",null,e)}},oxor:{method(...e){return pe.dependency(this,"oxor",null,e)}},pattern:{method(e,t,n={}){let r=e instanceof RegExp;r||(e=this.$_compile(e,{appendPath:!0})),Br(t!==void 0,"Invalid rule"),gn.assertOptions(n,["fallthrough","matches"]),r&&Br(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});let s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];let a={[r?"regex":"schema"]:e,rule:t};return n.matches&&(a.matches=this.$_compile(n.matches),a.matches.type!=="array"&&(a.matches=a.matches.$_root.array().items(a.matches)),s.$_mutateRegister(a.matches),s.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(a.fallthrough=!0),s.$_terms.patterns.push(a),s.$_mutateRegister(t),s}},ref:{method(){return this.$_addRule("ref")},validate(e,t){return EM.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method(){return this.$_addRule("regex")},validate(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method(e,t,n={}){Br(typeof e=="string"||e instanceof RegExp,"Rename missing the from argument"),Br(typeof t=="string"||t instanceof ch,"Invalid rename to argument"),Br(t!==e,"Cannot rename key to same name:",e),gn.assertOptions(n,["alias","ignoreUndefined","override","multiple"]);let r=this.clone();r.$_terms.renames=r.$_terms.renames||[];for(let s of r.$_terms.renames)Br(s.from!==e,"Cannot rename the same key multiple times");return t instanceof ch&&r.$_mutateRegister(t),r.$_terms.renames.push({from:e,to:t,options:Dae(pe.renameDefaults,n)}),r}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate(e,t,{type:n}){return gn.isSchema(e)&&(n==="any"||e.type===n)?e:t.error("object.schema",{type:n})}},unknown:{method(e){return this.$_setFlag("unknown",e!==!1)}},with:{method(e,t,n={}){return pe.dependency(this,"with",e,t,n)}},without:{method(e,t,n={}){return pe.dependency(this,"without",e,t,n)}},xor:{method(...e){return gn.verifyFlat(e,"xor"),pe.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return e===void 0&&(e=gn.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){let t=new Pae.Sorter;for(let n of e.$_terms.keys)gn.tryWithPath(()=>t.add(n,{after:n.schema.$_rootReferences(),group:n.key}),n.key);e.$_terms.keys=new pe.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(let{rel:n,key:r=null,peers:s,options:a}of t.dependencies)e=pe.dependency(e,n,r,s,a);if(t.patterns)for(let{regex:n,schema:r,rule:s,fallthrough:a,matches:i}of t.patterns)e=e.pattern(n||r,s,{fallthrough:a,matches:i});if(t.renames)for(let{from:n,to:r,options:s}of t.renames)e=e.rename(n,r,s);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}});pe.clone=function(e,t){if(typeof e=="object"){if(t.nonEnumerables)return wM(e,{shallow:!0});let r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}let n=function(...r){return e.apply(this,r)};return n.prototype=wM(e.prototype),Object.defineProperty(n,"name",{value:e.name,writable:!1}),Object.defineProperty(n,"length",{value:e.length,writable:!1}),Object.assign(n,e),n};pe.dependency=function(e,t,n,r,s){Br(n===null||typeof n=="string",t,"key must be a strings"),s||(s=r.length>1&&typeof r[r.length-1]=="object"?r.pop():{}),gn.assertOptions(s,["separator","isPresent"]),r=[].concat(r);let a=gn.default(s.separator,"."),i=[];for(let l of r)Br(typeof l=="string",t,"peers must be strings"),i.push(ix.ref(l,{separator:a,ancestor:0,prefix:!1}));n!==null&&(n=ix.ref(n,{separator:a,ancestor:0,prefix:!1}));let o=e.clone();return o.$_terms.dependencies=o.$_terms.dependencies||[],o.$_terms.dependencies.push(new pe.Dependency(t,n,i,r,s)),o};pe.dependencies={and(e,t,n,r,s){let a=[],i=[],o=t.peers.length,l=pe.isPresent(t.options);for(let u of t.peers)l(u.resolve(n,r,s,null,{shadow:!1}))===!1?a.push(u.key):i.push(u.key);if(a.length!==o&&i.length!==o)return{code:"object.and",context:{present:i,presentWithLabels:pe.keysToLabels(e,i),missing:a,missingWithLabels:pe.keysToLabels(e,a)}}},nand(e,t,n,r,s){let a=[],i=pe.isPresent(t.options);for(let u of t.peers)i(u.resolve(n,r,s,null,{shadow:!1}))&&a.push(u.key);if(a.length!==t.peers.length)return;let o=t.paths[0],l=t.paths.slice(1);return{code:"object.nand",context:{main:o,mainWithLabel:pe.keysToLabels(e,o),peers:l,peersWithLabels:pe.keysToLabels(e,l)}}},or(e,t,n,r,s){let a=pe.isPresent(t.options);for(let i of t.peers)if(a(i.resolve(n,r,s,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:pe.keysToLabels(e,t.paths)}}},oxor(e,t,n,r,s){let a=[],i=pe.isPresent(t.options);for(let l of t.peers)i(l.resolve(n,r,s,null,{shadow:!1}))&&a.push(l.key);if(!a.length||a.length===1)return;let o={peers:t.paths,peersWithLabels:pe.keysToLabels(e,t.paths)};return o.present=a,o.presentWithLabels=pe.keysToLabels(e,a),{code:"object.oxor",context:o}},with(e,t,n,r,s){let a=pe.isPresent(t.options);for(let i of t.peers)if(a(i.resolve(n,r,s,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:t.key.key,mainWithLabel:pe.keysToLabels(e,t.key.key),peer:i.key,peerWithLabel:pe.keysToLabels(e,i.key)}}},without(e,t,n,r,s){let a=pe.isPresent(t.options);for(let i of t.peers)if(a(i.resolve(n,r,s,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:pe.keysToLabels(e,t.key.key),peer:i.key,peerWithLabel:pe.keysToLabels(e,i.key)}}},xor(e,t,n,r,s){let a=[],i=pe.isPresent(t.options);for(let l of t.peers)i(l.resolve(n,r,s,null,{shadow:!1}))&&a.push(l.key);if(a.length===1)return;let o={peers:t.paths,peersWithLabels:pe.keysToLabels(e,t.paths)};return a.length===0?{code:"object.missing",context:o}:(o.present=a,o.presentWithLabels=pe.keysToLabels(e,a),{code:"object.xor",context:o})}};pe.keysToLabels=function(e,t){return Array.isArray(t)?t.map(n=>e.$_mapLabels(n)):e.$_mapLabels(t)};pe.isPresent=function(e){return typeof e.isPresent=="function"?e.isPresent:t=>t!==void 0};pe.rename=function(e,t,n,r,s){let a={};for(let i of e.$_terms.renames){let o=[],l=typeof i.from!="string";if(!l)Object.prototype.hasOwnProperty.call(t,i.from)&&(t[i.from]!==void 0||!i.options.ignoreUndefined)&&o.push(i);else for(let u in t){if(t[u]===void 0&&i.options.ignoreUndefined||u===i.to)continue;let c=i.from.exec(u);c&&o.push({from:u,to:i.to,match:c})}for(let u of o){let c=u.from,f=u.to;if(f instanceof ch&&(f=f.render(t,n,r,u.match)),c!==f){if(!i.options.multiple&&a[f]&&(s.push(e.$_createError("object.rename.multiple",t,{from:c,to:f,pattern:l},n,r)),r.abortEarly)||Object.prototype.hasOwnProperty.call(t,f)&&!i.options.override&&!a[f]&&(s.push(e.$_createError("object.rename.override",t,{from:c,to:f,pattern:l},n,r)),r.abortEarly))return!1;t[c]===void 0?delete t[f]:t[f]=t[c],a[f]=!0,i.options.alias||delete t[c]}}}return!0};pe.unknown=function(e,t,n,r,s,a){if(e.$_terms.patterns){let o=!1,l=e.$_terms.patterns.map(c=>{if(c.matches)return o=!0,[]}),u=[t,...s.ancestors];for(let c of n){let f=t[c],m=[...s.path,c];for(let g=0;g<e.$_terms.patterns.length;++g){let y=e.$_terms.patterns[g];if(y.regex){let R=y.regex.test(c);if(s.mainstay.tracer.debug(s,"rule",`pattern.${g}`,R?"pass":"error"),!R)continue}else if(!y.schema.$_match(c,s.nest(y.schema,`pattern.${g}`),a))continue;n.delete(c);let w=s.localize(m,u,{schema:y.rule,key:c}),S=y.rule.$_validate(f,w,a);if(S.errors){if(a.abortEarly)return{value:t,errors:S.errors};r.push(...S.errors)}if(y.matches&&l[g].push(c),t[c]=S.value,!y.fallthrough)break}}if(o)for(let c=0;c<l.length;++c){let f=l[c];if(!f)continue;let m=e.$_terms.patterns[c].matches,g=s.localize(s.path,u,m),y=m.$_validate(f,g,a);if(y.errors){let w=Gae.details(y.errors,{override:!1});w.matches=f;let S=e.$_createError("object.pattern.match",t,w,s,a);if(a.abortEarly)return{value:t,errors:S};r.push(S)}}}if(!n.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(a.stripUnknown&&!e._flags.unknown||a.skipFunctions){let o=a.stripUnknown?a.stripUnknown===!0?!0:!!a.stripUnknown.objects:!1;for(let l of n)o?(delete t[l],n.delete(l)):typeof t[l]=="function"&&n.delete(l)}if(!gn.default(e._flags.unknown,a.allowUnknown))for(let o of n){let l=s.localize([...s.path,o],[]),u=e.$_createError("object.unknown",t[o],{child:o},l,a,{flags:!1});if(a.abortEarly)return{value:t,errors:u};r.push(u)}};pe.Dependency=class{constructor(e,t,n,r,s){this.rel=e,this.key=t,this.peers=n,this.paths=r,this.options=s}describe(){let e={rel:this.rel,peers:this.paths};return this.key!==null&&(e.key=this.key.key),this.peers[0].separator!=="."&&(e.options={...e.options,separator:this.peers[0].separator}),this.options.isPresent&&(e.options={...e.options,isPresent:this.options.isPresent}),e}};pe.Keys=class extends Array{concat(e){let t=this.slice(),n=new Map;for(let r=0;r<t.length;++r)n.set(t[r].key,r);for(let r of e){let s=r.key,a=n.get(s);a!==void 0?t[a]={key:s,schema:t[a].schema.concat(r.schema)}:t.push(r)}return t}}});var SM=T((Vle,vM)=>{"use strict";var lx=Ve(),$ae=ox();vM.exports=$ae.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return lx(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate(e,t,{n}){return e.length===n?e:t.error("function.arity",{n})}},class:{method(){return this.$_addRule("class")},validate(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method(e){return lx(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate(e,t,{n}){return e.length>=n?e:t.error("function.minArity",{n})}},maxArity:{method(e){return lx(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate(e,t,{n}){return e.length<=n?e:t.error("function.maxArity",{n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})});var RM=T((Hle,TM)=>{"use strict";var Ra=Ve(),jae=Ir(),Kae=ct(),qae=Qo(),Vae=Ea(),Na={};TM.exports=jae.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args(e,t){return e.ref(t)},validate(e,{schema:t,state:n,prefs:r}){Ra(t.$_terms.link,"Uninitialized link schema");let s=Na.generate(t,e,n,r),a=t.$_terms.link[0].ref;return s.$_validate(e,n.nest(s,`link:${a.display}:${s.type}`),r)},generate(e,t,n,r){return Na.generate(e,t,n,r)},rules:{ref:{method(e){Ra(!this.$_terms.link,"Cannot reinitialize schema"),e=qae.ref(e),Ra(e.type==="value"||e.type==="local","Invalid reference type:",e.type),Ra(e.type==="local"||e.ancestor==="root"||e.ancestor>0,"Link cannot reference itself");let t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){Ra(this.$_terms.link,"Uninitialized link schema"),Ra(Kae.isSchema(e),"Invalid schema object"),Ra(e.type!=="link","Cannot merge type link with another link");let t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build(e,t){return Ra(t.link,"Invalid link description missing link"),e.ref(t.link)}}});Na.generate=function(e,t,n,r){let s=n.mainstay.links.get(e);if(s)return s._generate(t,n,r).schema;let a=e.$_terms.link[0].ref,{perspective:i,path:o}=Na.perspective(a,n);Na.assert(i,"which is outside of schema boundaries",a,e,n,r);try{s=o.length?i.$_reach(o):i}catch{Na.assert(!1,"to non-existing schema",a,e,n,r)}return Na.assert(s.type!=="link","which is another link",a,e,n,r),e._flags.relative||n.mainstay.links.set(e,s),s._generate(t,n,r).schema};Na.perspective=function(e,t){if(e.type==="local"){for(let{schema:n,key:r}of t.schemas){if((n._flags.id||r)===e.path[0])return{perspective:n,path:e.path.slice(1)};if(n.$_terms.shared){for(let a of n.$_terms.shared)if(a._flags.id===e.path[0])return{perspective:a,path:e.path.slice(1)}}}return{perspective:null,path:null}}return e.ancestor==="root"?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}};Na.assert=function(e,t,n,r,s,a){e||Ra(!1,`"${Vae.label(r._flags,s,a)}" contains link reference "${n.display}" ${t}`)}});var IM=T((Xle,NM)=>{"use strict";var ux=Ve(),Hae=Ir(),cx=ct(),ts={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};NM.exports=Hae.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:n}){if(!e.match(ts.numberRx))return;e=e.trim();let s={value:parseFloat(e)};if(s.value===0&&(s.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(ts.extractSignificantDigits(e)!==ts.extractSignificantDigits(String(s.value)))return s.errors=n("number.unsafe"),s}else{let a=s.value.toString();if(a.match(/e/i))return s;if(a!==ts.normalizeDecimal(e))return s.errors=n("number.unsafe"),s}return s}},validate(e,{schema:t,error:n,prefs:r}){if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!cx.isNumber(e))return{value:e,errors:n("number.base")};let s={value:e};if(r.convert){let a=t.$_getRule("precision");if(a){let i=Math.pow(10,a.args.limit);s.value=Math.round(s.value*i)/i}}return s.value===0&&(s.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(s.errors=n("number.unsafe")),s},rules:{compare:{method:!1,validate(e,t,{limit:n},{name:r,operator:s,args:a}){return cx.compare(e,n,s)?e:t.error("number."+r,{limit:a.limit,value:e})},args:[{name:"limit",ref:!0,assert:cx.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate(e,t){return Math.trunc(e)-e===0?e:t.error("number.integer")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate(e,t,{base:n},r){return e*(1/n)%1===0?e:t.error("number.multiple",{multiple:r.args.base,value:e})},args:[{name:"base",ref:!0,assert:e=>typeof e=="number"&&isFinite(e)&&e>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method(){return this.sign("positive")}},precision:{method(e){return ux(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:n}){let r=e.toString().match(ts.precisionRx);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method(e){return ux(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate(e,t,{sign:n}){return n==="negative"&&e<0||n==="positive"&&e>0?e:t.error(`number.${n}`)}},unsafe:{method(e=!0){return ux(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>typeof e=="number",to(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}});ts.extractSignificantDigits=function(e){return e.replace(ts.exponentialPartRegex,"").replace(ts.dotRegex,"").replace(ts.trailingZerosRegex,"").replace(ts.leadingSignAndZerosRegex,"")};ts.normalizeDecimal=function(e){return e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2"),e.includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e==="-0"?"0":e}});var BM=T((Lle,CM)=>{"use strict";var Xae=ox();CM.exports=Xae.extend({type:"object",cast:{map:{from:e=>e&&typeof e=="object",to(e,t){return new Map(Object.entries(e))}}}})});var fx=T(fh=>{"use strict";fh.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"};fh.code=function(e){return{code:e,error:fh.codes[e]}}});var px=T(ph=>{"use strict";var Lae=require("url"),ns=fx(),Ri={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:Lae.URL||URL};ph.analyze=function(e,t={}){if(!e)return ns.code("DOMAIN_NON_EMPTY_STRING");if(typeof e!="string")throw new Error("Invalid input: domain must be a string");if(e.length>256)return ns.code("DOMAIN_TOO_LONG");if(!!Ri.nonAsciiRx.test(e)){if(t.allowUnicode===!1)return ns.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(Ri.domainControlRx.test(e))return ns.code("DOMAIN_INVALID_CHARS");e=Ri.punycode(e),t.allowFullyQualified&&e[e.length-1]==="."&&(e=e.slice(0,-1));let r=t.minDomainSegments||Ri.minDomainSegments,s=e.split(".");if(s.length<r)return ns.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&s.length>t.maxDomainSegments)return ns.code("DOMAIN_SEGMENTS_COUNT_MAX");let a=t.tlds;if(a){let i=s[s.length-1].toLowerCase();if(a.deny&&a.deny.has(i)||a.allow&&!a.allow.has(i))return ns.code("DOMAIN_FORBIDDEN_TLDS")}for(let i=0;i<s.length;++i){let o=s[i];if(!o.length)return ns.code("DOMAIN_EMPTY_SEGMENT");if(o.length>63)return ns.code("DOMAIN_LONG_SEGMENT");if(i<s.length-1){if(!Ri.domainSegmentRx.test(o))return ns.code("DOMAIN_INVALID_CHARS")}else if(!Ri.tldSegmentRx.test(o))return ns.code("DOMAIN_INVALID_TLDS_CHARS")}return null};ph.isValid=function(e,t){return!ph.analyze(e,t)};Ri.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new Ri.URL(`http://${e}`).host}catch{return e}}});var MM=T(dx=>{"use strict";var zae=require("util"),Wae=px(),Ps=fx(),Mn={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(zae.TextEncoder||TextEncoder)};dx.analyze=function(e,t){return Mn.email(e,t)};dx.isValid=function(e,t){return!Mn.email(e,t)};Mn.email=function(e,t={}){if(typeof e!="string")throw new Error("Invalid input: email must be a string");if(!e)return Ps.code("EMPTY_STRING");let n=!Mn.nonAsciiRx.test(e);if(!n){if(t.allowUnicode===!1)return Ps.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}let r=e.split("@");if(r.length!==2)return r.length>2?Ps.code("MULTIPLE_AT_CHAR"):Ps.code("MISSING_AT_CHAR");let[s,a]=r;if(!s)return Ps.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return Ps.code("ADDRESS_TOO_LONG");if(Mn.encoder.encode(s).length>64)return Ps.code("LOCAL_TOO_LONG")}return Mn.local(s,n)||Wae.analyze(a,t)};Mn.local=function(e,t){let n=e.split(".");for(let r of n){if(!r.length)return Ps.code("EMPTY_LOCAL_SEGMENT");if(t){if(!Mn.atextRx.test(r))return Ps.code("INVALID_LOCAL_CHARS");continue}for(let s of r){if(Mn.atextRx.test(s))continue;let a=Mn.binary(s);if(!Mn.atomRx.test(a))return Ps.code("INVALID_LOCAL_CHARS")}}};Mn.binary=function(e){return Array.from(Mn.encoder.encode(e)).map(t=>String.fromCharCode(t)).join("")};Mn.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/;Mn.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))});var DM=T((Qle,UM)=>{"use strict";UM.exports=function(...e){try{return JSON.stringify(...e)}catch(t){return"[Cannot display object: "+t.message+"]"}}});var GM=T((PM,FM)=>{"use strict";var Yae=DM();FM.exports=class extends Error{constructor(e){let t=e.filter(n=>n!=="").map(n=>typeof n=="string"?n:n instanceof Error?n.message:Yae(n));super(t.join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,PM.assert)}}});var mx=T((Zle,$M)=>{"use strict";var Qae=GM();$M.exports=function(e,...t){if(!e)throw t.length===1&&t[0]instanceof Error?t[0]:new Qae(t)}});var KM=T((eue,jM)=>{"use strict";jM.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}});var yx=T(hx=>{"use strict";var dh=mx(),Jae=KM(),un={};un.generate=function(){let e={},t="\\dA-Fa-f",n="["+t+"]",r="\\w-\\.~",s="!\\$&'\\(\\)\\*\\+,;=",a="%"+t,i=r+a+s+":@",o="["+i+"]",l="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+l+"\\.){3}"+l;let u=n+"{1,4}",c="(?:"+u+":"+u+"|"+e.ipv4address+")",f="(?:"+u+":){6}"+c,m="::(?:"+u+":){5}"+c,g="(?:"+u+")?::(?:"+u+":){4}"+c,y="(?:(?:"+u+":){0,1}"+u+")?::(?:"+u+":){3}"+c,w="(?:(?:"+u+":){0,2}"+u+")?::(?:"+u+":){2}"+c,S="(?:(?:"+u+":){0,3}"+u+")?::"+u+":"+c,R="(?:(?:"+u+":){0,4}"+u+")?::"+c,B="(?:(?:"+u+":){0,5}"+u+")?::"+u,P="(?:(?:"+u+":){0,6}"+u+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+f+"|"+m+"|"+g+"|"+y+"|"+w+"|"+S+"|"+R+"|"+B+"|"+P+")",e.ipvFuture="v"+n+"+\\.["+r+s+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);let W="["+r+a+s+":]*",v="\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]",U="["+r+a+s+"]{1,255}",F="(?:"+v+"|"+e.ipv4address+"|"+U+")",q="\\d*",ee="(?:"+W+"@)?"+F+"(?::"+q+")?",L="(?:"+W+"@)?("+F+")(?::"+q+")?",_t=o+"*",Yn=o+"+",Mr="["+r+a+s+"@]+",Dn="",$="(?:\\/"+_t+")*",G="\\/(?:"+Yn+$+")?",te=Yn+$,J=Mr+$,ne="(?:\\/\\/\\/"+_t+$+")";return e.hierPart="(?:(?:\\/\\/"+ee+$+")|"+G+"|"+te+"|"+ne+")",e.hierPartCapture="(?:(?:\\/\\/"+L+$+")|"+G+"|"+te+")",e.relativeRef="(?:(?:\\/\\/"+ee+$+")|"+G+"|"+J+"|"+Dn+")",e.relativeRefCapture="(?:(?:\\/\\/"+L+$+")|"+G+"|"+J+"|"+Dn+")",e.query="["+i+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+i+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+i+"\\/\\?]*",e};un.rfc3986=un.generate();hx.ip={v4Cidr:un.rfc3986.ipv4Cidr,v6Cidr:un.rfc3986.ipv6Cidr,ipv4:un.rfc3986.ipv4address,ipv6:un.rfc3986.ipv6address,ipvfuture:un.rfc3986.ipvFuture};un.createRegex=function(e){let t=un.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return un.wrap(s+r);let a="";if(e.scheme){dh(e.scheme instanceof RegExp||typeof e.scheme=="string"||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");let u=[].concat(e.scheme);dh(u.length>=1,"scheme must have at least 1 scheme specified");let c=[];for(let f=0;f<u.length;++f){let m=u[f];dh(m instanceof RegExp||typeof m=="string","scheme at position "+f+" must be a RegExp or String"),m instanceof RegExp?c.push(m.source.toString()):(dh(t.schemeRegex.test(m),"scheme at position "+f+" must be a valid scheme"),c.push(Jae(m)))}a=c.join("|")}let o="(?:"+(a?"(?:"+a+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",l=e.allowRelative?"(?:"+o+"|"+s+")":o;return un.wrap(l+r,a)};un.wrap=function(e,t){return e=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${e}`,{raw:e,regex:new RegExp(`^${e}$`),scheme:t}};un.uriRegex=un.createRegex({});hx.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?un.createRegex(e):un.uriRegex}});var VM=T(qM=>{"use strict";var qu=mx(),Qf=yx();qM.regex=function(e={}){qu(e.cidr===void 0||typeof e.cidr=="string","options.cidr must be a string");let t=e.cidr?e.cidr.toLowerCase():"optional";qu(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),qu(e.version===void 0||typeof e.version=="string"||Array.isArray(e.version),"options.version must be a string or an array of string");let n=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(n)||(n=[n]),qu(n.length>=1,"options.version must have at least 1 version specified");for(let i=0;i<n.length;++i)qu(typeof n[i]=="string","options.version must only contain strings"),n[i]=n[i].toLowerCase(),qu(["ipv4","ipv6","ipvfuture"].includes(n[i]),"options.version contains unknown version "+n[i]+" - must be one of ipv4, ipv6, ipvfuture");n=Array.from(new Set(n));let s=`(?:${n.map(i=>{if(t==="forbidden")return Qf.ip[i];let o=`\\/${i==="ipv4"?Qf.ip.v4Cidr:Qf.ip.v6Cidr}`;return t==="required"?`${Qf.ip[i]}${o}`:`${Qf.ip[i]}(?:${o})?`}).join("|")})`,a=new RegExp(`^${s}$`);return{cidr:t,versions:n,regex:a,raw:s}}});var XM=T((rue,HM)=>{"use strict";HM.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}});var WM=T((sue,zM)=>{"use strict";var LM={};LM.tlds=["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADAC","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMAZON","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUGATTI","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANCERRESEARCH","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CASA","CASE","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CPA","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ET","ETISALAT","EU","EUROVISION","EUS","EVENTS","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","JAGUAR","JAVA","JCB","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LK","LLC","LLP","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUSIC","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NAGOYA","NAME","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","RACING","RADIO","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIL","RIO","RIP","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPA","SPACE","SPORT","SPOT","SR","SRL","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWISS","SX","SY","SYDNEY","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4DBRK0CE","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CCKWCXETD","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ480N2RG","XN--JLQ61U9W7B","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAKC7DVF","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBCPQ6GPA1A","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PGBS0DH","XN--PSSY2U","XN--Q7CE6A","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"];zM.exports=new Set(LM.tlds.map(e=>e.toLowerCase()))});var eU=T((aue,ZM)=>{"use strict";var Qe=Ve(),mh=px(),Zae=MM(),JM=VM(),YM=XM(),QM=WM(),eie=yx(),tie=Ir(),Un=ct(),He={tlds:QM instanceof Set?{tlds:{allow:QM,deny:null}}:!1,base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:JM.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};ZM.exports=tie.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:n,prefs:r}){let s=t.$_getRule("normalize");s&&(e=e.normalize(s.args.form));let a=t.$_getRule("case");a&&(e=a.args.direction==="upper"?e.toLocaleUpperCase():e.toLocaleLowerCase());let i=t.$_getRule("trim");if(i&&i.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(let l of t.$_terms.replacements)e=e.replace(l.pattern,l.replacement);let o=t.$_getRule("hex");if(o&&o.args.options.byteAligned&&e.length%2!==0&&(e=`0${e}`),t.$_getRule("isoDate")){let l=He.isoDate(e);l&&(e=l)}if(t._flags.truncate){let l=t.$_getRule("max");if(l){let u=l.args.limit;if(Un.isResolvable(u)&&(u=u.resolve(e,n,r),!Un.limit(u)))return{value:e,errors:t.$_createError("any.ref",u,{ref:l.args.limit,arg:"limit",reason:"must be a positive integer"},n,r)};e=e.slice(0,u)}}return{value:e}}},validate(e,{schema:t,error:n}){if(typeof e!="string")return{value:e,errors:n("string.base")};if(e===""){let r=t.$_getRule("min");return r&&r.args.limit===0?void 0:{value:e,errors:n("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method(e={}){return Un.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},Qe(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),Qe(typeof e.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate(e,t,{options:n}){return He.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")}},case:{method(e){return Qe(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate(e,t,{direction:n}){return n==="lower"&&e===e.toLocaleLowerCase()||n==="upper"&&e===e.toLocaleUpperCase()?e:t.error(`string.${n}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let n=e.length,r=0,s=1;for(;n--;){let a=e.charAt(n)*s;r=r+(a-(a>9)*9),s=s^3}return r>0&&r%10===0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return Un.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},Qe(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:n}){let r=e.match(He.dataUriRegex);return r&&(!r[2]||r[2]!=="base64"||He.base64Regex[n.paddingRequired].false.test(r[3]))?e:t.error("string.dataUri")}},domain:{method(e){e&&Un.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let t=He.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate(e,t,n,{address:r}){return mh.isValid(e,r)?e:t.error("string.domain")}},email:{method(e={}){Un.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),Qe(e.multiple===void 0||typeof e.multiple=="boolean","multiple option must be an boolean");let t=He.addressOptions(e),n=new RegExp(`\\s*[${e.separator?YM(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:n,address:t})},validate(e,t,{options:n},{regex:r,address:s}){let a=n.multiple?e.split(r):[e],i=[];for(let o of a)Zae.isValid(o,s)||i.push(o);return i.length?t.error("string.email",{value:e,invalids:i}):e}},guid:{alias:"uuid",method(e={}){Un.assertOptions(e,["version","separator"]);let t="";if(e.version){let s=[].concat(e.version);Qe(s.length>=1,"version must have at least 1 valid version specified");let a=new Set;for(let i=0;i<s.length;++i){let o=s[i];Qe(typeof o=="string","version at position "+i+" must be a string");let l=He.guidVersions[o.toLowerCase()];Qe(l,"version at position "+i+" must be one of "+Object.keys(He.guidVersions).join(", ")),Qe(!a.has(l),"version at position "+i+" must not be a duplicate"),t+=l,a.add(l)}}Qe(He.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');let n=e.separator===void 0?"[:-]?":e.separator===!0?"[:-]":e.separator===!1?"[]?":`\\${e.separator}`,r=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${n})[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:r})},validate(e,t,n,{regex:r}){let s=r.exec(e);return!s||He.guidBrackets[s[1]]!==s[s.length-1]?t.error("string.guid"):e}},hex:{method(e={}){return Un.assertOptions(e,["byteAligned"]),e={byteAligned:!1,...e},Qe(typeof e.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate(e,t,{options:n}){return He.hexRegex.test(e)?n.byteAligned&&e.length%2!==0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate(e,t){return mh.isValid(e,{minDomainSegments:1})||He.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){Un.assertOptions(e,["cidr","version"]);let{cidr:t,versions:n,regex:r}=JM.regex(e),s=e.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:s}},regex:r})},validate(e,t,{options:n},{regex:r}){return r.test(e)?e:n.version?t.error("string.ipVersion",{value:e,cidr:n.cidr,version:n.version}):t.error("string.ip",{value:e,cidr:n.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(e,{error:t}){return He.isoDate(e)?e:t("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate(e,t){return He.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method(e,t){return He.length(this,"length",e,"=",t)},validate(e,t,{limit:n,encoding:r},{name:s,operator:a,args:i}){let o=r?Buffer&&Buffer.byteLength(e,r):e.length;return Un.compare(o,n,a)?e:t.error("string."+s,{limit:i.limit,value:e,encoding:r})},args:[{name:"limit",ref:!0,assert:Un.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return He.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return He.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return Qe(He.normalizationForms.includes(e),"normalization form must be one of "+He.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate(e,{error:t},{form:n}){return e===e.normalize(n)?e:t("string.normalize",{value:e,form:n})},convert:!0},pattern:{alias:"regex",method(e,t={}){Qe(e instanceof RegExp,"regex must be a RegExp"),Qe(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),typeof t=="string"&&(t={name:t}),Un.assertOptions(t,["invert","name"]);let n=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:n})},validate(e,t,{regex:n,options:r},{errorCode:s}){return n.test(e)^r.invert?e:t.error(s,{name:r.name,regex:n,value:e})},args:["regex","options"],multi:!0},replace:{method(e,t){typeof e=="string"&&(e=new RegExp(YM(e),"g")),Qe(e instanceof RegExp,"pattern must be a RegExp"),Qe(typeof t=="string","replacement must be a String");let n=this.clone();return n.$_terms.replacements||(n.$_terms.replacements=[]),n.$_terms.replacements.push({pattern:e,replacement:t}),n}},token:{method(){return this.$_addRule("token")},validate(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method(e=!0){return Qe(typeof e=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate(e,t,{enabled:n}){return!n||e===e.trim()?e:t.error("string.trim")},convert:!0},truncate:{method(e=!0){return Qe(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){Un.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&Un.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let{regex:t,scheme:n}=eie.regex(e),r=e.domain?He.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:r,scheme:n})},validate(e,t,{options:n},{regex:r,domain:s,scheme:a}){if(["http:/","https:/"].includes(e))return t.error("string.uri");let i=r.exec(e);if(i){let o=i[1]||i[2];return s&&(!n.allowRelative||o)&&!mh.isValid(o,s)?t.error("string.domain",{value:o}):e}return n.relativeOnly?t.error("string.uriRelativeOnly"):n.scheme?t.error("string.uriCustomScheme",{scheme:a,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(let{pattern:n,replacement:r}of t.replacements)e=e.replace(n,r);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}});He.addressOptions=function(e){if(!e||(Qe(e.minDomainSegments===void 0||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),Qe(e.maxDomainSegments===void 0||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),e.tlds===!1))return e;if(e.tlds===!0||e.tlds===void 0)return Qe(He.tlds,"Built-in TLD list disabled"),Object.assign({},e,He.tlds);Qe(typeof e.tlds=="object","tlds must be true, false, or an object");let t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),Qe(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),Qe(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),He.validateTlds(e.tlds.deny,"tlds.deny"),e;let n=e.tlds.allow;return n?n===!0?(Qe(He.tlds,"Built-in TLD list disabled"),Object.assign({},e,He.tlds)):(Array.isArray(n)&&(e=Object.assign({},e,{tlds:{allow:new Set(n)}})),Qe(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),He.validateTlds(e.tlds.allow,"tlds.allow"),e):e};He.validateTlds=function(e,t){for(let n of e)Qe(mh.isValid(n,{minDomainSegments:1,maxDomainSegments:1}),`${t} must contain valid top level domain names`)};He.isoDate=function(e){if(!Un.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()};He.length=function(e,t,n,r,s){return Qe(!s||Buffer&&Buffer.isEncoding(s),"Invalid encoding:",s),e.$_addRule({name:t,method:"length",args:{limit:n,encoding:s},operator:r})}});var nU=T((iue,tU)=>{"use strict";var hh=Ve(),nie=Ir(),gx={};gx.Map=class extends Map{slice(){return new gx.Map(this)}};tU.exports=nie.extend({type:"symbol",terms:{map:{init:new gx.Map}},coerce:{method(e,{schema:t,error:n}){let r=t.$_terms.map.get(e);return r&&(e=r),!t._flags.only||typeof e=="symbol"?{value:e}:{value:e,errors:n("symbol.map",{map:t.$_terms.map})}}},validate(e,{error:t}){if(typeof e!="symbol")return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&typeof e=="object"&&(e=Object.entries(e)),hh(e&&e[Symbol.iterator],"Iterable must be an iterable or object");let t=this.clone(),n=[];for(let r of e){hh(r&&r[Symbol.iterator],"Entry must be an iterable");let[s,a]=r;hh(typeof s!="object"&&typeof s!="function"&&typeof s!="symbol","Key must not be of type object, function, or Symbol"),hh(typeof a=="symbol","Value must be a Symbol"),t.$_terms.map.set(s,a),n.push(a)}return t.valid(...n)}}},manifest:{build(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})});var aU=T((lue,sU)=>{"use strict";var rie=Ve(),sie=Ir(),rU=ct();sU.exports=sie.extend({type:"binary",coerce:{from:"string",method(e,{schema:t}){try{return{value:Buffer.from(e,t._flags.encoding)}}catch{}}},validate(e,{error:t}){if(!Buffer.isBuffer(e))return{value:e,errors:t("binary.base")}},rules:{encoding:{method(e){return rie(Buffer.isEncoding(e),"Invalid encoding:",e),this.$_setFlag("encoding",e)}},length:{method(e){return this.$_addRule({name:"length",method:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:n},{name:r,operator:s,args:a}){return rU.compare(e.length,n,s)?e:t.error("binary."+r,{limit:a.limit,value:e})},args:[{name:"limit",ref:!0,assert:rU.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}}},cast:{string:{from:e=>Buffer.isBuffer(e),to(e,t){return e.toString()}}},messages:{"binary.base":"{{#label}} must be a buffer or a string","binary.length":"{{#label}} must be {{#limit}} bytes","binary.max":"{{#label}} must be less than or equal to {{#limit}} bytes","binary.min":"{{#label}} must be at least {{#limit}} bytes"}})});var K1=T((uue,uU)=>{"use strict";var nl=Ve(),aie=Cn(),iie=X1(),tl=ct(),oie=Qo(),bx=Ea(),lie=L1(),iU=Y1(),_x=Oa(),oU=vi(),lU=J1(),yh,Vt={types:{alternatives:rM(),any:Ir(),array:aM(),boolean:cM(),date:mM(),function:SM(),link:RM(),number:IM(),object:BM(),string:eU(),symbol:nU()},aliases:{alt:"alternatives",bool:"boolean",func:"function"}};Buffer&&(Vt.types.binary=aU());Vt.root=function(){let e={_types:new Set(Object.keys(Vt.types))};for(let t of e._types)e[t]=function(...n){return nl(!n.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),Vt.generate(this,Vt.types[t],n)};for(let t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...n){return this.any()[t](...n)};Object.assign(e,Vt.methods);for(let t in Vt.aliases){let n=Vt.aliases[t];e[t]=e[n]}return e.x=e.expression,lU.setup&&lU.setup(e),e};Vt.methods={ValidationError:bx.ValidationError,version:tl.version,cache:iie.provider,assert(e,t,...n){Vt.assert(e,t,!0,n)},attempt(e,t,...n){return Vt.assert(e,t,!1,n)},build(e){return nl(typeof iU.build=="function","Manifest functionality disabled"),iU.build(this,e)},checkPreferences(e){tl.checkPreferences(e)},compile(e,t){return oie.compile(this,e,t)},defaults(e){nl(typeof e=="function","modifier must be a function");let t=Object.assign({},this);for(let n of t._types){let r=e(t[n]());nl(tl.isSchema(r),"modifier must return a valid schema object"),t[n]=function(...s){return Vt.generate(this,r,s)}}return t},expression(...e){return new oU(...e)},extend(...e){tl.verifyFlat(e,"extend"),yh=yh||Zm(),nl(e.length,"You need to provide at least one extension"),this.assert(e,yh.extensions);let t=Object.assign({},this);t._types=new Set(t._types);for(let n of e){typeof n=="function"&&(n=n(t)),this.assert(n,yh.extension);let r=Vt.expandExtension(n,t);for(let s of r){nl(t[s.type]===void 0||t._types.has(s.type),"Cannot override name",s.type);let a=s.base||this.any(),i=lie.type(a,s);t._types.add(s.type),t[s.type]=function(...o){return Vt.generate(this,i,o)}}}return t},isError:bx.ValidationError.isError,isExpression:oU.isTemplate,isRef:_x.isRef,isSchema:tl.isSchema,in(...e){return _x.in(...e)},override:tl.symbols.override,ref(...e){return _x.create(...e)},types(){let e={};for(let t of this._types)e[t]=this[t]();for(let t in Vt.aliases)e[t]=this[t]();return e}};Vt.assert=function(e,t,n,r){let s=r[0]instanceof Error||typeof r[0]=="string"?r[0]:null,a=s!==null?r[1]:r[0],i=t.validate(e,tl.preferences({errors:{stack:!0}},a||{})),o=i.error;if(!o)return i.value;if(s instanceof Error)throw s;let l=n&&typeof o.annotate=="function"?o.annotate():o.message;throw o instanceof bx.ValidationError||(o=aie(o)),o.message=s?`${s} ${l}`:l,o};Vt.generate=function(e,t,n){return nl(e,"Must be invoked on a Joi instance."),t.$_root=e,!t._definition.args||!n.length?t:t._definition.args(t,...n)};Vt.expandExtension=function(e,t){if(typeof e.type=="string")return[e];let n=[];for(let r of t._types)if(e.type.test(r)){let s=Object.assign({},e);s.type=r,s.base=t[r](),n.push(s)}return n};uU.exports=Vt.root()});var pie={};xU(pie,{handler:()=>fie});module.exports=kU(pie);var Dh=class{constructor(t,n,r,s,a){this.email=t;this.card_number=n;this.expiration_year=r;this.expiration_month=s;this.cvv=a;this.email,this.card_number,this.expiration_year,this.expiration_month,this.cvv}hiddenInformation(){return new Ph(this.email,this.card_number,this.expiration_year,this.expiration_month)}},Ph=class{constructor(t,n,r,s){this.email=t;this.card_number=n;this.expiration_year=r;this.expiration_month=s}},mp=Dh;async function Ex(e){let t=JSON.parse(e);return new mp(t.email,t.card_number,t.expiration_year,t.expiration_month,t.cvv).hiddenInformation()}function Ox(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";for(let r=0;r<e;r++){let s=Math.floor(Math.random()*t.length);n+=t.charAt(s)}return n}var QB=wx(YB()),Fse=new QB.default,Aa=Fse;async function JB(e){try{Aa.status==="end"&&await Aa.connect();let t=Ox(16);return await Aa.setex(t,900,JSON.stringify(e)),t}catch{throw new Error("An internal error occurred.")}finally{await Aa.quit()}}async function ZB(e){try{Aa.status==="end"&&await Aa.connect();let t=await Aa.get(e.token),n=t?200:404,r=t?"Token found":"Token not found or expired";if(t){let s=await Ex(t);return{statusCode:n,message:r,data:s}}else return{statusCode:n,message:r,data:{}}}catch{throw new Error("An internal error occurred.")}finally{await Aa.quit()}}var P1=class{constructor(t,n,r){this.status=t;this.message=n;this.data=r;this.status=t,this.message=n,this.data=r}response(){return{statusCode:this.status,headers:{"Content-Type":"application/json"},body:JSON.stringify(this)}}responseToken(){return{statusCode:this.status,headers:{"Content-Type":"application/json"},body:JSON.stringify({status:this.status,data:this.data})}}},Ei=P1;var rs=wx(K1()),cU=new Date().getFullYear(),uie=["gmail.com","hotmail.com","yahoo.es"],cie=(e,t)=>{let n=e.split("@")[1];return uie.includes(n)?e:t.error("any.invalid")},fU=rs.object({email:rs.string().email({minDomainSegments:2,tlds:{allow:["com","es"]}}).custom(cie).required(),card_number:rs.string().creditCard().required(),cvv:rs.string().when("card_number",{is:/^4[0-9]{12}(\d{3})?$/,then:rs.string().length(3).valid("123"),otherwise:rs.string().length(4).valid("4532")}).required(),expiration_year:rs.number().integer().min(cU).max(cU+5).required(),expiration_month:rs.number().integer().min(1).max(12).required()});var xx=e=>e==="Bearer pk_test_LsRb12fdsvdew21";var pU=async e=>{try{let t=e.headers.Authorization;if(!xx(t))return new Ei(401,"Invalid or missing header token",{}).response();let r=JSON.parse(e.body),{error:s}=fU.validate(r);if(s)return new Ei(404,s.message,{}).response();let{email:a,card_number:i,expiration_year:o,expiration_month:l,cvv:u}=r,c=new mp(a,i,o,l,u),f=await JB(c);return new Ei(200,"Card registered",{token:f}).responseToken()}catch{return new Ei(500,"An internal error occurred.",{}).response()}},dU=async e=>{try{let t=e.headers.Authorization;if(!xx(t))return new Ei(401,"Invalid or missing header token",{}).response();let r=JSON.parse(e.body),{statusCode:s,message:a,data:i}=await ZB(r);return new Ei(s,a,i).response()}catch{return new Ei(500,"An internal error occurred.",{}).response()}};var Jf=class extends Error{constructor(n,r){super(r);this.status=n;this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}},gh=class extends Jf{constructor(t){super(401,t)}};var mU=async e=>{if(e.httpMethod!=="POST")throw new gh("No found");switch(e.path){case"/tokens":return await pU(e);case"/gettokens":return await dU(e);default:throw new Jf(404,"Invalid API route")}};var fie=async e=>await mU(e);0&&(module.exports={handler});
/*! Bundled license information:

tmp/lib/tmp.js:
  (*!
   * Tmp
   *
   * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
   *
   * MIT Licensed
   *)

fengari/src/fengari.js:
  (**
  @license MIT
  
  Copyright © 2017-2018 Benoit Giannangeli
  Copyright © 2017-2018 Daurnimator
  Copyright © 1994–2017 Lua.org, PUC-Rio.
  *)
*/
//# sourceMappingURL=card-handler.js.map
